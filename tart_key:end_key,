[33mcommit d5cfbe093057f3b20aa639d6c8753441f6a5af72[m[33m ([m[1;36mHEAD -> [m[1;32msplit[m[33m, [m[1;31morigin/split[m[33m)[m
Merge: c195bcf8 b3e969f0
Author: lhy1024 <admin@liudos.us>
Date:   Tue Apr 21 23:50:07 2020 +0800

    Merge branch 'master' of https://github.com/tikv/tikv into split

[33mcommit c195bcf8cd4d31627927309df1329319e0c91e56[m
Author: lhy1024 <admin@liudos.us>
Date:   Tue Apr 21 23:48:50 2020 +0800

    remove function
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit b3e969f08ad71b34dea7602e62e4a83c88dd9f93[m
Author: Devdutt Shenoi <devdutt@outlook.in>
Date:   Tue Apr 21 20:56:27 2020 +0530

    Correction in CONTRIBUTING.md (#6740)
    
    Signed-off-by: Devdutt Shenoi <devdutt@outlook.in>

[33mcommit f9e49237e587e5739c67845cf9fb3f4da11d57d2[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Tue Apr 21 22:58:59 2020 +0800

    txn: don't protect rollback for BatchRollback (#7494)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit d37dac2aed8105714c0cb7ac851331ddfefdfbc0[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Tue Apr 21 22:35:08 2020 +0800

    raftstore: consider wake-up msg when checking stale msg in peer fsm (#7592)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>

[33mcommit 3dbcfe6f0a170b4326d2bc7f9cea71d1b6c5f8b1[m
Merge: d35f178d 3499c72c
Author: lhy1024 <admin@liudos.us>
Date:   Tue Apr 21 20:55:25 2020 +0800

    Merge branch 'master' of github.com:tikv/tikv into split

[33mcommit d35f178dce8d599f23a818a04b41971599244937[m
Author: lhy1024 <admin@liudos.us>
Date:   Tue Apr 21 20:55:14 2020 +0800

    fmt
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 91fd4c1dce8a65a01973a4145ad9f9eba76eabff[m
Author: lhy1024 <admin@liudos.us>
Date:   Tue Apr 21 20:50:47 2020 +0800

    fix ci
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 3499c72c032f31a8a89aaa76115825497f945967[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Apr 21 20:34:58 2020 +0800

    tests: make pause split cases stable (#7578)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 2d709800e2a8e58f509738b8e380c15f277b32d9[m
Merge: aff6da46 6b60d57b
Author: lhy1024 <admin@liudos.us>
Date:   Tue Apr 21 20:26:58 2020 +0800

    Merge branch 'master' into split

[33mcommit b64b286cd2269af7e1eee7424d429d803ff7c1f9[m
Author: kennytm <kennytm@gmail.com>
Date:   Tue Apr 21 20:01:01 2020 +0800

    sst_importer: enable the hard link check on all Unix systems (#7591)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit aff6da465c9b1457eb1a36491227c99356b5b9a4[m
Author: lhy1024 <admin@liudos.us>
Date:   Tue Apr 21 18:55:43 2020 +0800

    merge qps_stats and flow_stats
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 6b60d57b23bf2a86cb0746bd48c2bdd1ec8a553f[m
Author: zhongzc <zhongzc_arch@outlook.com>
Date:   Tue Apr 21 14:14:56 2020 +0800

    tidb_query: fix the logical behavior of floats (#7342)
    
    Signed-off-by: zhongzc <zhongzc_arch@outlook.com>

[33mcommit d1eadfb1f575098340fd5363e0375acc25364c04[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Tue Apr 21 01:19:59 2020 +0800

    config: move config update interface from pd to status server (#7495)
    
    * config: move config update interface from pd to status server
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit ee4c92d8cb0fbf1731f0e24ea3bb483826686fe5[m
Author: mwish <1506118561@qq.com>
Date:   Mon Apr 20 21:11:22 2020 +0800

    server: Rename: Rename `binary_path` to `deploy_path`. (#7562)
    
    * Rename: Rename `binary_path` to `deploy_path`.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [FiX] Fix the compile problem.
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit b2a27d2175dc90ff876655aa64b0d3740957a444[m
Author: zhongzc <zhongzc_arch@outlook.com>
Date:   Mon Apr 20 18:48:29 2020 +0800

    tidb_query: add is true/false keep null ScalarFuncSig (#7532)
    
    Signed-off-by: zhongzc <zhongzc_arch@outlook.com>

[33mcommit cef1015232bd6a6b3fb477a9d37fc90c21902f24[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Mon Apr 20 02:55:27 2020 -0700

    external_storage: add GCS support (#6283)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 3ffea91761a2212581c146cd8b547bc117d74b8b[m
Author: Renkai <gaelookair@gmail.com>
Date:   Mon Apr 20 17:19:57 2020 +0800

    use more thread local static metrics in `src/storage/metrics.rs` (#7461)
    
    Signed-off-by: Renkai <gaelookair@gmail.com>

[33mcommit 700f23b322142269b6e3f8cc08c7e2c05d8c08a7[m
Author: Maxwell <passagesfall@gmail.com>
Date:   Mon Apr 20 15:44:21 2020 +0800

    tikv_util: fix compatibility issue in tikv rotating log file naming (#7437)
    
    Signed-off-by: Deardrops <passagesfall@gmail.com>

[33mcommit 24625c43f90bf23618d8acf2fd5b3fb2c5cd082a[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Mon Apr 20 13:27:09 2020 +0800

    diagnose server: Fix cpu usage and support MacOS (#7524)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 635b02db82445fa92676ad41e3ce63c0d7385730[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Sun Apr 19 22:03:57 2020 -0700

    encryption: Fix panic when restore backup when encryption is enabled (#7519)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit b4dd42f649519f7d3b7e3061ad08f26b99ce5818[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Apr 20 12:15:27 2020 +0800

    txn: only wake up waiters when locks are indeed released (#7379)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 4175d681d9e002af8f8326392ed27418b73363e0[m
Author: zhongzc <zhongzc_arch@outlook.com>
Date:   Mon Apr 20 11:15:17 2020 +0800

    tidb_query: fix converting bytes to bool (#7486)
    
    Signed-off-by: zhongzc <zhongzc_arch@outlook.com>

[33mcommit 7887c24822e2f049f97fa6b2b1b4044bae551ee6[m
Author: qupeng <qupeng@pingcap.com>
Date:   Mon Apr 20 10:52:23 2020 +0800

    raft_client: calculate batch size more approximately (#7522)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit bd21a5b5c4a62e2bc57fa3f762227f2fc7aa2d1f[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sun Apr 19 19:49:53 2020 +0800

    kv_service: fix batch empty request deadlock (#7535)

[33mcommit f5ee17b3101a24aafb897a76fbf3524fb19ccc58[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Apr 17 22:35:03 2020 +0800

    Makefile: fix make docker (#7498)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 5eabfa4b57d701ddd7ffbf2f643a0129c38696ab[m
Merge: 7747cb2a 2a817a08
Author: lhy1024 <admin@liudos.us>
Date:   Fri Apr 17 21:49:39 2020 +0800

    Merge branch 'master' into split

[33mcommit 7747cb2a62ebe1193152983075f584c19669262e[m
Author: lhy1024 <admin@liudos.us>
Date:   Fri Apr 17 17:58:46 2020 +0800

    address comment
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit c8a8cc3aa8f54748c0095094d7cb2ef513c9b94b[m
Author: lhy1024 <admin@liudos.us>
Date:   Fri Apr 17 15:19:35 2020 +0800

    address comment
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 2a817a08363ccd2c86ae7ed8e0a424ee5ae22c79[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Fri Apr 17 12:11:18 2020 +0800

    conf: check storage or coprocessor readpool config when partially unified (#7387)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit e76005b808e865996fe51dab3b133f5a03ead8ab[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Thu Apr 16 21:43:51 2020 -0600

    raftstore: Convert RocksEngine to type parameters (#7371)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 7d13ca02374582bd7714d3298efb74909d69ca64[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Fri Apr 17 09:27:52 2020 +0800

    *: reduce sys_getdents syscall (#7306)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 6411ffeb1c564949e685712a5780a8c904c37e7a[m
Author: TXXT <hunterlxt@live.com>
Date:   Thu Apr 16 21:34:20 2020 +0800

    cmd: add uid flag for TIKV_LOCK_FILES (#7470)
    
    Signed-off-by: TXXT <hunterlxt@live.com>

[33mcommit 00812bdf682aa2b73e432abed184f554e90bfd51[m
Author: crazycs <crazycs520@gmail.com>
Date:   Thu Apr 16 21:06:47 2020 +0800

    diagnose: fix disk used percent information (#7487)
    
    Signed-off-by: crazycs520 <crazycs520@gmail.com>

[33mcommit fb7e39dc1388cb8954c787d78a9be9990a7795eb[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Apr 16 20:05:48 2020 +0800

    tests: add restart test case for #6648 (#7458)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 22bdc46e8307ba90736412fae2b8af0693684667[m
Author: Liu Cong <liucong@pingcap.com>
Date:   Thu Apr 16 15:22:01 2020 +0800

    cop: Fixed issue #6690 Coprocessor Cache is unsound (#7095)
    
    Signed-off-by: Liu Cong <innerr@gmail.com>

[33mcommit d86b3e1c8ae1a37b5ec931f08b4ef63a74ca78e9[m
Author: lhy1024 <admin@liudos.us>
Date:   Thu Apr 16 13:44:43 2020 +0800

    address comment
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 883d546a6389d10fe54bcabdc2edef0454dc3d0f[m
Author: lhy1024 <admin@liudos.us>
Date:   Thu Apr 16 13:35:08 2020 +0800

    address comment
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 0b791c568e29bb469b1652f42567f7e3e3d2b6f5[m
Merge: 2f0f665c eacae77b
Author: lhy1024 <admin@liudos.us>
Date:   Thu Apr 16 03:47:39 2020 +0800

    Merge branch 'master' of github.com:tikv/tikv into split

[33mcommit 2f0f665c7b55a9bcba4a10e14cebd2433afe14b8[m
Author: lhy1024 <admin@liudos.us>
Date:   Thu Apr 16 03:27:28 2020 +0800

    fmt
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit cdcd08f4c5582331e4bebaee63ba5d88ea2c04bc[m
Author: lhy1024 <admin@liudos.us>
Date:   Thu Apr 16 02:44:22 2020 +0800

    address comment
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit eacae77b9712812c1f62202d8cf4db44b2385b6a[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Wed Apr 15 21:58:39 2020 +0800

    raftstore: consider wake-up msg when checking stale msg (#7416)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>

[33mcommit 54ee7e1376f7d62f2301fbdf6f5ba5f2ed624f85[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Wed Apr 15 12:35:11 2020 +0800

    rust-rocksdb: Export encryption perf context api (#7450)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit e9fb520a80799d0a3e0a8eb151503f78a4b8b4bc[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Apr 15 11:48:48 2020 +0800

    encryption: add metrics (#7225)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    Signed-off-by: TXXT <hunterlxt@live.com>

[33mcommit 0cbcba628d52d48a56e56353edf8ed6ca08d13f3[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Apr 15 11:06:05 2020 +0800

    raftstore: add detail log for large region (#7254)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    Signed-off-by: Connor <zbk602423539@gmail.com>

[33mcommit f2e7a835f61734409c5174a208164348b7326d6d[m
Author: kennytm <kennytm@gmail.com>
Date:   Wed Apr 15 00:28:25 2020 +0800

    tests: split test_ingest_sst into two tests (#7359)
    
    * tests: split test_ingest_sst into two tests
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * tests: fix rustfmt
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * tests: remove the failpoint test
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    Co-authored-by: pingcap-github-bot <sre-bot@pingcap.com>

[33mcommit e9cc528cc22d6bb41f4dfd3f4bb4783f1b99cc97[m[33m ([m[1;32mr3[m[33m, [m[1;32mmaster[m[33m)[m
Merge: e952c965 a6844a14
Author: ShuNing <nolouch@gmail.com>
Date:   Wed Apr 15 00:10:21 2020 +0800

    Merge branch 'master' into split

[33mcommit a6844a14cc92d1b2f37e580c86e0cc3e56f060ac[m
Author: Fu Chen <cfworking@163.com>
Date:   Tue Apr 14 23:59:35 2020 +0800

    add verkv unimplemented functions (#7449)
    
    Signed-off-by: fredchenbj <cfworking@163.com>
    
    Co-authored-by: pingcap-github-bot <sre-bot@pingcap.com>
    Co-authored-by: kennytm <kennytm@gmail.com>

[33mcommit a58b4e4f6634ef2308b00e7edd598ebac8dbd3be[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Apr 14 23:11:10 2020 +0800

    encryption: encrypt EncryptedContent by AES256-GCM (#7410)
    
    * encryption: encrypt EncryptedContent by AES256-GCM
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: use box_err to simplify error
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: add IV for both CTR and GCM mode
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: do not support change configuration dynamically
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 3b03c13ba1573876dd6d047067f942c4d2874d46[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Tue Apr 14 20:22:05 2020 +0800

    raftstore: check state after resuming apply fsm (#7444)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>

[33mcommit 7935019849d46b7d32b1a6b0d14e795cd7da1591[m
Author: qupeng <qupeng@pingcap.com>
Date:   Tue Apr 14 19:53:18 2020 +0800

    encryption: support encryption in snapshots (#7403)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>
    
    Co-authored-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 22d8aadd56b73161eb98ea0a61839076657c8d4b[m
Author: TXXT <hunterlxt@live.com>
Date:   Tue Apr 14 19:06:18 2020 +0800

    Fix the wrong judgment expression (#7452)
    
    Signed-off-by: TXXT <hunterlxt@live.com>

[33mcommit e952c9656f0e5981ac4e6ef97eb841d407195c4b[m
Merge: b064c172 2b1b9b2c
Author: lhy1024 <admin@liudos.us>
Date:   Tue Apr 14 18:27:56 2020 +0800

    Merge branch 'master' into split

[33mcommit 2b1b9b2cd537e47591795dc034b59a0585cfe7a8[m
Author: Renkai <gaelookair@gmail.com>
Date:   Tue Apr 14 15:43:40 2020 +0800

    *: Remove tls metrics group (#7432)
    
    Signed-off-by: Renkai <gaelookair@gmail.com>

[33mcommit ec3cb5cdc3748c5ad104aa6dc795a8af8b040af4[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Tue Apr 14 13:19:40 2020 +0800

    copr: Add more metrics for waiting stages (#7398)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit b064c1729dcfd9fc0ca8838b3ed5e99ae6609eae[m
Author: lhy1024 <admin@liudos.us>
Date:   Tue Apr 14 12:35:28 2020 +0800

    fix ci
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 1c631b9457d66b944b34550712cf7124def4ea6c[m
Merge: 91ba6650 670dbb0e
Author: ShuNing <nolouch@gmail.com>
Date:   Tue Apr 14 11:30:48 2020 +0800

    Merge branch 'master' into split

[33mcommit 670dbb0e6dce901b1037aa7b63a08c725fe942b8[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Tue Apr 14 07:13:43 2020 +0800

    rust-rocksdb: rocksdb: Fix wrong key being read on ingested file with global seqno and delta encoding (facebook#6669) (#7420)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit 91ba66501d5beaad08108db687ec3d05e871f533[m
Merge: 723ebb03 877c75b1
Author: lhy1024 <admin@liudos.us>
Date:   Mon Apr 13 22:19:49 2020 +0800

    Merge branch 'master' into split

[33mcommit 877c75b165a172447267cbd6cfb2aa7702fe608e[m
Author: lhy1024 <admin@liudos.us>
Date:   Mon Apr 13 22:18:09 2020 +0800

    add load base split config and controller (#7401)
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 2c5dad365bc80e9add8e23ea5cb907791d2dcc92[m
Author: TXXT <hunterlxt@live.com>
Date:   Mon Apr 13 21:41:11 2020 +0800

    cmd: add file lock to work around port conflict (#7355)
    
    Signed-off-by: TXXT <hunterlxt@live.com>

[33mcommit 16f229b4a33573b73b859b437cc9bf08985c5e2c[m
Author: lhy1024 <admin@liudos.us>
Date:   Mon Apr 13 19:43:12 2020 +0800

    Update README (#7421)
    
    Signed-off-by: lhy1024 <admin@liudos.us>
    
    Co-authored-by: pingcap-github-bot <sre-bot@pingcap.com>

[33mcommit 7b938f3d669c6c0daafe6dd1ae50c9473a525104[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Apr 13 17:02:15 2020 +0800

    cdc: fix deregister ABA problem and support cancel incremental scan  (#7433)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit bd16634c4c5fc90de73b9d5676fd4903bf8d016d[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Mon Apr 13 16:19:14 2020 +0800

    txn: ignore lock when ts is less than min_commit_ts (#7423)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>

[33mcommit d2c269b823913a6ae9f12ea5c4c90db1ad000add[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Mon Apr 13 04:57:14 2020 +0800

    Remove `get_db` of `engine_traits::Snapshot` (#7411)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit 723ebb03a65ad7b5f87b9fd3d721d7b46f09ba7f[m
Author: lhy1024 <admin@liudos.us>
Date:   Sun Apr 12 22:54:55 2020 +0800

    fmt
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 8d82d08f9b855261969512c2d110a3690c33e9a6[m
Author: lhy1024 <admin@liudos.us>
Date:   Sun Apr 12 22:41:58 2020 +0800

    address comment
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 3a547b9aba1df43d72f59703baad15a8ca610ee1[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Fri Apr 10 21:36:40 2020 +0800

    raftkv: enhance failpoint raftkv_early_error_report (#7260)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 66cecaa09c4324f669b1a11c73f920324df31f99[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Apr 10 20:27:14 2020 +0800

    *: remove quorum algorithm (#7376)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit ce111fbecc978c1a553d623814ab9ea5626b6a62[m
Author: Qiannan <lvqiannan@gmail.com>
Date:   Fri Apr 10 23:45:10 2020 +1200

    copr: Migrate scalar function `Lpad` from TiDB  (#7300)
    
    Signed-off-by: Qiannan Lyu <lvqiannan@gmail.com>

[33mcommit faa42d24a5cba23a301fc1630bb33b48fe7d9aef[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Fri Apr 10 17:37:16 2020 +0800

    cdc: check leadership before advancing resolved ts (#7390)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit c018ce7f9427189bbc57226b926f4b6a9d26f475[m
Author: 3pointer <luancheng@pingcap.com>
Date:   Fri Apr 10 16:58:48 2020 +0800

    sst_importer: skip validation in ingest temporary until we can handle sst file size correctly (#7415)
    
    Signed-off-by: luancheng <luancheng@pingcap.com>

[33mcommit ac398e271533d3243623a7bd3468852cfeb3b8b4[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Fri Apr 10 12:52:40 2020 +0800

    cdc: remove scan cache & add observe id (#7278)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit a00b00877db7ecf9ac60a1a99d1bcc7a6b84cc24[m
Author: TXXT <hunterlxt@live.com>
Date:   Thu Apr 9 22:13:40 2020 +0800

    Protect correct lifetime for lock file (#7407)
    
    Signed-off-by: TXXT <hunterlxt@live.com>

[33mcommit 37dccf4ee0268ab205fe066ebe0c8ef964adc3fe[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu Apr 9 21:43:13 2020 +0800

    util: stablize test tikv_util::future_pool::test_tick (#7409)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 020b8a46147c4884e7f9cf6372b9c1d62546ee46[m
Author: lhy1024 <admin@liudos.us>
Date:   Thu Apr 9 20:22:40 2020 +0800

    address comments
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 6037928eff2a3a42b64f449caf983eec7427bbe1[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Thu Apr 9 18:15:42 2020 +0800

    raftstore: set term in read index response (#7372)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>

[33mcommit f16e1d11442799dc042ac7eed9a4d1327a68aa7b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Apr 9 14:45:11 2020 +0800

    *: make ChangeCmd as a significant message (#7377)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 94316e3c51f3da79c63f2e05ebc6dec10023585b[m
Author: lhy1024 <admin@liudos.us>
Date:   Thu Apr 9 02:39:45 2020 +0800

    load base split
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit a006e5b5ae6a39c1f8a5cc10581ce2a0b774a65a[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Thu Apr 9 02:07:11 2020 +0800

    copr: Add back missing signatures (#7399)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 16658acc4e64ebe17b11c0d321061e10e6316ba8[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Wed Apr 8 22:23:09 2020 +0800

    util: use yatp for the future_pool (#7348)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 493654fe19077345210a3223263250996de8b4da[m
Author: Renkai <gaelookair@gmail.com>
Date:   Wed Apr 8 20:51:44 2020 +0800

    Improve TiKV metrics performance for tidb_query&engine_rocks (#7267)
    
    Signed-off-by: Renkai <gaelookair@gmail.com>

[33mcommit 09c914a7be978e25cdf3ed8f6578de431884bcff[m
Author: Renkai <gaelookair@gmail.com>
Date:   Wed Apr 8 13:20:26 2020 +0800

    Make metrics of raftstore worker static & thread localize (#7274)
    
    Signed-off-by: Renkai <gaelookair@gmail.com>

[33mcommit cc67b7f944784cc6add70f5285631dc8519abc92[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Wed Apr 8 10:46:56 2020 +0800

    txn: write protected rollback when cleanup with missing lock (#7365)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit 848c33914637f5d2fec4a4e50c0d41b41b62b70c[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Apr 7 20:17:57 2020 -0600

    Replace uses of DB with RocksEngine in tikv (#7368)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit a79d90836cf8b7b17b9f610402bf3c3e50e0cb50[m
Author: qupeng <qupeng@pingcap.com>
Date:   Tue Apr 7 13:10:57 2020 +0800

     raftstore: tolerate out of order read index responses (#7313)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 169af98331cd26ee8553bd2f29d4727430544f9c[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Apr 6 11:01:57 2020 +0800

    update dependencies (#7366)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit e364a78865ce640d527c7e6167df6abc425e9954[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Apr 6 04:17:26 2020 +0800

    tests: make snapshot generate stable (#7304)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 4a6f588ffd58e9d602c57ad5fc42ca2d1c605542[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sun Apr 5 20:07:26 2020 +0800

    encryption: support AWS KMS backend  (#7173)
    
    * encryption: basic AWS KMS support
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: add encryption cli
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryptoin: generate master from KMS
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: refine encryption cli
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: add KMS vendor to metadata
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: upgrade rusoto_kms
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: use structopt instead of clap
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: add license header
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: use rusoto util to create KMS client
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: share common encrytion backend between file and kms
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: attach ciphertext key to metdata
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: add kms config test
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit c3f9fba14b04811e77614bcd50007bad17e251c3[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Thu Apr 2 23:58:42 2020 -0700

    engine: enable static_libcpp feature of rust-rocksdb (#7339)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit a12f9f8079d7984e9cd64ab2d0569afe0e95a6ec[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Fri Apr 3 14:29:10 2020 +0800

    cdc: observe region changed events (#7356)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit bd012004948199e95a83c02fff50974939a833b5[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Thu Apr 2 23:13:41 2020 -0600

    Remove protobuf dependencies from engine crate (#7320)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 50397a6e9f9e4f80ac640ec2b4bf6b1315ebb9d7[m
Author: WT <liuwenting@pingcap.com>
Date:   Thu Apr 2 16:47:55 2020 +0800

    update the tikv adopters (#7310)
    
    Signed-off-by: Wenting Liu <liuwenting@pingcap.com>

[33mcommit 3b11b678830a06e67bca0e68bf2fbe1c336a060e[m
Author: Zhongyang Wu <zhongyang.wu@outlook.com>
Date:   Wed Apr 1 10:17:32 2020 -0400

    copr: add vectorized last_day (#7086)
    
    Signed-off-by: zhongyang.wu <zhongyang.wu@outlook.com>

[33mcommit e43a6e304c3d364bddd3f7a44bc6b0c27e3844cc[m
Author: SSebo <ssebo.zzz@gmail.com>
Date:   Wed Apr 1 21:26:03 2020 +0800

    ucp 7058: raftstore: pause split check when bulk insert (#7221)
    
    Signed-off-by: ssebo <ssebo.zzz@gmail.com>

[33mcommit badaeb2e5b0bf29fd7613637d5405b96f645b11e[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Wed Apr 1 20:31:04 2020 +0800

    txn: PessimisticLock with min_commit_ts (#7291)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 98b3ca3eebee9ea17f260d2761de53a97363cc20[m
Author: WT <liuwenting@pingcap.com>
Date:   Wed Apr 1 18:50:33 2020 +0800

    update the tikv community meeting (#7219)
    
    Signed-off-by: Wenting Liu <liuwenting@pingcap.com>

[33mcommit e41218eb252f3eaf0c07ab9bc58ca4690c5d24f8[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Apr 1 02:49:34 2020 -0600

    Remove iterator code from engine crate (#7321)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 59bb32507d0a33570128d74998f5f19f2666ebf4[m
Author: Renkai <gaelookair@gmail.com>
Date:   Wed Apr 1 16:17:47 2020 +0800

    Localize metrics in components/raftstore/src/store/metrics.rs (#7287)
    
    * localize some metric
    
    Signed-off-by: Renkai <gaelookair@gmail.com>

[33mcommit 496ca5a4ae53bd095dd901bfd802f87d86622359[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Tue Mar 31 21:47:44 2020 -0700

    Store encryption_key_manager in TiKVServer (#7323)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 0969313ecf59d264457f3c09473ddc5a4ece9cfb[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Wed Apr 1 12:25:13 2020 +0800

    rust-rocksdb: add interface corresponds to the Logger interface (#7308)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit 040e73bb497156ba37c53c65cd12550e0d526032[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Mar 31 15:50:43 2020 -0600

    Make engine only a dev-dependency of raftstore (#7164)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 4d1c3a5c3e85d507396c6ae2a858dcf143c1692c[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Tue Mar 31 02:27:43 2020 -0700

    *: Add encryption config (#7198)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit d2b19206e1178966ed77fc9b5361f8078fb4659e[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Mar 31 13:57:15 2020 +0800

    cdc: Carry a request id in events to distinguish events of different requests (#7215)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 5ee4bc99f008e3c0063cfab99c3b99caea47ae32[m
Author: Fullstop000 <fullstop1005@gmail.com>
Date:   Tue Mar 31 13:05:13 2020 +0800

    diagnostics: fix test_search (#7273)
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>

[33mcommit 3e460b9c2669eea733cefdcce027a09926cc4e44[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Tue Mar 31 08:45:44 2020 +0800

    MAINTAINER: remove senior maintainer role (#7286)
    
    * remove senior maintainer role
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit a45cbffcee7b955079eb8f3f99d3da9047554017[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Mar 30 18:51:43 2020 +0800

    *: update raft-rs to use aggressive flow control (#7285)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 489784325cd2c6705fc099dd8ff2e0ce7ac99ad8[m
Author: TXXT <hunterlxt@live.com>
Date:   Mon Mar 30 18:20:14 2020 +0800

    Security: work around race condition between threads updating handshakers (#7251)
    
    Signed-off-by: Xintao <hunterlxt@live.com>

[33mcommit 9f68b0831f07de11183513377766e48fd361d7fe[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Mar 30 16:29:14 2020 +0800

    *: update yatp to fix #7258 (#7293)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit af58e28cbe47c80fd2bd9dd20c4883c65e367826[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Mon Mar 30 15:37:28 2020 +0800

    tests: fix unstable test_node_compact_after_delete (#7276)

[33mcommit be05858e9b68a4ceb5312cf9816074e199b2e293[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Mar 30 14:17:57 2020 +0800

    *: update prometheus to fix test coredump (#7294)
    
    See tikv/rust-prometheus#312.
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit ea0fd4d7688d1d462a94cfe4f7ab4d7cb0b30ab5[m
Author: winkyao <golangwink@gmail.com>
Date:   Sat Mar 28 16:32:50 2020 +0800

    MAINTAINERS: add Daobing Li to Maintainer. (#7237)
    
    Signed-off-by: winkyao <golangwink@gmail.com>

[33mcommit 85823153163b85a1b37f173323fe778cf2c97c36[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Mar 28 01:46:46 2020 +0800

    security: update dependency (#7275)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit f2b247251cb1bdbb8a878d78f2b480285d79bdec[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Mar 27 21:06:46 2020 +0800

    tests: fix read index during transfer leader case (#7262)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit b91cece533ad8105292d503c9401227aaa2c6aa1[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Mar 27 16:28:47 2020 +0800

    backup: fix hyper dispatch dropped panic by using tikv_util threadpool (#7248)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit eec6ab5909b3b79cc624fe13c8504f2052674a22[m
Author: qupeng <qupeng@pingcap.com>
Date:   Fri Mar 27 16:08:41 2020 +0800

    add num_deletes in MvccProperties (#7172)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 90cdd8c2d10147b9f00a416324795247117d761d[m
Author: qupeng <qupeng@pingcap.com>
Date:   Fri Mar 27 15:13:53 2020 +0800

    engine_traits: improve metrics flusher (#7046)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 7c975c8acf4b0c5da196cc4a5c21e145c6b35e3c[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Mar 27 11:25:46 2020 +0800

    add chenfu as maintainer (#7259)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 2e4e4a62d44444d23be2d294f5a7c0253f67cbe8[m
Author: SSebo <ssebo.zzz@gmail.com>
Date:   Fri Mar 27 09:31:06 2020 +0800

    ucp 7143 wait-for-lock-timeout and wake-up-delay-duration readable (#7197)
    
    * conf: wait-for-lock-timeout and wake-up-delay-duration readable
    
    Signed-off-by: ssebo <ssebo.zzz@gmail.com>

[33mcommit dab18444c33dd1d97cda59193e24f8718f85bf7e[m
Author: Shenghui Wu <793703860@qq.com>
Date:   Thu Mar 26 22:08:39 2020 +0800

    copr: shouldn't check invalid dates when using chunk format. (#7218)
    
    Signed-off-by: wshwsh12 <793703860@qq.com>

[33mcommit 2a3784a65ebc3fef005ad58272790d5830eeb304[m
Author: 3pointer <luancheng@pingcap.com>
Date:   Thu Mar 26 15:54:09 2020 +0800

    sst_importer: disable validate sst when length and crc were not both set (#7241)
    
    Signed-off-by: luancheng <luancheng@pingcap.com>

[33mcommit b00c04d5f037efd54fd2c947764dc641827f6fa9[m
Author: zhongzc <zhongzc_arch@outlook.com>
Date:   Thu Mar 26 15:33:30 2020 +0800

    tidb_query: supports group by a constant (#7238)
    
    Signed-off-by: zhongzc <zhongzc_arch@outlook.com>

[33mcommit 47c2b9e84273c1144d56604786653ff81f3319d0[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Thu Mar 26 14:06:43 2020 +0800

    cdc: fix pd client was blocked by get_tso (#7253)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 1f202d969f832296ba3e5433066467e8e43b20d6[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu Mar 26 11:55:26 2020 +0800

    *: do not use the unified pool to handle storage requests by default (#7234)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 60919accc72049230bc0fcbe9631d694171f711c[m
Author: Renkai <gaelookair@gmail.com>
Date:   Thu Mar 26 02:09:10 2020 +0800

    PCP-14: localize some metrics in servers (#6698)
    
    Signed-off-by: Renkai <gaelookair@gmail.com>

[33mcommit 6620ba26a9547011978496df6840e9786da77c17[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Mar 25 15:26:40 2020 +0800

    raftstore: apply read after snapshot (#7230)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit bc554e8da86858b4aac631c3b720e4ca955d51eb[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Wed Mar 25 13:19:38 2020 +0800

    cdc: fix tracing the lock of rollback txn (#7233)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 0e0f8f61240c9a1bc1bcb1c3b0ad8284a83453e7[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Tue Mar 24 21:58:25 2020 -0700

    *: add utilities to enable AWS IAM in k8s (#7201)
    
    ###  What have you changed?
    
    Add `rusoto_util` crate to wrap logic to enable `rusoto_sts::WebIdentityProvider`, which provide IAM support in k8s. The utility can be used by S3 client for backup, and KMS client for encryption at rest.
    
    ###  What is the type of the changes?
    Improvement
    
    ###  How is the PR tested?
    Manually test `rusoto_util` on k8s environment to see if it successfully get the correct credential.
    Also make sure existing `external_storage` crate tests pass.
    
    ###  Does this PR affect documentation (docs) or should it be mentioned in the release notes?
    No
    
    ###  Does this PR affect `tidb-ansible`?
    No
    
    ###  Refer to a related PR or issue link (optional)
    
    ###  Benchmark result if necessary (optional)
    
    ###  Any examples? (optional)

[33mcommit 7565efc9af7be6ef0f1adb6b51152c2c455a0f9c[m
Author: SSebo <ssebo.zzz@gmail.com>
Date:   Wed Mar 25 11:34:40 2020 +0800

    ucp 5706 extract tidb query (#7084)
    
    Signed-off-by: ssebo <ssebo.zzz@gmail.com>

[33mcommit 8df4b924c772baf9423a1c7b8a36c6baa657e5c2[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Wed Mar 25 03:12:08 2020 +0800

    tests: Fix unstable tests test_read_index_when_transfer_leader_1 and test_thread_pool_shutdown_when_idle (#7154)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit efa210aaa170f52ff1034cda339d01b86bc59e9c[m
Author: TXXT <hunterlxt@live.com>
Date:   Tue Mar 24 20:29:58 2020 +0800

    Security: support common names validation (#7134)
    
    * Add new config field cert-allowed-cn to support common names validation
    
    * The CN check will be executed every RPC service and status server
    
    * The CN check will traverse the cert_allowed_cn and pattern match each of them
    
    * Add some integration tests
    
    Signed-off-by: Xintao <hunterlxt@live.com>

[33mcommit c2194862294b316ce02c94a9b1f5ae8b78a62d94[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Mar 24 16:12:27 2020 +0800

    Adjust memory/CPU configurations automatically in container (#7074)

[33mcommit af4915ec5232c58a89176f00e6942ede42b00304[m
Author: you06 <you1474600@gmail.com>
Date:   Tue Mar 24 14:45:33 2020 +0800

    .github: update issue and pull request template (#7216)
    
    Signed-off-by: you06 <you1474600@gmail.com>

[33mcommit adc6e87b259fe6d89b737c67694e71a6dce3eb51[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Mar 24 13:18:02 2020 +0800

    tests: make test-delay-split-region stable (#7210)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit ed71f20f445e10595553d2bf3d1a1eb645b9a61a[m
Author: Fullstop000 <fullstop1005@gmail.com>
Date:   Mon Mar 23 17:01:34 2020 +0800

    service: Support slow log searching (#7085)
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>

[33mcommit 3a4f6fcc30b30367b122f7a95e0337837f2ade34[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Mar 23 14:11:53 2020 +0800

    add titan related configs (#7207)
    
    * add titan related configs
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 0fef2956c392d54814fdf599dc9d6b1fbcfab0f0[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Mar 23 13:45:33 2020 +0800

    .github:refine issue template (#7157)
    
    Signed-off-by: shirly <AndreMouche@126.com>

[33mcommit 96a3b5445f88792c63586656e5c2415aef09f76a[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Mar 23 11:31:40 2020 +0800

    backup: unblock worker by releasing lock as soon as possible (#7200)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit e364c57f69151c7fb4b00de591217f9edfedd61b[m
Author: kennytm <kennytm@gmail.com>
Date:   Sat Mar 21 15:37:02 2020 +0800

    external_storage: fix sst writer error with s3 storage, plus refactoring (#7174)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit c8a716fbc3b9b6ec1571f5e473e99df924af687e[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Sat Mar 21 01:55:33 2020 +0800

    Use multi-batch-write for apply (#7111)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit dbb9856f85a3e5ec7e7ed33b6c8a05e0ccc5518b[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Fri Mar 20 08:53:34 2020 -0700

    *: Update rust-rocksdb (#7171)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit f05eb62fb05375e73575690bf273307134e83746[m
Author: zhongzc <zhongzc_arch@outlook.com>
Date:   Fri Mar 20 20:31:33 2020 +0800

    copr: add unsigned int comparison (#7175)
    
    Signed-off-by: zhongzc <zhongzc_arch@outlook.com>

[33mcommit beb36cc681ae25474ef075e245eb02427a26aabf[m
Author: TXXT <hunterlxt@live.com>
Date:   Fri Mar 20 19:34:56 2020 +0800

    Security: support certificates reloading (#7150)
    
    * Reloading allows the server to renew certificates without shutting down
    
    * Reload certs every TLS handshake or every connect from client
    
    Signed-off-by: Xintao <hunterlxt@live.com>

[33mcommit 961bb340d46d3aafe2b08fcfd1019ecbad00b36a[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Fri Mar 20 18:03:54 2020 +0800

    Remove crate::engine from  apply.rs (#7119)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit abb6e4b3ce2dc05fb4a29f61fdae583e520cce08[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Fri Mar 20 14:41:25 2020 +0800

    txn: add basic failpoints (#7155)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 8eff98bf6cc0975235cf2c119ba812828e37fc89[m
Author: crazycs <crazycs520@gmail.com>
Date:   Fri Mar 20 14:06:24 2020 +0800

    dianostics: change the memory unit to keep consistant with disk (#7169)
    
    Signed-off-by: crazycs520 <crazycs520@gmail.com>

[33mcommit 85b7ab1f48e71a8de81f378fd8a0c65378cf2912[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Mar 20 13:45:41 2020 +0800

    *: support encryption at rest (#6990)
    
    * encryption: initialize encryption crate
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: add AES CTR crypter
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * update kvproto
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: implement master key encryption and decryption
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: basic implementation of key manager
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: get encryption method and iv from FileInfo
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: support rotate data key and add tests
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: validate key length and fix typo
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: fix typo
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: rename mods
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: implement EncryptedFile
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: persist file dict and key dict
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: build with rocksdb#enc_api
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: rotate data key on new file
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: adjust key manager behavior
    
    * Return Plaintext if file not found
    * Fail if key is specified but not found.
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: address clippy lints
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: update rocksdb and impl link_file rename_file
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: rename file_path to fname
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: fix prost build
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * fix build
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * update kvproto and rust-rocksdb
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: retry if key id is 0
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encrytion: sync base directory
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: add sha256 checksum for encrypted content
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: expose all keys if master key backend is insecure
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: do not encrypt file dict
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: refine metadata
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: overwrite file on create and open file dict with plaintext
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: use engine_traits
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: add license header
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * fix unused dep
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * update rocksdb
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * encryption: fix prost error
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 1e5f915c2bd975b010fcfa52a9747da7216c58ba[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Mar 20 13:01:24 2020 +0800

    tests: make test_check_conf_change and test_read_after_cleanup_range_for_snap stable (#7162)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 1bb59c35d63c7a52327251c3710c58975b169946[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Fri Mar 20 12:42:54 2020 +0800

    tests: stablize test_download_sst, test_invalid_read_index_when_no_leader (#7166)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 52ab36e0fdf8ccfb85ee07debdde3e223a23ebde[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Mar 19 20:29:24 2020 +0800

    raftstore: set sync hint on ingest sst commands (#7151)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 59c9112c3397d047374eab037c222db5a0e2ed3d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Mar 19 19:23:54 2020 +0800

    tests: reduce spawned thread count (#7144)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 1937c701715db76cf94aaa5180543420edd8b53e[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Thu Mar 19 13:17:53 2020 +0800

     optimize batch system for better pipeline work (#6991)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit b58184e035063aeb643eb86b68cea257b6bab68b[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Mar 18 22:50:18 2020 -0600

    Abstract more raftstore over engine_traits (#7032)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 8bfd100388dc972c81652ad5ad59c8001012b106[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Wed Mar 18 21:19:24 2020 +0800

    config: fix tests resource leak (#6998)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit de3d63ef35f4fdeaf849e78e2efd5d36db362b44[m
Author: glorv <glorvs@163.com>
Date:   Wed Mar 18 20:26:54 2020 +0800

    scripts: check bins according to enable features (#7137)
    
    Signed-off-by: glorv <glorvs@163.com>

[33mcommit 8a9958c36c6bdd049b8da0e4b32ff8db2bd47ba9[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Mar 18 20:10:54 2020 +0800

    import: handle ingest sst error properly (#7135)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 3b84ba94ca8740cd98bb5a34184de3eb035ac6f4[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Wed Mar 18 19:53:24 2020 +0800

    Prune some duplicated dependencies (#7127)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit 366f58bd5df8e07c423b1d85f766bfd39b1084d0[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Wed Mar 18 19:35:54 2020 +0800

    sst_importer: add error field to `DownloadResponse` (#7126)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 250258cb239ab0e2554bcec53967523552905ae8[m
Author: qupeng <qupeng@pingcap.com>
Date:   Wed Mar 18 15:54:22 2020 +0800

    raftstore: fix a panic about read index during transfer leader (#7101)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 6f2f9f36ce26fd8fe0bc06c88c478ade2e0e2bc1[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Tue Mar 17 23:23:24 2020 -0700

    external_storage: fix crash when using s3 (#7136)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 74854810ac3de2cd60c0566384e09d63c5b1b2d2[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Mar 17 17:41:45 2020 -0600

    Delete several parts of engine crate (#7033)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit bc9ece88f3b8b5c4fbcca17e34d45ff11346a02c[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Tue Mar 17 16:22:04 2020 -0700

    external_storage: update to rusoto 0.34 (#7117)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>
    
    ###  What have you changed?
    
    update rusoto (aws lib) to 0.34, which provides IAM support. It changes a few API to use newer futures/tokio version. Update accordingly.
    
    Fixes #7096
    
    ###  What is the type of the changes?
    Improvement, Engineering
    
    ###  How is the PR tested?
    build
    
    ###  Does this PR affect documentation (docs) or should it be mentioned in the release notes?
    No
    
    ###  Does this PR affect `tidb-ansible`?
    No
    
    ###  Refer to a related PR or issue link (optional)
    
    ###  Benchmark result if necessary (optional)
    
    ###  Any examples? (optional)

[33mcommit 53609223452857d4c029d9cd4aacb643f9dcc3c9[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Mar 18 02:57:15 2020 +0800

    build: speed up clippy check (#7125)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 41f6282add1abb2f58fdc18a78b8d319cf143aee[m
Author: Ryan Leung <rleungx@gmail.com>
Date:   Tue Mar 17 17:13:14 2020 +0800

    server: support tls for the status server (#5393)
    
    Signed-off-by: Ryan Leung <rleungx@gmail.com>

[33mcommit 3312f822466ce5804e2e070ace224885e4c6355c[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Mar 17 16:39:18 2020 +0800

    raftstore: apply early (#6154)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 18b87012ac3450e8037baaa61ea26a73c40ef33e[m
Author: glorv <glorvs@163.com>
Date:   Tue Mar 17 14:13:25 2020 +0800

    test:  fix auto-assign workflow trigger event (#7118)
    
    Signed-off-by: glorv <glorvs@163.com>

[33mcommit 8a1081d65c6d8016710dff06030fddc65893b8fe[m
Author: glorv <glorvs@163.com>
Date:   Tue Mar 17 12:40:26 2020 +0800

    update sysinfo to support build on arm64 (#7089)
    
    Signed-off-by: glorv <glorvs@163.com>

[33mcommit 9637262b123433fe086de75abb2135c987bfd741[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Mar 17 10:52:43 2020 +0800

    extern_storage: replace clap yaml with structopt (#7116)
    
    ###  What have you changed?
    
    According to RUSTSEC-2018-0006, we should not use yaml-rust < 0.4.1,
    which is depended by clap. So I rewrite the usage using structopt.
    
    After this PR we can enable audit check in CI again.
    
    Close #7004.
    
    ###  What is the type of the changes?
    - Bugfix
    
    ###  How is the PR tested?
    - Manual test
    
    ###  Does this PR affect documentation (docs) or should it be mentioned in the release notes?
    No.
    
    ###  Does this PR affect `tidb-ansible`?
    No.

[33mcommit 6b0bbe1362bda01cae4222518f4c676a05b13ec2[m
Author: TXXT <hunterlxt@live.com>
Date:   Tue Mar 17 00:21:59 2020 +0800

    Update dependencies for grpcio (#7103)
    
    Signed-off-by: Xintao <hunterlxt@live.com>

[33mcommit ce9cc5dac6c683f0a2a66465e61ba4887ff15c98[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Mar 16 23:30:55 2020 +0800

    tests/config: readable diff check (#7100)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 4a883dc46263e09fa8a2176a1be72c722f69af3f[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Mon Mar 16 22:43:55 2020 +0800

    Support signed plus arithmetic (#6568)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit e1da009f68d09382b274c40e345d3d976c34d4f3[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Mon Mar 16 21:44:55 2020 +0800

    tikv-server: compatible with pd that did not implement configpb.Config service (#7073)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit c2483372ed434247a3fb4cc3ca6ad542c0008a2e[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Mon Mar 16 20:51:25 2020 +0800

    Fuzz: update dependencies (#7035)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit 8ce5e9889e29f950d05bc9f9cc219e0a1a66c5a9[m
Author: glorv <glorvs@163.com>
Date:   Mon Mar 16 20:24:25 2020 +0800

    test: add github workflow to auto-assign failed test issue to solid tests project (#7102)
    
    Signed-off-by: glorv <glorvs@163.com>

[33mcommit 6b0767b53838ad6d88b252416e26ef36924db7d1[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Mon Mar 16 16:07:26 2020 +0800

    remove immutable change for WriteBatch (#6725)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit aa77b1b11c79b5ace5689916a1fa4db7e062e7ca[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Mar 16 15:45:55 2020 +0800

    kv_service: fix the wrong metric name of handling batch batch_rollback (#7098)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 830ba5f34f7180004a742f4019bc4830ef8b2c32[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Mar 16 15:16:25 2020 +0800

    *: do not unify read pool by default if legacy pools are configured (#7059)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 2d0996c9f70903e08f60b510e3d4c37b896484af[m
Author: Renkai <gaelookair@gmail.com>
Date:   Mon Mar 16 13:41:47 2020 +0800

    use patch instead of replace (#7090)
    
    Signed-off-by: Renkai <gaelookair@gmail.com>

[33mcommit dbed3580bdc2641acb03778481bb33b6b9f032db[m
Author: Shafreeck Sea <shafreeck@users.noreply.github.com>
Date:   Fri Mar 13 17:48:26 2020 +0800

    conf: comment on the status-addr to notice the risk (#7050)
    
    Signed-off-by: Shafreeck Sea <shafreeck@gmail.com>

[33mcommit 4581fe330d4d89f08dd0b40126c1fbfe872dbde4[m
Author: Weizhen Wang <wangweizhen@bilibili.com>
Date:   Fri Mar 13 17:04:55 2020 +0800

    metric: add tikv_engine_write_wal_time_micro_seconds (#7057)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit c475ee0edf98a579c677266946aa0b0d1316ed99[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Fri Mar 13 16:35:25 2020 +0800

    tidb_query: Implement collation aware StreamAggr (#7038)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit f9e87370f07828cdbaa3800a9eb0f225792b0454[m
Author: qupeng <qupeng@pingcap.com>
Date:   Fri Mar 13 15:14:09 2020 +0800

    test: stabilize test_custom_quorum (#7048)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>
    
    Co-authored-by: gengliqi <gengliqiii@gmail.com>

[33mcommit 9dae1ea1143d74309beab135e7bda4c0a37b4a4a[m
Author: qupeng <qupeng@pingcap.com>
Date:   Thu Mar 12 17:22:17 2020 +0800

    raft_client: limit batch size (#6993)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit f8dc75b77a63c0fe51539896c0f05764a5bcc601[m
Author: disksing <i@disksing.com>
Date:   Thu Mar 12 16:21:33 2020 +0800

    pd: adjust log level (#7071)
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit a6c83b1169905bfe66fc1fb697d03f60d348a64d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Mar 12 15:28:34 2020 +0800

    makefile: update scripts (#7020)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit de13c6024e4168b91c4910533636758017c2fbe7[m
Author: Liu Cong <innerr@gmail.com>
Date:   Thu Mar 12 11:42:04 2020 +0800

    Merged pipelined acquire-pessimistic-lock and some small improvements (#6984)
    
    Signed-off-by: Liu Cong <innerr@gmail.com>

[33mcommit 113b3987d63885f602857be7ad6ad906a8811988[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Mar 11 18:00:04 2020 -0600

    Remove engine::util (#7029)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit eeaf4be81fabb71c30f62bc9fd11e77860d47d02[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Wed Mar 11 20:29:34 2020 +0800

    cdc: support batch service (#6733)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 10e8bc92bea2d4d2fa2762717c21a37ae71e6cd2[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Wed Mar 11 16:20:03 2020 +0800

    yatp: reschedule only if there are awaiting tasks (#6981)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit d15dd0419a3b7493f6b8e45daba096a21278e269[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Wed Mar 11 14:25:34 2020 +0800

    rust-rocksdb: Update rocksdb and titan (#7056)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit 92578156bfba767089da7bcc986d98214e7cd993[m
Author: Ziyi Yan <ziyi.yan@foxmail.com>
Date:   Wed Mar 11 12:39:33 2020 +0800

    cop: add tracker to intercept each future execution switching (#6999)
    
    Signed-off-by: Ziyi Yan <ziyi.yan@foxmail.com>

[33mcommit 96a0814cb04c73fd9c8e3a68bbbedfdf1938b0f3[m
Author: Pengcheng Xu <pooytr1@gmail.com>
Date:   Wed Mar 11 09:57:04 2020 +0800

    copr: Add vectorize trim1Arg (#6987)
    
    Signed-off-by: Poytr1 <pooytr1@gmail.com>

[33mcommit 1ebd3e2178bcea0543bb356d80e521bc1bc44782[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Mar 10 20:11:20 2020 +0800

    tests: add custom runner (#7044)
    
    - Always write logs for tests
    - Fix hang when panic during failpoint pause
    - Simplify failpoint test setup
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit bd296e5b17b9ea75db330557e1e5173930b17d51[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Tue Mar 10 14:59:03 2020 +0800

    fix failed test by `reserve space` (#7030)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit 5d26636a5185f1ae2b986ed407861e43c971b742[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Mar 9 22:17:48 2020 +0800

    Contribution.md: add contribution map icon and link (#7041)

[33mcommit e176677fde08d94c444de9e90f3cd3eaa3ed3617[m
Author: mahjonp <junpeng.man@gmail.com>
Date:   Mon Mar 9 18:40:18 2020 +0800

    Update coverage badge (#7037)
    
    Signed-off-by: mahjonp <junpeng.man@gmail.com>

[33mcommit 658f2cde80778cae8ef90be993059059feded345[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Mon Mar 9 15:00:21 2020 +0800

    tikv_alloc: remove unwrap and refine README.md (#7034)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit 10b92099c5956144025b68f44795b78210b15d89[m
Author: Zhang Yuning <codeworm96@outlook.com>
Date:   Sun Mar 8 23:18:32 2020 -0400

    copr: Add non-vectorized repeat (#5885)
    
    Signed-off-by: Yuning Zhang <codeworm96@outlook.com>
    
    Co-authored-by: NingLin-P <linningde25@gmail.com>

[33mcommit cc424374af5c50246d4f1e0cb282f63540beb1b9[m
Author: Fullstop000 <fullstop1005@gmail.com>
Date:   Sun Mar 8 21:37:09 2020 +0800

    utils: Use an extra drainer for slow logs (#6986)
    
    * use a extra drainer for slow log
    
    Signed-off-by: Fulstop000 <fullstop1005@gmail.com>
    
    * improve test_serde_custom_tikv_config
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>
    
    * add slow_log_threshold
    
    Signed-off-by: Fulstop000 <fullstop1005@gmail.com>
    
    * use Instant instead unnecessary SlowTimer
    
    Signed-off-by: Fulstop000 <fullstop1005@gmail.com>
    
    * some improvements
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>
    
    * fix ci
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>
    
    * use custom Value serializer
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>
    
    * fix compiling err
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>
    
    Co-authored-by: Neil Shen <overvenus@gmail.com>

[33mcommit 274ca86f863361f7d3d8ee8491496c6a80c79ae4[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Sun Mar 8 17:27:45 2020 +0800

    cop: move the logic of limiting heavy tasks out of runner (#6699)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 7bf9c2da127b5ae7de27a3425bf5f255671982d8[m
Author: qupeng <qupeng@pingcap.com>
Date:   Sun Mar 8 14:31:59 2020 +0800

    allow to custom quorum fn (#6578)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>
    
    Co-authored-by: gengliqi <gengliqiii@gmail.com>

[33mcommit cedcc8c3efc082545d7355ad73c598789891a3c5[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Sat Mar 7 09:05:47 2020 +0800

    *: remove CompactionJobInfo re-exports (#6989)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit 83cbf52466671789048026ef448ee9c4b379c350[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Fri Mar 6 21:40:20 2020 +0800

    cdc: check failpoints feature for failpoint tests (#7018)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 5c573c661c2e736d513168fe5d3966f5fd467d70[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Mar 6 17:27:31 2020 +0800

    *: speed up test build (#7012)
    
    Tests has been built slowly lately. That's because we use multiple compile
    command to build tests for different crates. Things go worse when cdc is
    split as a component. On my local machine, running `make test`, cargo
    will be invoked 6 times. 4 of them takes minutes to finish.
    
    The reason why we try to run multiple compile command is to get around
    the problem mentioned in #6097, which is introduced when trying to
    support prost and protobuf in tests at the same time. But in practice, we
    don't run tests with prost. Hence overhead is introduced with just potential
    benefit. In fact, after #6317, it's impossible to run tests by
    `PROST=1 make test` due to rust-lang/cargo#6669.  It's still possible to
    build, clippy check or release with prost.
    
    Given that tests with PROST=1 does not work, this PR combines all the cargo
    commands into single one, which save a lot of compile time.
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit a095c7081e8dc9b6c16604425d9aca9e6f4e1224[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Fri Mar 6 16:39:48 2020 +0800

    rust-rocksdb: Revert "implemented !Send for PerfContext struct (#442)" (#7013)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit f050c2e85f5e410f2aff11897ba43e61871c9632[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Fri Mar 6 15:58:47 2020 +0800

    config: enable dynamic config by default (#7015)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 649e038fe4049f275401ecc6c52a429ee174a290[m
Author: lysu <sulifx@gmail.com>
Date:   Fri Mar 6 10:32:37 2020 +0800

    txn: check keys must be not exists (#6715)
    
    Signed-off-by: lysu <sulifx@gmail.com>

[33mcommit 23a1797dbf6350fa6d888acec6b0cab72914925e[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Fri Mar 6 00:09:17 2020 +0800

    copr: add vectorized char_length (#7010)
    
    Signed-off-by: zhongzc <zhongzc_arch@outlook.com>

[33mcommit ccf831e445eb2dc7a3c072e9a200d878af57b9b1[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Thu Mar 5 22:06:55 2020 +0800

    Add security audit report (#6997)
    
    * Add security audit report
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 63e42a9226af874f628ab3f5c8f2c462b3cdf6a7[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Thu Mar 5 11:59:18 2020 +0800

    Parameterize much of raftstore over engines (#6707)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 0af3ae2d6bafac516a034e992274dda95ffe4aac[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Thu Mar 5 10:05:21 2020 +0800

    Move WriteBatch from engine to engine_traits/rocks (#6697)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit bc540b10e09e973e85846c6db365ae42d0baa9ba[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Wed Mar 4 16:21:35 2020 +0800

    tikv_util: refine some slog relate code (#6988)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit 588ee0874fa242c2ae64e7290d7c22c2fed2d57b[m
Author: kennytm <kennytm@gmail.com>
Date:   Tue Mar 3 14:59:41 2020 +0800

    backup: do fill in the file size of each SST file in the response (#6664)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 0d2c9d37f2f13f2e02a7c22aebbeae270998cd41[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Tue Mar 3 14:35:11 2020 +0800

    copr: add vectorized and non-vectorized json keys (#6360)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit aaf3fec33a7b967b90abbf437980b060c003a343[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Tue Mar 3 13:01:11 2020 +0800

    rust-rocksdb: add interface set_target_path_id for CompatOptions (#6687)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit c471fe18ee8ad28545175c0c685812643f1590d6[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Mon Mar 2 18:13:13 2020 +0800

    tikv-server: update explanation of enable-dynamic-config (#6977)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 94653a92a1c6f105ae17fa009fd9fce0740aa045[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Mon Mar 2 17:45:41 2020 +0800

    copr: support collation aware compare_in (#6713)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit 5ee4322ce7b9fe375b77de80e4dfd244782e5eb5[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Mon Mar 2 15:36:41 2020 +0800

    cdc: check leadership before subscribing (#6691)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 3d6ebd48dd0cd49f51919b15d04216c8c51219ae[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Mar 2 11:23:30 2020 +0800

    raftstore: skip commit index check on wake up (#6966)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit a746e09fecf43cf6887e8268dbcd81172a6b75ba[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Mar 2 10:54:00 2020 +0800

    backup: fix test_writer (#6970)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 206d64e0a77fd274277bb98378147a9695d03367[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Mon Mar 2 03:03:00 2020 +0800

    *: move event listener into engine_rocks (#6739)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit 1c8b6f5168fe57aa1be589b70e655e01d9e4508d[m
Author: Zhang Yuning <codeworm96@outlook.com>
Date:   Sun Mar 1 10:27:37 2020 -0500

    copr/string: remove unnecessary allocation (#6968)
    
    Signed-off-by: Yuning Zhang <codeworm96@outlook.com>

[33mcommit 6b69e496b49aa42aab153ab27b2e6030a548d5c5[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Sun Mar 1 20:53:30 2020 +0800

    tidb_query: Let collated group by column return original data (#6716)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit 5a4d65e570b4171c05301802fc090540e94a4bc5[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Sun Mar 1 19:08:31 2020 +0800

    tidb_query: eliminate Arc<identical_logical_row> (#6963)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit 648a8f85f08ce0bbcb2b3a37da6f0a2318a1e027[m
Author: Sampras Lopes <sampraslop995@gmail.com>
Date:   Sat Feb 29 15:44:06 2020 +0530

    Fix broken URL for "Try TiKV and TiDB" (#6712)
    
    * readme: Fix broken URL for Try TiKV and TiDB
    
    Signed-off-by: Sampras <sampraslop995@gmail.com>

[33mcommit b2874055f0385a9529e27fbe97103a5270f1397b[m
Author: Govardhan G D <42682845+govardhangdg@users.noreply.github.com>
Date:   Sat Feb 29 12:24:00 2020 +0530

    Replace the usage of `tikv_util::ThreadPool` with ThreadPool from `yatp` crate (#6729)
    
    Signed-off-by: Govardhan G D <govardhangdg@gmail.com>

[33mcommit 6ef8f2454a6039c014ad0945ee7aaea673ab1d53[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Feb 29 00:03:30 2020 +0800

    raftstore/hibernate: wake up on proposal (#6736)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 84a19b8a26e7f99b41fff8ea71f34ee657893eff[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Fri Feb 28 19:25:19 2020 +0800

    raftstore: wake up hibernated leader after failed read index (#6648)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 7cceb85b3fcaaa4ce1dc71ef0551ed53593e4751[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Feb 28 18:50:43 2020 +0800

    raftstore/hibernate: wake up for more cases (#6672)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 64741a1f1e5259a372bca51b70f4e41b3d2fd34c[m
Author: niedhui <niedhui@gmail.com>
Date:   Fri Feb 28 17:24:57 2020 +0800

    add tests for compat_v1 encdoing (#6413)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 4c8143af38e62b9500a5b6dff6c5da4e70e0983b[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Fri Feb 28 16:04:03 2020 +0800

    tidb_query: Implement Collator::sort_hash() (#6714)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit a10d0b650284c6c21672df4490717ed48fba148b[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Fri Feb 28 15:27:46 2020 +0800

    backup: fix panic after meeting empty short value (#6718)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 6ee17fe65593c6b4c3798edb8e01728753be3028[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Thu Feb 27 20:02:51 2020 +0800

    server: print welcome msg first when starting (#6709)
    
    * move welcome msg forward
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit c2f8a018b93580a8c376080e5d08ae9445d25389[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Thu Feb 27 16:26:20 2020 +0800

    Implement collation with padding (#6674)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit 548843f282d31c61e303052a7fe895ad899ec425[m
Author: zihe.liu <ziheliu1024@gmail.com>
Date:   Thu Feb 27 15:16:56 2020 +0800

    copr: use lookup table and remove truncate_uint branch in non-vectori… (#6678)
    
    Signed-off-by: ZiheLiu <ziheliu1024@gmail.com>

[33mcommit e5ffc4d7aab29f961b61d4e176d1a57e32d0270c[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Thu Feb 27 14:48:56 2020 +0800

    txn: pessimistic lock returns multiple values (#6696)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 62e7f32b617569657e0cdde8065b7e08f31986af[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Thu Feb 27 12:17:06 2020 +0800

    copr: support new index encoding with collation support (#6685)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit 9b04ce209f9414d7400eea4cfe8b649e07b77639[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Wed Feb 26 21:46:23 2020 +0800

    config: refine invalid config handling (#6620)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 1577472a292f1db4062859bf43d2d9c0c21a1c19[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Wed Feb 26 19:13:40 2020 +0800

    raftstore: destroy apply fsm when pending_remove flag is set during resuming (#6692)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>

[33mcommit 55d1aa7d5648d39e099520147c2395f966e1125b[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Wed Feb 26 18:50:40 2020 +0800

    engine_rocks,engine_traits: abstract rocks util (#6661)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit 454d36480e971af7af6d72355569e7eef01c16d5[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Wed Feb 26 18:27:40 2020 +0800

    copr: add non-vectorized/vectorized findInSet (#6361)
    
    Signed-off-by: mcw <610546069@qq.com>

[33mcommit 8909ebd7482c2d256efd4ff2334355a11820ed60[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Wed Feb 26 17:44:40 2020 +0800

    config: persist the updated config (#6684)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 0247486b736c7ced2fb34af11bf70aec958c323e[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Feb 26 17:20:10 2020 +0800

    tests: Fix failing test_physical_scan_lock (#6700)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 53f8c96644d241f7c9d25b85d5e38f7d80a28c34[m
Author: zihe.liu <ziheliu1024@gmail.com>
Date:   Wed Feb 26 00:10:38 2020 +0800

    copr: add non-vectorized truncate_uint (#6557)
    
    Signed-off-by: ZiheLiu <ziheliu1024@gmail.com>

[33mcommit d0d8a8db82b6b4f8d4799cb49caf4fb46d5b2f5d[m
Author: kennytm <kennytm@gmail.com>
Date:   Tue Feb 25 22:29:08 2020 +0800

    tikv_util: fix s3 writer always creating zeroes (#6675)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 34af9ce7d4eb3f23056001ddfbfd1e73c0f22e16[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Feb 25 20:51:38 2020 +0800

    cdc: Implement Endpoint and enable it in cmd/server (#6650)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit d75c838288408717695fcf8d1dd7aa9bb8a6b945[m
Author: Aylei <rayingecho@gmail.com>
Date:   Tue Feb 25 20:34:38 2020 +0800

    scripts: fix make docker (#6694)
    
    Signed-off-by: Aylei <rayingecho@gmail.com>

[33mcommit 079a806e549f25dbf86b75bdc5087f667a713476[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Tue Feb 25 17:02:38 2020 +0800

    copr: implement collation aware Vec-SlowHashAggr (#6652)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit 70e9297eff95652792eb2f303f1b046da31037ad[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Tue Feb 25 15:11:08 2020 +0800

    engine_traits: rename cfdefs and delete engine cf (#6682)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit da6e4ed73d3ddebead72575730402ed779c7dbf5[m
Author: Lonng <heng@lonng.org>
Date:   Tue Feb 25 10:56:38 2020 +0800

    server: adjust log search end time to i64::MAX if end_time unset (#6686)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 33f4932fdc1038ae1a62579dc2d77acdc46e6d05[m
Author: zihe.liu <ziheliu1024@gmail.com>
Date:   Mon Feb 24 20:50:09 2020 +0800

    copr: add vectorized truncate_real (#6561)
    
    Signed-off-by: ZiheLiu <ziheliu1024@gmail.com>

[33mcommit 778635c5109cf1090961aad567592c6330c69e47[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Feb 24 15:35:38 2020 +0800

    cop: avoid handling requests multiple times (#6677)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit e71c034fbea027fa2b545ee7b3319157ac5e3d45[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Feb 24 11:44:14 2020 +0800

    txn: add for_update_ts to lock info (#6671)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 2db4974f1ab77f228217a6bebdd0a318a1a7f524[m
Author: Wang <wangwangwar@gmail.com>
Date:   Sat Feb 22 14:06:28 2020 +0800

    copr: separate expression signature `Upper` to `Upper` and `UpperUtf8` (#6280)
    
    Signed-off-by: wangwangwar <wangwangwar@gmail.com>

[33mcommit 8ff72e57e02c51a20554221de706047fb9767392[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Sat Feb 22 13:49:58 2020 +0800

    Migrate to abstract TablePropertiesCollection types (#6630)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit b4f1c014fb01bd19929cf4d9f28bfa8b7b6971eb[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Sat Feb 22 00:51:43 2020 +0800

    Make general cargo command work (#6317)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit 1118a0dc1362fed4a8b3f71f66d955374649421f[m
Author: Pengcheng Xu <pengcheng.xu@elastic.co>
Date:   Fri Feb 21 18:03:12 2020 +0800

    copr: Add non-vectorize to_seconds (#6646)
    
    Signed-off-by: Poytr1 <pooytr1@gmail.com>

[33mcommit e66d5aec6d948b7c60dc22ffab1a53df6bf2fe8a[m
Author: Pengcheng Xu <pengcheng.xu@elastic.co>
Date:   Fri Feb 21 17:46:13 2020 +0800

    copr: Add vectorize week_with_mode (#6647)
    
    Signed-off-by: Poytr1 <pooytr1@gmail.com>

[33mcommit abab11e41f6490a0bd750132b85494c776fbf834[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Fri Feb 21 17:27:44 2020 +0800

    copr: Support collation aware Vec-TonN executor (#6608)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit 58ed7e14a6f1a39c0ae50260547d78648b5f60c8[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu Feb 20 23:00:31 2020 +0800

    cop: allow light tasks to run when the semaphore has no permits available (#6582)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 271fe98872de2c7d491821dafbf5cf92cf34a571[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Feb 20 17:20:19 2020 +0800

    tests: make test quick and stable (#6653)
    
    - Adjust make file to run integration tests first
    - Fix backup test that always timeout
    - Check lock result to avoid double panic
    - Disable transport stats for tests to save CPU
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit a3588deb1746a670b062d7dc3494fc770ee974e8[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Feb 20 15:25:34 2020 +0800

    *: reduce duplicate into_other (#6616)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 40534f59c015710247cfdd4f6db41b9d38305da2[m
Author: 3pointer <luancheng@pingcap.com>
Date:   Thu Feb 20 14:36:35 2020 +0800

    backup: break one key scan when met delete version (#6655)
    
    Signed-off-by: luancheng <luancheng@pingcap.com>

[33mcommit faa49ac0d22b7c1063ea3bac1f40a9ac33d0386b[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Feb 20 13:41:54 2020 +0800

    apply/yield: remove unnecessary log (#6654)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 66d3b534987a2bb0a83b7c4ce23fa02ceb095a26[m
Author: Pengcheng Xu <pengcheng.xu@elastic.co>
Date:   Thu Feb 20 00:28:05 2020 +0800

    copr: Add vectorize day_of_week (#6645)
    
    Signed-off-by: Poytr1 <pooytr1@gmail.com>

[33mcommit 4761287587c9dcbcec1d86257a9c9ef1eab50f74[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Wed Feb 19 19:23:39 2020 +0800

    Replace the fork version with upstream murmur3 (#6559)

[33mcommit a6f9cd01a73b30806e23b4aa18c93017f5f69c7e[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Feb 19 14:21:34 2020 +0800

    gc_worker & service/kv: Implement Non-streaming physical_scan_lock (#6631)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 901eecaa7f4ec08b650004528b7e0a751fc806d2[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Wed Feb 19 18:23:50 2020 +1300

    Revert "*: fix some test errors on AMD and/or modern Linux kernels (#6643)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 882c7d37a49cdc4926cc534e087dbb08f88edc7d[m
Author: Pinglei Guo <at15@outlook.com>
Date:   Tue Feb 18 19:52:20 2020 -0800

    copr: Add vectorized left and right (#6499)
    
    Signed-off-by: at15 <at15@outlook.com>

[33mcommit 5019e61d0c8e1966f6b649894ad17ba128068a1e[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Wed Feb 19 14:01:20 2020 +1300

    Make fuzzing work. (#6626)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 03f2dbe132f4c48d5e9dda460d62bf2ed269eb10[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Tue Feb 18 20:11:49 2020 +0800

    raftstore: add cmd observer (#6602)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit aa786e1c3cd20260ce3258779438b29afbd933fc[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Tue Feb 18 09:10:19 2020 +1300

    *: fix some test errors on AMD and/or modern Linux kernels (#6497)
    
    Signed-off-by: Nick Cameron <nick@ncameron.org>

[33mcommit 36dab75da84ec57374d364a4a4af9146ec31df07[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Mon Feb 17 21:38:21 2020 +0800

    copr: Fix fuzz error in `codec::Duration` (#6636)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit d2af249c4ca6c55b110b0c34461b0afe6b6bf581[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Feb 17 16:34:24 2020 +0800

    *: unify read pools by default (#6593)

[33mcommit f5b7dc8c9321b13274fced3aaa2b6801a715f2ae[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Feb 17 15:58:26 2020 +0800

    *: add stack size and max task number limit to unified read pool (#6597)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit b0241e858f36f689c53856b67f0f6fe9b93bea63[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Sun Feb 16 19:54:56 2020 +0800

    rust-rocksdb: Add reference-counted TablePropertiesCollection bindings (#6550)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit a7af9469d4af92b409ddf75cadcbbdd356c9a144[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Fri Feb 14 22:43:26 2020 +0800

    raftstore: learner load merge target & fix a merge network recovery bug (#6598)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 8c3f41a99ed163d731a3a55415b0fa0b0b5f3c5b[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Feb 14 22:22:24 2020 +0800

    fix test target (#6619)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit e4807144f495d7d514501ef2d8852c5d4c67cf37[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Fri Feb 14 21:07:26 2020 +0800

    raftstore: set wait_merge_state to none after resuming pending state (#6615)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>

[33mcommit abe56a3534762081bbfa1010917c8fc8d595f947[m
Author: qupeng <qupeng@pingcap.com>
Date:   Fri Feb 14 17:37:34 2020 +0800

    raftstore: fix a panic in read index queue (#6609)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit f31863a5551976188bb60bad9a594f67a5166500[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Feb 14 15:51:40 2020 +0800

    raftstore: move raftstore to components (#6583)
    
    * raftstore: move raftstore to components
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * fix prost build
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    Co-authored-by: NingLin-P <linning@pingcap.com>

[33mcommit 37b675cc4be03dae3b3d20599747917e76d88004[m
Author: SIGSEGV <gnu.crazier@gmail.com>
Date:   Fri Feb 14 14:47:27 2020 +0800

    metrics: add grafana and alertmanager scripts (#6433)
    
    Signed-off-by: lucklove <gnu.crazier@gmail.com>

[33mcommit ac9d4913557d7c96cad982c6e772c4e2e792b168[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Fri Feb 14 14:31:56 2020 +0800

    copr: implement macro match_template_collator (#6606)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit 30db88d69907b308337f07768bf85b26ff2cc346[m
Author: mwish <1506118561@qq.com>
Date:   Fri Feb 14 14:13:56 2020 +0800

    Server: adding binary_path to store for tikv (#6601)
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit c26ac6025d9d6779d429ce4907fd2a6f54fb0302[m
Author: Fullstop000 <fullstop1005@gmail.com>
Date:   Fri Feb 14 13:56:56 2020 +0800

    copr: introduce Binary Json (#6388)
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>

[33mcommit 524870e5415449fba3f3c61f943fcf6ea487569a[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Fri Feb 14 12:48:16 2020 +0800

    raftstore: change the region merge flow path to fix some bugs (#6481)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>

[33mcommit f20f6303ff79d1696aeff9adfec77842236c9c03[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Fri Feb 14 12:27:46 2020 +0800

    *: add metrics for unified read pool (#6534)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 7996a223a221d6200dfb5993f577257ff66b0ff3[m
Author: Yixuan Zhao <johnsonqrr@gmail.com>
Date:   Fri Feb 14 10:27:15 2020 +0800

    readme: update build job badge url (#6595)

[33mcommit 551e30524c0ce9559c8c8f298e2dd51641b9ad24[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Fri Feb 14 00:14:30 2020 +0800

    copr: Support collation aware like (#6592)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit f98a32e4a092ad800aa5648919698b113b22c93d[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Thu Feb 13 21:41:35 2020 +0800

    config: skip some rocksdb config (#6599)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 8fa0e059e14c3a1433fcb581452f9ea0a14a72ce[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Thu Feb 13 10:11:53 2020 +0800

    engine_traits: fix typo (#6590)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit 8e4abec35d5279620ddf0de72697ffb78d0864b4[m
Author: mahjonp <junpeng.man@gmail.com>
Date:   Wed Feb 12 23:10:21 2020 +0800

    Makefile: add a doc test rule and fix a failed doc test case (#6551)
    
    Signed-off-by: mahjonp <junpeng.man@gmail.com>

[33mcommit ff6fda3f68d159c53bd9fb0d871ebd970778ac77[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Wed Feb 12 21:40:50 2020 +0800

    copr: Refine collation comparison (#6589)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit 359b6b778bccf7fbc8e16450e28657aec2775ace[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Wed Feb 12 21:12:50 2020 +0800

    add unified read pool configs to config template (#6585)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit bf6e53b033618c58ba822f9844c9048bf64a6b07[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Tue Feb 11 23:22:46 2020 -0800

    Increase Titan default max-background-gc to 4 (#6555)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>
    
    ###  What have you changed?
    Current default of titan max-background-gc is 1, which is too small. Increase it to 4, or num_cpu, whichever is smaller.
    
    ###  What is the type of the changes?
    Improvement
    
    ###  How is the PR tested?
    start a tikv with titan enabled manually. check rocksdb log to make sure max-background-gc=4.
    
    ###  Does this PR affect documentation (docs) or should it be mentioned in the release notes?
    no
    
    ###  Does this PR affect `tidb-ansible`?
    will update config template.
    
    ###  Refer to a related PR or issue link (optional)
    
    ###  Benchmark result if necessary (optional)
    
    ###  Any examples? (optional)

[33mcommit a9b684cff7dda1462e62bd0ec691754d3a66708b[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Feb 11 18:21:36 2020 +0800

    *: apply suggestions from cargo audit (#6580)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit bca0b41d3d7eb25ad85c802a87f941929735560c[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Tue Feb 11 18:05:07 2020 +0800

    copr: Support collation aware string compare (#6566)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 5fd2239d508a1bd437d2f838c71b1d12fe61ad92[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Tue Feb 11 16:17:06 2020 +0800

    copr: fix datetime fallback handler edge cases (#6569)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 7c4202a1c8faf60eda659dfe0e64e31972488e78[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Feb 11 15:58:06 2020 +0800

    bump 4.1.0-alpha (#6567)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 90b274e5392b296487b3db7e3beb47d265aabe2d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Feb 11 15:22:05 2020 +0800

    raftstore: decouple raftstore from config mod (#6572)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 6d4dbaf69adc0cb5ef5ef313faff7ad67f1f53b1[m
Author: Lonng <heng@lonng.org>
Date:   Tue Feb 11 11:51:35 2020 +0800

    server: report the start timestamp of current node to PD (#6581)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 3a40c38325c0868d829e413736f7037897a0c340[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Tue Feb 11 11:17:35 2020 +0800

    raftstore: read index message count metric (#6579)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 6c872cbf492886a351e348bccd3e408c77583c46[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Feb 10 16:54:05 2020 +0800

    pre-transfer-leader: use log term instead of term (#6573)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 95bd752a26550930ce0d444e8073a4214824d6b1[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Mon Feb 10 16:25:06 2020 +0800

    Add an engine template project - engine_panic (#6383)
    
    * engine_panic: Add engine_panic project
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_panic: Add module structure
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_panic: Fill in types
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_panic: Fix Iterator defs
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_panic: rustfmt
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_panic: Fixes from merge
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 8af4016554b05de9334b1b821145fa92941b660d[m
Author: kennytm <kennytm@gmail.com>
Date:   Mon Feb 10 11:46:05 2020 +0800

    config: fix a typo (ture -> true) (#6570)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit b10454c81c4309fa44fb36db3de4756d36d0f689[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Sun Feb 9 16:27:39 2020 +0800

    tidb_query: handle unary DAG requests via only batch executors (#5817)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit bd94da3107ad4d515458068b124d8b107ebac1e6[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Feb 7 21:25:26 2020 +0800

    Introduce pre transfer leader (#6539)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 1cbb91ecebce4c5f1b10c47323e4c806c38d5eb8[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Feb 7 17:30:56 2020 +0800

    raftstore: cleanup storage import (#6538)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit d15463937f0fe0aa8bf7fc934783e4201f91a355[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Feb 7 13:02:16 2020 +0800

    cdc: add CDC delegate (#6522)
    
    * cdc: add CDC delegate
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * temporarily disable clippy check for tests
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit ce9bf269f17a11836e3acff5e68eaa43788996a9[m
Author: Lonng <heng@lonng.org>
Date:   Fri Feb 7 09:42:26 2020 +0800

    diagnostics: refine the load information of memory (#6535)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit bdd97f0338377c29b2cd8e89e73c17aeb8a0b997[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Feb 6 19:51:56 2020 +0800

    batch-system: add benchmark (#6477)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 3ba72ab98ed8f3155bca4bd8fed13d1ddbf1a02a[m
Author: YangKeao <keao.yang@yahoo.com>
Date:   Thu Feb 6 15:22:29 2020 +0800

    update pprof version to 0.3.15 (#6529)
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>

[33mcommit 15693cede0e626fc9878b7667a6b21e4e894b5e9[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Feb 6 11:02:56 2020 +0800

    apply: support yield (#6487)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit b95583a719bd51bd68b8033a35afccb5616e8c92[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Thu Feb 6 10:42:56 2020 +0800

    gc_worker: Split config and GCManager out to make the file smaller (#6530)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 02ac19facbdca76025f9eb16005707f2812b3403[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Wed Feb 5 23:58:42 2020 +0800

    Remove governance in TiKV repo (#6416)
    
    * Remove governance in TiKV repo
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit c784d3485973104192291072403d993d0a27630c[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Feb 5 15:04:55 2020 +0800

    makefile: simplify test threads (#6524)
    
    Signed-off-by: Jay Lee <BusyJayLee@gmail.com>

[33mcommit 35c8c7d720b336d8944a35ed134e99523ad202b2[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Feb 5 14:49:55 2020 +0800

    raftstore, storage: move storage tests from raftstore to other mods (#6527)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 34b6e6c114f82d44e373867d2604f75f496f35ef[m
Author: Renkai <gaelookair@gmail.com>
Date:   Wed Feb 5 14:08:08 2020 +0800

    Optimize Chunk Encoder (#6341)
    
    Signed-off-by: Renkai <gaelookair@gmail.com>
    
    Co-authored-by: Wenxuan <hi@breeswish.org>

[33mcommit 0f08b6beafe17825329d4a1c00a22db6b6699e6c[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Tue Feb 4 16:11:39 2020 +0800

    tidb_query: fix parse 'yyyy-mm-dd HH:MM:SS' format to Duration (#6492)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 7e60f11d47cd952d4ff3848920834dc345b54626[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Feb 4 15:48:25 2020 +0800

    *: move properties and compact_listener into engine_rocks (#6515)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit d0a03d2e7019d722193acbba192c75680bc05c7d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Feb 4 14:33:04 2020 +0800

    storage, raftstore: move RegionInfoProvider into raftstore (#6514)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 20606553a653de34100b982913996d6644f4cd60[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Tue Feb 4 13:18:28 2020 +0800

    rust-rocksdb: Travis mac build with xcode11.3 (#6520)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit e4e3f067dd496f66fbae7407853c800f6f6f8f4f[m
Author: xinhua5 <xinhua5@users.noreply.github.com>
Date:   Mon Feb 3 19:39:55 2020 +0800

    backup raw kv (#6308)
    
    Signed-off-by: xinhua5 <xinhua5@163.com>
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit daa31e73bfaf91aaa1f5025c76015e2e6cad52d2[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Mon Feb 3 19:21:25 2020 +0800

    CDC: Implement Initializer of Endpoint (#6490)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit b383f12416adbf11aaa6eec362bf41cc7b94c675[m
Author: disksing <i@disksing.com>
Date:   Mon Feb 3 18:56:55 2020 +0800

    pd: minor log adjustment (#6512)
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit ed953bd3feffce8c51a3c562ca4b78c24e3a4dcc[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Mon Feb 3 13:29:25 2020 +0800

    raftstore: refactor raftstore coprocessor (#6479)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 4620cd89ec8cba752b2c47a20253701272ee112a[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Mon Feb 3 16:09:25 2020 +1300

    build: fix builds on Mac OS (#6510)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 7c679639885172814c4ef28f00d190337ce284a4[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Fri Jan 31 14:48:57 2020 +0800

    copr: chunk time use new 8 byte format (#6418)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit d89c0ff8f16224d23aad142375543313c632b6c4[m
Author: Steven <steven.gu@letote.cn>
Date:   Thu Jan 23 08:31:40 2020 +0800

    tnx_types: Reduce Error Size (#6476)
    
    Signed-off-by: Steven Gu <asongala@163.com>

[33mcommit d648cd32528745dbdb09bb0583dd7a7b24f06453[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Tue Jan 21 22:27:11 2020 -0800

    external_storage: add S3 support (#6209)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 3e1c33d148b2512631b75d263ed2b4c975ef25b2[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Tue Jan 21 19:37:41 2020 +0800

    fix unstable test_replica_read::test_read_after_cleanup_range_for_snap (#6475)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit f63799175e361c17f3b0f1188faed210120319fb[m
Author: qupeng <qupeng@pingcap.com>
Date:   Tue Jan 21 16:22:06 2020 +0800

    raft: peer shouldn't hibernate if it has pending reads (#6438)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 16c56304d15e2d94991378d9d96d496072dd1543[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Tue Jan 21 05:05:04 2020 +0800

    Add prominent docs links to README. (#6468)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 2c97d8706c0def76409a184d50c8ba10a904a3cc[m
Author: Lonng <heng@lonng.org>
Date:   Sun Jan 19 17:03:03 2020 +0800

    fix inconsistent with tidb in parsing Duration from String (#6474)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 638132100ea3885a9249ab4c372499df531338e4[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Sun Jan 19 16:34:33 2020 +0800

    config: get the current using config through status config (#6480)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit d1094ba898092c279a05176f7f4155b5bcf72d40[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Sun Jan 19 11:30:04 2020 +0800

    rust-rocksdb: Mark SequentialFile as Send (#6485)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit 6ab58f92cbd798ed316b7483ade5abef7e24214a[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Sat Jan 18 12:08:21 2020 +0800

    Fixup fingerprint issue in Dockerfile (#6455)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 08ef52294dd7762d07df8b7a7f1f8231b79a0a30[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Fri Jan 17 14:41:22 2020 +0800

    config: not report some config to PD (#6454)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 5057e7f86aa6fc0a88c618ad01dcf14562c05d2c[m
Author: Lonng <heng@lonng.org>
Date:   Fri Jan 17 14:17:03 2020 +0800

    tidb_query: fix CAST binary string as int (#6463)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit cc9af9f5e0be9d3bc523dd96a7eba9d8fdd59069[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Fri Jan 17 16:52:22 2020 +1300

    storage: reduce code duplication using a few macros (#6473)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit c75e85a7535127b4373514f0c80fc631dd30b7b7[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jan 16 23:26:24 2020 +0800

    cdc: add raft role observer (#6471)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 1c6feeff4d2b8899a33fcbb5c5a925849cbbcb71[m
Author: qupeng <qupeng@pingcap.com>
Date:   Thu Jan 16 14:44:01 2020 +0800

    test: stabilize prevote cases. (#6472)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit a4875a2bea4fc45ab845d97976f7282474c3d493[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Thu Jan 16 14:14:37 2020 +0800

    copr: refactor `Duration` parser (#6464)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit b7dc034f79a3749c62410f8658f50223c1d2e5fa[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jan 16 12:45:51 2020 +0800

    *: prune unused dependencies (#6470)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 18a4fe02b916eb4f96873e5e92ad02ec349077a4[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Thu Jan 16 04:52:22 2020 +0800

    Txn: move some commands functionality around. (#6305)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit f6056959c8d1cfeb53def017aba3d9e2bf924927[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Tue Jan 14 13:50:14 2020 +0800

    Fix Prost build (#6469)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit a9be441bdabe328cf29714aa0410df18e694f9fb[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Sun Jan 12 15:26:32 2020 +0800

    Fix clippy issues (#6466)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 5ede0d18371ec3e32e880c7bd7dde01f16cfbe6d[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Sat Jan 11 18:46:43 2020 +0800

    copr: Switch to use nanosecs for Duration (#6434)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit 4aa395a5e2bfd139753747bb56c186dd7c51beb0[m
Author: Lonng <heng@lonng.org>
Date:   Fri Jan 10 23:39:14 2020 +0800

    tidb_query: fix convert integer to duration (#6459)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 8a54289e5b7093a15a5789f62c40348176a8487e[m
Author: Lonng <heng@lonng.org>
Date:   Fri Jan 10 22:01:17 2020 +0800

    tidb_query: fix parse time from string in special case 00:00:00 (#6461)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 6153b1957b6cc0a900327b24c40955562d80a50e[m
Author: qupeng <qupeng@pingcap.com>
Date:   Fri Jan 10 20:59:31 2020 +0800

    raftstore: handle conf change with snapshot correctly (#6352)

[33mcommit e02d885ed797fa1ac1db989fa778c40270e25e58[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Fri Jan 10 17:59:27 2020 +0800

    *: allow replacing all the readpools with yatp (#6401)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    Co-authored-by: Shirly <AndreMouche@126.com>

[33mcommit 0f372556e0c96a4db0ce64958187c6875008601f[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Fri Jan 10 16:36:14 2020 +0800

    Reserve disk space before create db engine (#6321)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit 4843f6394ec459260ecd116c379407563ca8bdb3[m
Author: Lonng <heng@lonng.org>
Date:   Fri Jan 10 15:55:53 2020 +0800

    tidb_query: fix RealPlus overflow inconsistent with tidb (#6458)
    
    Signed-off-by: Lonng <heng@lonng.org>
    
    Co-authored-by: pingcap-github-bot <sre-bot@pingcap.com>

[33mcommit a2d66b81dbcc38a09d52911abc3722ca4b62e9a6[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Fri Jan 10 15:16:47 2020 +0800

    config: move ConfigClient out of PdClient (#6419)
    
    * use ConfigClient trait
    
    Signed-off-by: linning <linningde25@gmail.com>
    
    * write raftstore config change into metrics
    
    Signed-off-by: linning <linningde25@gmail.com>
    
    * print config change log after VersionTrack::update
    
    Signed-off-by: linning <linningde25@gmail.com>
    
    * use accurate Ordering for VersionTrack
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 965e8bfbca1aa1043a4785a419972bbe9d5c957c[m
Author: kennytm <kennytm@gmail.com>
Date:   Fri Jan 10 13:59:45 2020 +0800

    *: replace RocksIOLimiter by a pure-Rust async implementation, and eliminate the extra copies to memory when backing up a file (#6374)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 76866aec9c1ee72c236918d012b2c307854fc932[m
Author: qupeng <qupeng@pingcap.com>
Date:   Fri Jan 10 13:40:39 2020 +0800

    raftstore: retry pending read index requests (#6348)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit a5d14c3784f44e37fad4b4635820d41ebfcaf8c8[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Fri Jan 10 12:48:44 2020 +0800

    config: support online change rocksdb config (#6377)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 06929fa1f04b092b5e8974129af29b9a8c6fb6df[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Jan 9 22:59:44 2020 +0800

    raftstore: extract batch system (#6414)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit d32b5ff11958e8dfba97e53bd6b9511b727d53a0[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jan 9 20:24:55 2020 +0800

    cdc: add basic CDC framework (#6435)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit cc7fd70dfa0fcffb71ae456b0ac5cdce2bbaf96f[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Thu Jan 9 19:32:14 2020 +0800

    gc_worker: Implement Lock Observers (#6138)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 0d3f2b971ed7d00cbfbbcb368819482875c11087[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu Jan 9 19:02:15 2020 +0800

    do not encode key in batch raw get (#6453)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 8ce3afadf9e3e95ace649d14b1bc6f16479a5670[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Thu Jan 9 01:36:18 2020 -0800

    update rust-rocksdb (#6449)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>
    
    ###  What have you changed?
    
    Update rust-rocksdb with the following changes.
    ```
    72e45c3 2020-01-08 yiwu@pingcap.com     Update rocksdb to cb7efe6d7 (#419)
    1ef6fe7 2019-12-31 sre-bot@pingcap.com  titan: update master build status link (#417)
    ```
    Changes to rocksdb repo:
    ```
    cb7efe6d7 2020-01-08 zbk602423539@gmail.. Add oldest snapshot sequence property (#6228) (#141)
    c7d775168 2020-01-07 zbk602423539@gmail.. statistics: make ticker and histogram extendible (#136)
    ebec1bd8a 2020-01-07 bupt2013211450@gma.. add multibatch write into memtable (#131)
    4dcfb8789 2020-01-07 zbk602423539@gmail.. fix invalid register for .seh_savexmm (#140)
    ```
    Also update rust-rocksdb repo link to tikv/rust-rocksdb.
    
    ###  What is the type of the changes?
    Engineering
    
    ###  How is the PR tested?
    CI
    
    ###  Does this PR affect documentation (docs) or should it be mentioned in the release notes?
    no
    ###  Does this PR affect `tidb-ansible`?
    no
    ###  Refer to a related PR or issue link (optional)
    
    ###  Benchmark result if necessary (optional)
    
    ###  Any examples? (optional)

[33mcommit 917c752f1bd392cb8ea5ede6c3a04a171c845c1b[m
Author: qupeng <qupeng@pingcap.com>
Date:   Thu Jan 9 16:55:32 2020 +0800

    raftstore: remove nested loop replica read queue (#6396)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 3c2a0d553ca0311269623b32d041d8e8f30a33e0[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Thu Jan 9 16:09:40 2020 +0800

    mvcc: Implement DeltaScanner in ForwardScanner framework (#6394)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit ea5d5cc0984e5eb8904f1d4ad4b76714522d0790[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu Jan 9 15:51:42 2020 +0800

    *: allow coprocessor to use yatp (#6375)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 8dacc1881e4c9a15bcdedb38fd2cb293a8a33cd3[m
Author: Lonng <heng@lonng.org>
Date:   Thu Jan 9 15:28:42 2020 +0800

    tidb_query: reset the hms after validating date (#6447)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 837299f3cc721b17222425ef924d469dc1ea58b8[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Thu Jan 9 11:34:11 2020 +0800

    copr: check `Date` via `check_datetime` (#6442)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 0fa1834a489fa5a7bd9a97456f5bd623c0803a78[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Wed Jan 8 17:35:10 2020 -0800

    Dockerfile robustness improvements (#6408)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit f61c09bb3943a5e1cd594993fa6886ed661e461e[m
Author: Lonng <heng@lonng.org>
Date:   Wed Jan 8 21:35:47 2020 +0800

    tidb_query: fix parse time from a string in format yymmddhhmm (#6440)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 4fb7dc0a424e7ad098ad11702ab4c973087acd64[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Wed Jan 8 16:23:15 2020 +0800

    Enable default proto feature flag (#6436)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit fc32feee9c988361fb92125f29bc8cee17f9ee97[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Wed Jan 8 12:06:43 2020 +0800

    config: support online change gc worker config (#6359)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 02b77fb94fe12ad830a8330669862681f6fe7e06[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Tue Jan 7 17:30:55 2020 +0800

    deadlock: more solid role change observer (#6415)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 80b5d60972644db88c8c1685edfcf527112581c4[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jan 7 16:37:11 2020 +0800

    raftstore: speed up conf change (#6421)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit d3328f2e1092de444665bd3fe4563646984f618e[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Tue Jan 7 15:53:40 2020 +0800

    lock_manager: update default config (#6426)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 19a3f621bb297e97a6dbb4c92ff2491e68233394[m
Author: Lonng <heng@lonng.org>
Date:   Tue Jan 7 15:36:50 2020 +0800

    tidb_query: fix get_valid_int_prefix in SELECT statement context (#6425)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit f8762cb7a8d2744a5a9fee2f390c9acb1c74c193[m
Author: Lonng <heng@lonng.org>
Date:   Tue Jan 7 11:26:47 2020 +0800

    tidb_query: fix log_2args rpn function inconsistent with tidb (#6424)
    
    Signed-off-by: Lonng <heng@lonng.org>
    
    Co-authored-by: Iosmanthus Teng <MyOsmanthusTree@gmail.com>

[33mcommit 1211ed161c093ab180e42879146dedd05c4c6fb5[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Jan 6 17:04:40 2020 +0800

    lock_manager: more metrics (#6392)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 6a42face0c2e02b35e58a96cf42c4faab00205a4[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Mon Jan 6 16:38:26 2020 +0800

    gc_worker: Implement physical scan lock (#6070)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 3f21fc69e48a9aa9383f470c02d7b8f987033275[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Mon Jan 6 15:38:12 2020 +0800

    copr: Add vectorize random_bytes (#6287)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit e6edc3cff1945d0a8de872fd4ef555b8c97ef34f[m
Author: qupeng <qupeng@pingcap.com>
Date:   Mon Jan 6 15:08:06 2020 +0800

    tests: fix failpoint cases (#6391)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>
    
    Co-authored-by: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>

[33mcommit cdf6d8804ee43ecfaadbd42e0dc54448a934121e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Jan 6 14:42:42 2020 +0800

    pd_client: support get_tso RPC (#6389)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 7f243d4e7232b4782d05472d069cc55bdd6c5954[m
Author: Lonng <heng@lonng.org>
Date:   Mon Jan 6 11:24:08 2020 +0800

    tidb_query: fix cast string to real inconsistent with TiDB (#6390)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 47c2754aa632b32c2a24f390baa7d0f49d1560d1[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Sun Jan 5 17:21:10 2020 +0800

    change default write buffer size of lockcf to 32MB (#6393)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit c95058d08a2d3d00a4f2b9b4602d656d96997a7d[m
Author: Ben Ye <yb532204897@gmail.com>
Date:   Sun Jan 5 02:48:11 2020 -0500

    Unify tikv port (#6397)
    
    Signed-off-by: yeya24 <yb532204897@gmail.com>

[33mcommit 535ac80b66050c3d624838719cc65fe850ee5f9e[m
Author: 3pointer <luancheng@pingcap.com>
Date:   Fri Jan 3 17:16:51 2020 +0800

    sst_importer: add metrics (#6395)
    
    * sst_importer: add metrics
    
    Signed-off-by: luancheng <luancheng@pingcap.com>
    
    * address comment
    
    Signed-off-by: luancheng <luancheng@pingcap.com>

[33mcommit 06176af0041818606a6264b32d4495e3c33fcd40[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Fri Jan 3 15:02:56 2020 +0800

    config: add switch of online config change feature (#6331)
    
    * add switch of online config change feature
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit d40fd55c606fa8d5b9f6ed3eac9c1e70be1a0db9[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Thu Jan 2 20:33:11 2020 +0800

    gc_worker: Check need_gc before getting snapshot (#6333)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 225f5cffd90e78299d45411e1e26db529a09468e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jan 2 19:26:40 2020 +0800

    resolved_ts: add resolved_ts (#6371)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 267a5ebf7edb229cc53f5a8faa71975225bc6d8e[m
Author: Yixuan Zhao <johnsonqrr@gmail.com>
Date:   Thu Jan 2 11:10:10 2020 +0800

    make dist_release for fail_release (#6369)

[33mcommit 0de6ef5af5b75cf523ae0c54d9b433f62a407f06[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Wed Jan 1 18:11:10 2020 +0800

    *: update bindgen to 0.51.1 to fix grpcio build (#6382)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 8a017d70f2f5abf77b3037e239d9eb9b20a75f39[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Jan 1 17:16:40 2020 +0800

    More snapshot abstraction (#6196)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit c0dee9da2e9f1734f80baff20cbd33f2a0c9d157[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Tue Dec 31 02:03:11 2019 +0800

    github: move pull request template tip into comment (#6346)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit 8376bb6b8458d3ba0cc179f9158fb0e931abbb26[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Mon Dec 30 20:20:10 2019 +0800

    sst_importer: Fix MvccProperties didn't generated during restoring (#6349)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 19082d4e151f12d759a09b42921df38d8de91bb6[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Dec 30 15:37:41 2019 +0800

    *: upgrade toolchain to 2019-12-20 (#6370)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit d8d116f3a4c9632b2fe1e1658a1bb649c1d8a9f1[m
Author: qupeng <qupeng@pingcap.com>
Date:   Mon Dec 30 15:00:28 2019 +0800

    server: keep alive on server side (#6342)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 62becf3eb4f8d3dfd3df1142b66ce7d805b9417e[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Mon Dec 30 10:41:43 2019 +0800

    tests: properly exit tests (#6357)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit de7c129168e3b6fce11ff31266082ead8f46c162[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Sun Dec 29 21:46:40 2019 +0800

    copr: Time use deterministic fsp_tt while type == Date (#6362)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit 0fd7c3ba856f96422c476c10c9066989e5195065[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Sun Dec 29 21:30:41 2019 +0800

    Fix clippy style warning introduced by #5916 (#6363)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit dde39e487fc2ff601d789489d18998317fb0f38e[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Sun Dec 29 20:03:40 2019 +0800

    tikv_util: remove the tedious type parameter (#6365)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit 33b58b111d6f7d119aefc499720cc94e8386cce5[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Sun Dec 29 19:43:10 2019 +0800

    Refactor search log batcing (#6364)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit 218c79858a54d2c3df8017b5cfbf429d58a67aaa[m
Author: Lonng <heng@lonng.org>
Date:   Sat Dec 28 17:02:11 2019 +0800

    refactor search log interface of diagnostics service (#6356)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 25f9d2902eb9e5246073afd5c4f40f3910a41cb6[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Fri Dec 27 22:44:40 2019 +0800

    copr: add vectorized json-depth (#6167)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit 02266b7edc45d39cf57365795c075b838bda6a88[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Fri Dec 27 20:06:07 2019 +0800

    txn: use Commit to clean up pessimistic locks (#6353)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 28d44ceed5dfa5aeb7a5e324a22150b622ba992b[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Fri Dec 27 19:41:13 2019 +0800

    config: support online change lock manager config (#6338)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 7528194351284393193b7da8a6e3f364be8e978e[m
Author: niedhui <niedhui@gmail.com>
Date:   Fri Dec 27 19:19:41 2019 +0800

    copr: Use new row format on table scan (#6132)
    
    Signed-off-by: niedhui <niedhui@gmail.com>
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 4f8b0a4f7b4e90376f4bda6d5a9dc62e55edb58d[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Fri Dec 27 17:10:11 2019 +0800

    config: support online change split check config (#6294)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 7e2ad43e0d251af8832e8143f68ea53e7c822df5[m
Author: Fullstop000 <fullstop1005@gmail.com>
Date:   Fri Dec 27 15:12:42 2019 +0800

    copr: derive Copy for Decimal (#6315)
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>

[33mcommit 76028c97142de786a6d3833060f44f58c0aa6f34[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Fri Dec 27 12:22:11 2019 +0800

    copr: Add non-vectorized json-length (#5916)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit 52c22db355f14c191dd525621010c54719c01e74[m
Author: qupeng <qupeng@pingcap.com>
Date:   Thu Dec 26 17:44:29 2019 +0800

    raftstore: fix a stale read bug in follower read (#6340)
    
    * raftstore: fix a stale read bug in follower read
    
    When a new leader has not committed to it's current term, it can not
    response ReadIndex requests. In raft-rs the check is ok, but in
    raftstore it's not. This PR adds the check in raftstore.
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 29bf2ac8f72f737f17988889b2cbfb2eb5e1e010[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Thu Dec 26 14:43:40 2019 +0800

    gc_worker: use future worker in GCWorker (#6048)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 281b7d440708428f23f808a3aae76b18d4eec3ad[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Dec 25 12:08:11 2019 +0800

    raftstore: Add apply snapshot observer  (#6015)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit c0759ecc1f3047a4d12f61516c822942b04afc9a[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Wed Dec 25 07:56:10 2019 +0800

    Extract some common logic out of VectorValue (#6322)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit ab80937c81d8cdab2ce046cb90cd8e62478b5893[m
Author: KaiYu Feng <loveress01@outlook.com>
Date:   Tue Dec 24 18:19:11 2019 +0800

    copr: Restore missing test for `interval_xxx` funcs. (#6216)
    
    Signed-off-by: FKYnJYQ <loveress01@gmail.com>

[33mcommit a3fc75f8266ac59f62e9e796061823b75a20c145[m
Author: qupeng <qupeng@pingcap.com>
Date:   Tue Dec 24 16:26:34 2019 +0800

    tests: stabilize integration cases about prevote (#6320)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit ab5d1d6233541cb4162d45f70a82a898a14c984e[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Tue Dec 24 15:10:44 2019 +0800

    config: online change raftstore config (#6273)
    
    * add support for online change raftstore config
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 6654309af9ff4a532a344d554b2bba867a5c97eb[m
Author: lhy1024 <admin@liudos.us>
Date:   Tue Dec 24 12:24:38 2019 +0800

    add table properties for br online restore (#6295)
    
    * add set_db
    
    Signed-off-by: lhy1024 <admin@liudos.us>
    
    * fix ci
    
    Signed-off-by: lhy1024 <admin@liudos.us>
    
    * add comment
    
    Signed-off-by: lhy1024 <admin@liudos.us>
    
    * fix lint
    
    Signed-off-by: lhy1024 <admin@liudos.us>

[33mcommit 1ffb2a367170b2a49039153c84927ecae0b550b9[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Tue Dec 24 09:37:10 2019 +0800

    github: modify pull request template (#6314)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit 5c0365d028f321db0c40a31a7e1d17d61e735657[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Dec 23 21:58:41 2019 +0800

    filter write cf sst by commit ts in incremental backup (#6291)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit c6dab5577eef394b4d67c5b78692f36a70f92272[m
Author: qupeng <qupeng@pingcap.com>
Date:   Mon Dec 23 17:04:20 2019 +0800

    engine: fix rocksdb iterator's behavior of valid (#6318)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 6ccfe673d60a19626ba19331500d661390ea305c[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Mon Dec 23 10:46:49 2019 +0800

    copr: modify is_prefix_next fn comment (#6301)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit bffa3d8bb450ee5559bd0c565252aebd2d5ffe6f[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Sun Dec 22 01:01:16 2019 +0800

    Remove jemalloc check from ci_test (#6306)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 8d8d46294f100d7d74f8cc4dddf837def201cad9[m
Author: Fullstop000 <fullstop1005@gmail.com>
Date:   Sun Dec 22 00:25:48 2019 +0800

    copr: use memcpy in read/write decimal chunk  (#6312)
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>

[33mcommit 8a32315f87838b1dd4d0946284af287f06a4be3a[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Sat Dec 21 13:16:17 2019 +0800

    copr: Add vectorize uuid (#6288)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit a4f9550baf9c76ffc2093bbb92f2cf91c903b519[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Sat Dec 21 12:45:10 2019 +0800

    Try to stablize IO test (#6303)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 87775a06347e67efe835f7b662069dd58a3d4398[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Sat Dec 21 12:35:09 2019 +0800

    test: fix unstable test_waiter_manager_wake_up (#6304)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit ba3460e1c37fa2059e41a75272367ed6f9dcdcf1[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Sat Dec 21 01:15:18 2019 +0800

    Implement push_together (#6233)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 9295ab18eda9a83b074103bc4d515cf927566894[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Fri Dec 20 17:47:58 2019 +0800

    lock_manager: polish waiter manager (#6244)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit ae5cc1e634e84e4fe005fdf2217a49581fdebd33[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Fri Dec 20 20:37:52 2019 +1300

    Update CONTRIBUTING.md with instructions on review flow (#6289)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit a426b3b3c8ccbd1de6dae4d94b78f2ad535786dc[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Fri Dec 20 14:57:30 2019 +0800

    cop: change handle_request interface to async (#6250)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 9c387d5b45d1a8a0ebeda83bf2d0669499ed9d04[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Thu Dec 19 22:40:37 2019 -0800

    Update rust-rocksdb and re-enable force_consistency_checks (#6285)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 0c9669dd1727b4142d9a5fe248d99a7752e81d17[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Fri Dec 20 15:59:43 2019 +1300

    txn: refactor the commands module (#6272)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 769b2c954ae00867a50231a2705eb4d02d788586[m
Author: mooncake <471331496@qq.com>
Date:   Thu Dec 19 16:51:17 2019 +0800

    Show profile and enabled features in version output (#6215)
    
    Signed-off-by: zhangyue <zhangyue@silvrr.com>

[33mcommit 66e786f33f7588783087605faad7b9ed5dde2c85[m
Author: chacha923 <chacha923@aliyun.com>
Date:   Thu Dec 19 14:54:17 2019 +0800

    copr: add non-vectorized uuid (#6264)
    
    Signed-off-by: chacha923 <chacha923@aliyun.com>

[33mcommit b58685ff3314a347da0c891e62910eb27c50faf0[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Wed Dec 18 22:08:55 2019 -0800

    titan: simplify titan config in config template (#6269)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>
    
    <!--
    Thank you for contributing to TiKV!
    
    If you haven't already, please read TiKV's [CONTRIBUTING](https://github.com/tikv/tikv/blob/master/CONTRIBUTING.md) document.
    
    If you're unsure about anything, just ask; somebody should be along to answer within a day or two.
    -->
    
    ###  What have you changed?
    Simplify titan config in config template. Removing those not normally need to change by user.
    
    ###  What is the type of the changes?
    Engineering
    
    ###  How is the PR tested?
    N/A
    
    ###  Does this PR affect documentation (docs) or should it be mentioned in the release notes?
    no
    
    ###  Does this PR affect `tidb-ansible`?
    Will update ansible accordingly.
    
    ###  Refer to a related PR or issue link (optional)
    
    ###  Benchmark result if necessary (optional)
    
    ###  Any examples? (optional)

[33mcommit 049fdcacb105f298b7c730ae1863f19ad31cfbd8[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Wed Dec 18 21:07:19 2019 +0800

    backup: support incremental backup (#6222)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit a9d5df5304cd859b719bb5554417814075f47f62[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Dec 18 20:45:18 2019 +0800

    importer: rewrite ts for download SST (#6225)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit a364bd2dc60dd135f223eda3e969743675aee4de[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Dec 18 16:37:19 2019 +0800

    Turn on panic=unwind to fix backtraces (#6276)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit df674dd0751b0ff3c80300daf178909a1698ca94[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Wed Dec 18 14:20:48 2019 +0800

    tikv_util: introduce option `log_rotation_size` to rotate log by size (#6148)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 0a8b681db15ef22f7a4d317acb22b2e67e7a8402[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Wed Dec 18 13:46:47 2019 +0800

    copr: Improve miscellaneous impls and tests (#6205)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit 16a39203c62a9771ed6edd3e5024fd78f0549db2[m
Author: Lonng <heng@lonng.org>
Date:   Wed Dec 18 11:40:20 2019 +0800

    fix the Delay of diagnostics service (#6265)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 39200d26607bd061642783d89de6d4b52d8b3615[m
Author: Wang <wangwangwar@gmail.com>
Date:   Wed Dec 18 11:17:59 2019 +0800

    copr: vectorize `Upper` (#6168)
    
    Signed-off-by: wangwangwar <wangwangwar@gmail.com>

[33mcommit 6c0c7da28677f7f6407efbf811a5f68027a94272[m
Author: 张某 <4598181@qq.com>
Date:   Tue Dec 17 20:49:32 2019 -0600

    components/tikv_util: fix typo (#6239)
    
    Signed-off-by: zhang555 <4598181@qq.com>

[33mcommit 0ede6e08da7db4412a95f7c5835bb28071752d27[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Wed Dec 18 15:37:02 2019 +1300

    tests: fix protobuf_codec typo (#6270)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit dec3d008acb56ad0fb34eeeecca62aaa9091b994[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Wed Dec 18 10:29:17 2019 +1300

    refactoring of server/service/kv.rs (#6256)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 05ea21ff5bcc65d0429e34d64530a085822569b0[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Wed Dec 18 10:15:47 2019 +1300

    txn: refactor read pool (#6255)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit fd433c3fd1e0a09ed26227f03e38b1cf0b6eda81[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Tue Dec 17 21:03:18 2019 +0800

    copr: use InUnionMetadata instead of implicit_args (#6190)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit 7f17c967ff9d9d778b2c39432cc5465096187261[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Tue Dec 17 17:47:17 2019 +1300

    cmd: refactor tikv server startup (#6008)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit fc18d1b1913efec184805077457118763d64588c[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Tue Dec 17 14:18:26 2019 +1300

    txn: reorganise a few items and imports (#6246)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit ab8d159c8725cae65ba76234de78fa10262cce70[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Tue Dec 17 09:04:57 2019 +0800

    rust-rocksdb: Fix titan open without cf (#6245)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit 8dcb66af5ec2a1006061579007e0fe283ea53d5b[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Tue Dec 17 00:30:57 2019 +0800

    copr: Add vectorize round(real, int ,dec) (#6173)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit 7ac982d29b529f134464faaba08e9febc700bea4[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Dec 16 21:44:26 2019 +0800

    raftstore: disable table split by default (#5960)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 652dab8414984a7fc2c6a31d385b035af314f036[m
Author: Renkai <gaelookair@gmail.com>
Date:   Mon Dec 16 15:08:15 2019 +0800

    PCP-14: Improve TiKV metrics performance (#6163)
    
    Signed-off-by: Renkai <gaelookair@gmail.com>

[33mcommit 4df619a91dec2c9a36dad45c2180183e0fe4258e[m
Author: Lonng <heng@lonng.org>
Date:   Mon Dec 16 12:33:30 2019 +0800

    implement server information collection of the diagnostics service (#6135)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 77742cd9ad480f549381cb3e0fb7c2560ffa3cd2[m
Author: Lonng <heng@lonng.org>
Date:   Sat Dec 14 18:58:01 2019 +0800

    server: replace the sys-info with sysinfo (#6236)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit c92a4ac8321886cfa96ea75fcf0a1b16e1fba53c[m
Author: Aloxaf <aloxafx@gmail.com>
Date:   Sat Dec 14 16:30:44 2019 +0800

    copr: Add non-vectorized Ord  (#6189)
    
    Signed-off-by: Aloxaf <aloxafx@gmail.com>

[33mcommit b147b38eeaae4129e7e3eb7c06e270b8e0682697[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Fri Dec 13 20:50:46 2019 +0800

    raftstore/apply: skip notification for synchronous destroy (#6004)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>

[33mcommit 321c2861d328091e15db65f38398215b0e62d47b[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Fri Dec 13 17:11:15 2019 +0800

    mvcc: abstract a general forward scanner (#6218)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 339e2400b54fd63482644fa710141805757d9483[m[33m ([m[1;31morigin/master[m[33m, [m[1;31morigin/HEAD[m[33m)[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Fri Dec 13 13:49:43 2019 +0800

    config: add config client (#6199)
    
    * add config client
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit cad7837f20766d68ae57d89dfbfe10d29af11142[m
Author: Lonng <heng@lonng.org>
Date:   Thu Dec 12 22:23:00 2019 +0800

    support streaming for diagnostics interface (#6229)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit d2c45d93bab98df160676d59ad1825b6da3df43a[m
Author: Jiahao Huang <july2993@gmail.com>
Date:   Thu Dec 12 18:18:30 2019 +0800

    Add maximum and minimum timestamp hint for iterator (#6194)
    
    Signed-off-by: Jiahao Huang <july2993@gmail.com>

[33mcommit 26097303ded323637e3857fe12c871868e37af77[m
Author: Connor <zbk602423539@gmail.com>
Date:   Thu Dec 12 15:56:37 2019 +0800

    Extract txn types component (#6219)
    
    * extract txn types component
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 28d2ea9d960f7600874f7f5c5b7632c53e403de3[m
Author: ShuNing <nolouch@gmail.com>
Date:   Wed Dec 11 02:32:00 2019 -0800

    import: add flow control to ingest sst (#6202)
    
    Signed-off-by: nolouch <nolouch@gmail.com>

[33mcommit 134c5663340c8e868f23bc2f3273b84168aed862[m
Author: Rustin <rustin.liu@gmail.com>
Date:   Tue Dec 10 22:50:26 2019 +0800

    copr: Add vectorize rand and rand_with_seed (#6117)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit b005d9b2fa97d4ddf166faff3721f04a245c9cf9[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Dec 10 16:06:58 2019 +0800

    Always use the optimized version of ingest_external_file_cf (#6197)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 5d27e2a2fbf7903fd4ffc4839f6ada1c0e935601[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Tue Dec 10 14:33:00 2019 +0800

    copr: rename some rpn functions following tipb (#6201)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit b56965d74b75566547ae4600e8597b0931cca1cc[m
Author: Aloxaf <bailong104@gmail.com>
Date:   Tue Dec 10 13:25:04 2019 +0800

    copr: Add vectorize `bit_count` (#6184)
    
    Signed-off-by: Aloxaf <aloxafx@gmail.com>

[33mcommit aead29bb1b10d5053684cce35f2911942edf6fee[m
Author: kennytm <kennytm@gmail.com>
Date:   Tue Dec 10 03:47:56 2019 +0800

    *: use kvproto::backup::StorageBackend in create_storage (#6186)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 38579ea3e2ed08dc5bd724b2c0cda82b4588c42f[m
Author: AerysNan <aerysnan@gmail.com>
Date:   Tue Dec 10 00:36:57 2019 +0800

    copr: vectorize weekofyear (#5973)
    
    Signed-off-by: AerysNan <aerysnan@gmail.com>

[33mcommit 4c1969fc4c5f6cff09facf1b2f8cfbe01c3099b6[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Mon Dec 9 23:51:58 2019 +0800

    Update tipb (#6187)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 96c3f978f655148b1703a520cb9b2e9001dd256d[m
Author: 3pointer <luancheng@pingcap.com>
Date:   Mon Dec 9 17:38:11 2019 +0800

    backup: hash backup file name (#6177)
    
    Signed-off-by: luancheng <luancheng@pingcap.com>

[33mcommit e355e6d66ce2668020037cf943f3f65c0b4eccbc[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Mon Dec 9 17:02:46 2019 +0800

    Parameterize parts of tikv over Snapshot (#6122)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 9d013a1326c9a942a23f2851dd9c8627d3743ca8[m
Author: Gao Hongtao <hanahmily@gmail.com>
Date:   Mon Dec 9 16:33:11 2019 +0800

    Update README.md (#6152)
    
    Signed-off-by: Gao Hongtao <hanahmily@gmail.com>

[33mcommit c8e2128416720fab33c1ba341534cfea16c22824[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Mon Dec 9 16:15:10 2019 +0800

    copr: vectorize any_value (#6164)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit 475bdb9b5639f4b97e402ace36750be8fa65d48b[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Mon Dec 9 13:38:40 2019 +0800

    Update engine_traits crate docs (#6121)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit e7fa36e924c509358949b933578fd6664d675479[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Sun Dec 8 20:09:40 2019 +0800

    copr: vectorize PeriodAdd, PeriodDiff (#6035)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit 9c03639db93f1d00dcc845c4f10cb61579ffc759[m
Author: gauss1314 <gauss1314@gmail.com>
Date:   Sun Dec 8 18:34:10 2019 +0800

    copr: Add vectorize to_days (#6007)
    
    Signed-off-by: gauss <gauss1314@gmail.com>

[33mcommit 32f396472fada514dc7ce1d14efc81ae18a581b7[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Sun Dec 8 18:14:10 2019 +0800

    copr: Add vectorized json-length (#5917)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit 7b2abc9a8d4477f4557310b6bfaebd4605bda7dc[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Sun Dec 8 17:30:10 2019 +0800

    copr: add non-vectorized json depth (#6172)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit 129537395472f3c306024dd943bbbb59926ccb5d[m
Author: Rustin <1196089730@qq.com>
Date:   Sun Dec 8 17:05:10 2019 +0800

    copr: Add vectorize sha2 (#6118)
    
    Signed-off-by: Rustin-Liu <rustin.liu@gmail.com>

[33mcommit c8268762edeede57fefef3725893cfdcf76d76ab[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Sun Dec 8 16:38:40 2019 +0800

    copr: add `test_cast_decimal_as_time` (#6149)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 6bf8935ed1cf5434f2cc524c1f919109ad8bdc6c[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Sun Dec 8 16:09:11 2019 +0800

    copr: Vectorize FloorIntToDec (#6141)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit 7f0c1ea0079583b8c0145829c99dc78ba5483a5f[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Fri Dec 6 18:39:50 2019 +0800

    Optimize scheduler latches to avoid latch-wait (#6094)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit a9c86da6eb311362ce1335d1cdf11b6ad0901e02[m
Author: Zhu Zihao <all_but_last@163.com>
Date:   Fri Dec 6 13:05:50 2019 +0800

    copr: Vectorize `instr`. (#6130)
    
    Signed-off-by: Zhu Zihao <all_but_last@163.com>

[33mcommit b77078fb86a229564ed18487a092fcb64d671bc1[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Fri Dec 6 15:31:20 2019 +1300

    txn refactoring: some tidying up (#6142)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 03d66a47b7997cbedb18986d8195f715592e07e5[m
Author: niedhui <niedhui@gmail.com>
Date:   Thu Dec 5 22:46:43 2019 +0800

    copr: implement oct_int (#6159)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 726407be2c84850cf802bc466fd2b63d92a16b6a[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Thu Dec 5 20:35:37 2019 +0800

    pessimistic-txn: fix non-pessimistic lock conflict (#6066)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 4b19bcc6864d81f31de38cf820d0dbb53ed373da[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Thu Dec 5 13:12:35 2019 +0800

    test: stabilize test_detect_deadlock_when_shuffle_region (#6155)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 34a8af3fdbb3a5f6956babcd9704ad3ac34e2028[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Thu Dec 5 11:59:30 2019 +0800

    config: introduce Configable trait (#6137)
    
    * config: introduce Configuration trait
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit b23977b919edd6de4ed625baa030aed07e24e090[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Wed Dec 4 20:11:04 2019 +0800

    tidb_query_codegen: add max_args (#6119)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit 458755eb63086be2a33c937b8d32f63bc99bfa25[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Wed Dec 4 18:24:49 2019 +0800

    "update rust-rocksdb" (#6143)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit 5a5a08a0dc822d6c77eaa76ec65e9632346c9c19[m
Author: Wang <wangwangwar@gmail.com>
Date:   Wed Dec 4 17:19:37 2019 +0800

    codec: implement in-place byte encoding (#6061)
    
    Signed-off-by: wangwangwar <wangwangwar@gmail.com>

[33mcommit eb76a1e97e713334959c4b91d1c9c20278825b34[m
Author: 魂锁典狱长 <t888y@qq.com>
Date:   Wed Dec 4 15:30:54 2019 +0800

    copr: Add vectorize day_name (#6088)
    
    Signed-off-by: tw <t888y@qq.com>

[33mcommit 55909d0377a147fab763cbe007a11aee276c6389[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Tue Dec 3 15:02:42 2019 +0800

    Switch to use static metrics for Coprocessor Runner (#6134)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 1674fd02576cf0fdb8150421322462d5eff1db81[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Tue Dec 3 18:04:56 2019 +1300

    Refactoring txn: restrict the API of storage (#5964)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 95ad796b2ae1f31b7a3f01b0e1b93b85ef2e996b[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Dec 2 14:06:54 2019 +0800

    deadlock: only observe valid region (#6125)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit dfd6a80ceacea13d845a5af7b9d73f775aa62934[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Mon Dec 2 13:53:29 2019 +0800

    Support StartTs in Coprocessor.Request (#6127)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 8e9aa216fbf92986f6e0cb25948d76fe954b4b3e[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Mon Dec 2 13:27:19 2019 +0800

    Copr: add cast_*_as_time (#6057)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 983c626b069f2a2314d0a47009ca74033b346069[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Mon Dec 2 11:22:02 2019 +0800

    Always collect execution summary for BatchExecutor (#6112)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 9b3509f37725d93a239a2db2554f83046ebcd50f[m
Author: Zhongyang Wu <zhongyang.wu@outlook.com>
Date:   Sun Dec 1 22:05:23 2019 -0500

    copr: vectorize is_ipv4_mapped (#6025)
    
    Signed-off-by: zhongyang.wu <zhongyang.wu@outlook.com>

[33mcommit b23731b2c1a2c71474001eb7daea113a56be1c62[m
Author: Zhu Zihao <all_but_last@163.com>
Date:   Mon Dec 2 10:33:53 2019 +0800

    copr: Vectorize `uncompressed_length`. (#6109)
    
    Signed-off-by: Zhu Zihao <all_but_last@163.com>

[33mcommit 15f9af937504eb67082dabd787bed0aea98c927b[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Sat Nov 30 12:14:23 2019 +0800

    copr: vectorize md5 (#6091)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit e862ba3d7f170646535f10c8c5228897fd79751c[m
Author: FateTHarlaown <623239185@qq.com>
Date:   Sat Nov 30 11:49:23 2019 +0800

    copr: Add vectorize day_of_month (#6103)
    
    Signed-off-by: FateTHarlaown <623239185@qq.com>

[33mcommit 5e279c5307f7f04745e91ad3f9087b3ab7454f69[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Sat Nov 30 09:50:54 2019 +0800

    copr/mysql/json: support json_depth (#5924)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit 2138acd5f0241a8b9b9714a5290e9b880357e961[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Fri Nov 29 10:24:52 2019 -0800

    Simplify the Dockerfile (#6081)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit cd87848b003a973df146b0f0d9a5c9429112d28d[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Fri Nov 29 13:01:24 2019 +0800

    copr: add more assert in compare_in test (#6098)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit f6869aff3587ba0bcec47e099e57fdf11f63cbaf[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Fri Nov 29 11:06:25 2019 +0800

    rust-rocksdb: Fix clippy warnings etc. (#6080)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit 157f672d0a57b01a49e71221e81c9c8ee28bbb32[m
Author: TY <t1997y@vip.qq.com>
Date:   Fri Nov 29 10:52:25 2019 +0800

    copr: Add vectorize FieldInt/FieldReal/FieldString (#6086)
    
    Signed-off-by: taoyu <t1997y@vip.qq.com>

[33mcommit 48c17fb5b7b2c1815663a1f9e6bdd755340db054[m
Author: niedhui <niedhui@gmail.com>
Date:   Fri Nov 29 10:08:23 2019 +0800

    fix cargo build (#6100)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 926a227d829802c8056ee21699368e96da49693d[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Fri Nov 29 14:43:40 2019 +1300

    Fix a failing test due to recursion limit (#6102)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit e9e578f22effd4a0fa08b26c3162a3c8c4515b47[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Thu Nov 28 20:02:52 2019 +0800

    Fix the bug that IN() optimization is not taking effect (#6093)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit bdc0ccf9271732fffbbf47eb6e9dc60cab874b8a[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Thu Nov 28 19:19:24 2019 +0800

    Support skip cached Coprocessor request (#6076)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 06099157f916124377c046f122dec9dafa6096a1[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Thu Nov 28 17:00:54 2019 +0800

    tidb_query: refactor utility functions of `rpn_expr::impl_cast::tests` module (#6060)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 61af99da5a3760b4a4ae8c432e1b7953e10531c2[m
Author: Shenghui Wu <793703860@qq.com>
Date:   Thu Nov 28 16:19:55 2019 +0800

    expression: add missing scalar function signature (#6082)
    
    Signed-off-by: wshwsh12 <793703860@qq.com>

[33mcommit dc758d61f532ec03ed43ef9e9087f46e715161a7[m
Author: 3pointer <luancheng@pingcap.com>
Date:   Thu Nov 28 16:07:54 2019 +0800

    backup: put startKey into backup_file_name to make it unique (#6071)
    
    Signed-off-by: luancheng <luancheng@pingcap.com>

[33mcommit d03a6a702db45a9a2c1da60798f284b7179f6039[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Thu Nov 28 15:14:55 2019 +0800

    copr/mysql/json: support json_keys (#5931)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit 0d0db16e6ceb70b373707b4e215be0ff769d4f17[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Thu Nov 28 19:31:23 2019 +1300

    Sort all deps in Cargo.tomls alphabetically (#6079)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 982f14424f920c8698583e0e6a3974030f350389[m
Author: TY <1255803549@qq.com>
Date:   Thu Nov 28 13:49:16 2019 +0800

    copr: Add vectorize elt (#6062)
    
    Signed-off-by: taoyu <t1997y@vip.qq.com>

[33mcommit e5e0e48408034e5bcf0f6c46c5485f4076fdc0b4[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Wed Nov 27 21:11:23 2019 +0800

    Copr: Fix bugs of `exp_float_str_to_int_str` (#6039)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit d7c4f4ef3e90688dc5b43f4016de187317291097[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Nov 27 17:45:26 2019 +0800

    raftstore: attach peer tag to box errors (#6068)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit fbf9e2e36b4d714aa7dae15fadf05c37619c616e[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Wed Nov 27 17:22:27 2019 +0800

    copr: vectorize InetAton (#6016)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit 30e8d531f287ee03cc0b46cac8437e048a04736b[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Wed Nov 27 16:10:27 2019 +0800

    copr: improve in performance using lookup set in metadata (#6000)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit 858c76584bf4185c196605a8f62862bc77603f88[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Wed Nov 27 20:15:57 2019 +1300

    *: Support both Prost and rust-protobuf libraries (#5379)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 7fbb1213d9cb3d57feacbd0009ffeea8e574e567[m
Author: Lonng <heng@lonng.org>
Date:   Wed Nov 27 14:33:50 2019 +0800

    Cargo.lock: update the latest version of pprof-rs (#6064)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit c301438a4025acf0d62487cf520badf87635140d[m
Author: 魂锁典狱长 <t888y@qq.com>
Date:   Wed Nov 27 13:42:45 2019 +0800

    copr: Add vectorize space (#6058)
    
    Signed-off-by: tw <t888y@qq.com>

[33mcommit cb6ec37bf4cec4e75869d649296fa63bf640ce4c[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Wed Nov 27 13:19:15 2019 +0800

    rust-rocksdb: Update README.md (#6063)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit 1ccd814c506013e4084f59f65c32e5c4206f8faa[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Wed Nov 27 12:22:26 2019 +0800

    Optimize  seek_write in prewrite (#5846)

[33mcommit 6f02ff9437aa4efcfe921eefdf9ecc08689fb6e0[m
Author: FateTHarlaown <623239185@qq.com>
Date:   Wed Nov 27 11:46:45 2019 +0800

    Add vectorized year (#6038)
    
    Signed-off-by: FateTHarlaown <623239185@qq.com>

[33mcommit 81288a9d82cb533c9ed8605055c0e50bee25d4da[m
Author: Aerys <aerysnan@gmail.com>
Date:   Wed Nov 27 11:34:15 2019 +0800

    copr: vectorize dayofyear (#5974)
    
    Signed-off-by: AerysNan <aerysnan@gmail.com>

[33mcommit 3e12ddc4f9cc578d1da980bfd987cf2920e3d3bd[m
Author: Lonng <heng@lonng.org>
Date:   Wed Nov 27 11:20:14 2019 +0800

    tidb_query: fix analyze column inconsistent behavior betwen TiDB and TiKV (#6055)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 710041814b2f7f2338d49d7580f17ef8076398fc[m
Author: gauss1314 <gauss1314@gmail.com>
Date:   Wed Nov 27 10:44:45 2019 +0800

    copr: Add vectorized sha1 (#5988)
    
    Signed-off-by: gauss <gauss1314@gmail.com>

[33mcommit abe5ccbfd2f62279b4c0570d9599bc30f74bbd3a[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Tue Nov 26 20:38:15 2019 +0800

    copr: fix test code style (#6053)
    
    Signed-off-by: Dian Luo <andylokandy@hotmail.com>

[33mcommit c2235d5dd0df9a152e589dcb8a790efc03a54693[m
Author: Aerys <aerysnan@gmail.com>
Date:   Tue Nov 26 17:41:15 2019 +0800

    copr: vectorize ceilinttodec (#5983)
    
    Signed-off-by: AerysNan <aerysnan@gmail.com>

[33mcommit f90837c55189b001a69d52c45297bcb5f5521122[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Tue Nov 26 16:49:52 2019 +0800

    copr: vectorize Hour/Minute/Second/MicroSecond (#6028)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit 7120085b59de061f67eb03d05d125c9ec7a6cb78[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Tue Nov 26 16:35:53 2019 +0800

    copr: implement Hash for Decimal and Time (#6047)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit ec0d7f9a93512c6f8c76fcfe15b52cf5b83294d7[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Tue Nov 26 16:15:46 2019 +0800

    copr: fix read_decimal multiply overflow panic (#6045)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit 90e65dd97c486f31096c201fba06a71e7d82ada3[m
Author: TY <1255803549@qq.com>
Date:   Tue Nov 26 16:01:45 2019 +0800

    copr: Add vectorize replace (#6018)
    
    Signed-off-by: taoyu <t1997y@vip.qq.com>

[33mcommit 55c537bd6c4edbccc96b4a2d8255e761dae8bd2b[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Tue Nov 26 15:48:45 2019 +0800

    Copr: Add some helper functions for `cast_*_as_time` (#5870)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 9ac3f0548f71c336c28432865350d9b4bf87165e[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Tue Nov 26 15:20:28 2019 +0800

    Fix Fuzzing using AFL and Honggfuzz (#6046)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 61008b3d19d3c8261e5755f9bb0f3b84592ab21a[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Tue Nov 26 14:06:10 2019 +0800

    copr: vectorize Inet6Aton (#6020)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit 78875273023fc630af280e3c6478705e96fe384d[m
Author: Zhongyang Wu <zhongyang.wu@outlook.com>
Date:   Tue Nov 26 00:13:01 2019 -0500

    copr: Add non-vectorized Quote (#6031)
    
    Signed-off-by: zhongyang.wu <zhongyang.wu@outlook.com>

[33mcommit 1fe8dcd8bef8bfa3bcdece53f23789bebeb3db18[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Tue Nov 26 12:22:01 2019 +0800

    copr: Vectorize `unaryminus` (#6011)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit a2bf0dd8e56996d1c8a821098242d7e867475d3e[m
Author: FateTHarlaown <623239185@qq.com>
Date:   Tue Nov 26 12:09:05 2019 +0800

    copr: Add vectorized month (#6029)
    
    Signed-off-by: FateTHarlaown <623239185@qq.com>

[33mcommit 3a365a0b684ad1899b9e946dcb35b1b478b15211[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Mon Nov 25 19:49:02 2019 -0800

    Make build_dist_release support Mac (#6041)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit cd0a17e7face67cc728777e8098460af5986b130[m
Author: Zhongyang Wu <zhongyang.wu@outlook.com>
Date:   Mon Nov 25 21:50:01 2019 -0500

    copr: vectorize reverse_binary (#6027)
    
    Signed-off-by: zhongyang.wu <zhongyang.wu@outlook.com>

[33mcommit c4976f17897d90913915b14437f760dd4b27a2b2[m
Author: gauss1314 <gauss1314@gmail.com>
Date:   Tue Nov 26 00:31:33 2019 +0800

    copr: Add vectorize is_ipv4/6 (#6013)
    
    Signed-off-by: gauss <gauss1314@gmail.com>

[33mcommit c0d805dd04b83e2b276be12706f3062d9fb0aaef[m
Author: Lonng <heng@lonng.org>
Date:   Mon Nov 25 21:44:32 2019 +0800

    Implement the Diagnostics gRPC service (#5980)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 37d037f99dc36d17850bca47aaf734ba0f9914bb[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Mon Nov 25 21:03:37 2019 +0800

    Cleanup RegionIterator to use RocksDB features directly (#6010)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 9d969acd501495f03619e550c23b8c4b660b31f9[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Mon Nov 25 18:32:18 2019 +0800

    copr: vectorize Inet6Ntoa (#6021)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit 815d0967e560e58e64ec58343b8f06efe5a26907[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Nov 25 17:12:48 2019 +0800

    debug: Print sst files in region properties (#5987)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit d112becb019837a4780caa604378361a9ca1fa1a[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Mon Nov 25 03:53:49 2019 -0500

    Migrate engine::rocks::Snapshot to engine_rocks (#6006)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit b3d2b525632371570a2f7b5c0a464b7f2e14bfae[m
Author: Ruihang Xia <waynestxia@gmail.com>
Date:   Mon Nov 25 15:48:18 2019 +0800

    copr: Rewrite non-vectorized inet_ntoa (#6037)
    
    Signed-off-by: Ruihang Xia <waynestxia@gmail.com>

[33mcommit 5446c4496d33054259adfe232d280c23996fade6[m
Author: Ruihang Xia <waynestxia@gmail.com>
Date:   Mon Nov 25 15:27:47 2019 +0800

    copr: Vectorize InetNtoa (#5900)
    
    Signed-off-by: Ruihang Xia <waynestxia@gmail.com>

[33mcommit 9bcbdc396c54adfbef027de9a56f2a956451a0c8[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Mon Nov 25 15:15:18 2019 +0800

    improve: json modify error (#5967)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit 1afacc5ac2c8748f3be646a0d1308b0efba74dba[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Mon Nov 25 15:03:18 2019 +0800

    copr: vectorize Strcmp (#5998)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit f3f20c9ef6f5baa8e05ba394d5d3491196fb49d4[m
Author: Wang <wangwangwar@gmail.com>
Date:   Mon Nov 25 14:51:17 2019 +0800

    copr: vectorize `FromDays` (#6030)
    
    Signed-off-by: wangwangwar <wangwangwar@gmail.com>

[33mcommit c119ad025b2b194687a867a28c17f25a25e55ed2[m
Author: gauss1314 <gauss1314@gmail.com>
Date:   Mon Nov 25 14:38:47 2019 +0800

    copr: Add vectorize right (#6014)
    
    Signed-off-by: gauss <gauss1314@gmail.com>

[33mcommit ff015e2b08f2ff85e8144acf143ac40c5dcc1123[m
Author: Zhu Zihao <all_but_last@163.com>
Date:   Mon Nov 25 14:23:18 2019 +0800

    copr: Vecotorize `concat_ws` (#5978)
    
    Signed-off-by: Zhu Zihao <all_but_last@163.com>

[33mcommit d0c6ebc9d49ec923398a22e7fe060de96b290012[m
Author: Zhu Zihao <all_but_last@163.com>
Date:   Mon Nov 25 13:59:17 2019 +0800

    copr: vectorize `conv`. (#6012)
    
    Signed-off-by: Zhu Zihao <all_but_last@163.com>

[33mcommit 54cd911da3885270ed5295805a46ecb22f13ff75[m
Author: gauss1314 <gauss1314@gmail.com>
Date:   Mon Nov 25 13:25:17 2019 +0800

    corp: Add vectorized pow (#5930)
    
    Signed-off-by: gauss <gauss1314@gmail.com>

[33mcommit 3f37a97990c625fad97f0319eda36f7e18bbf15a[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Nov 25 12:29:18 2019 +0800

    fix rpn_fn codegen unit test (#6034)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 1e81029db8c70bcb992a8a878372e770d8c76362[m
Author: Zhu Zihao <all_but_last@163.com>
Date:   Sun Nov 24 23:36:08 2019 +0800

    fix(copr): Handle trailing NULL correctly for `concat_ws`. (#6032)
    
    Signed-off-by: Zhu Zihao <all_but_last@163.com>

[33mcommit 1aae7209e9b2c9514ebd4ce2011a657ff19aa7dd[m
Author: Zhu Zihao <all_but_last@163.com>
Date:   Sun Nov 24 06:22:09 2019 +0800

    fix: Misbehavior of non-vectorized version of `concat_ws`. (#5999)
    
    Signed-off-by: Zhu Zihao <all_but_last@163.com>

[33mcommit 828487dffa644d667108791f6450db19adddba95[m
Author: Wang <wangwangwar@gmail.com>
Date:   Sat Nov 23 20:28:39 2019 +0800

    copr: Add Non-Vectorize Built-in Function `FromDays` (#5928)
    
    Signed-off-by: wangwangwar <wangwangwar@gmail.com>

[33mcommit 6b3c75ec94dfe56020bd4fe828e5c969fe1b3ffe[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Sat Nov 23 17:22:09 2019 +0800

    copr: vectorize LocateBinary3Args (#5977)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit 1d4e1046db90eacce4857c563a535fd8514fa36e[m
Author: gauss1314 <gauss1314@gmail.com>
Date:   Fri Nov 22 14:32:38 2019 +0800

    copr: Add vectorized left (#5969)
    
    Signed-off-by: gauss <gauss1314@gmail.com>

[33mcommit b209a546bb290c60cd975a7b5092b2dfa6464416[m
Author: Zhongyang Wu <zhongyang.wu@outlook.com>
Date:   Thu Nov 21 22:31:10 2019 -0500

    copr: vectorize is_ipv4_compat (#5927)
    
    Signed-off-by: zhongyang.wu <zhongyang.wu@outlook.com>

[33mcommit ca3ba0bfa7af6f9bb945f224f462649e5056d9a0[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Thu Nov 21 20:06:23 2019 -0500

    More engine abstraction, work toward Peekable and Iterable for Snapshot (#5901)

[33mcommit 645fe87e450dd88333f8608de7adaae43a28c11b[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Thu Nov 21 19:35:42 2019 -0500

    Encapsulate IOLimiter, remove rocksdb dependency from sst_importer (#5835)

[33mcommit 64b905954c1f4fdf00c10e3f64932240b0843d13[m
Author: kennytm <kennytm@gmail.com>
Date:   Thu Nov 21 19:54:39 2019 +0800

    *: replace crc by crc32fast and crc64fast (#5982)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 69265f673c858d55453c55466984ed150b977b3f[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Thu Nov 21 19:42:39 2019 +0800

    txn: Return commit_ts in commit response (#5966)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit a3566e307823f0fa2971bd9763a0f3f3088c36e0[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Thu Nov 21 18:08:15 2019 +0800

    rust-rocksdb: titan: Update blob file format for ZSTD dictionary compression (#5992)

[33mcommit ae6038ea22271b23f2290e61e45838281ede4e20[m
Author: gauss1314 <gauss1314@gmail.com>
Date:   Thu Nov 21 17:20:11 2019 +0800

    copr: Add vectorized crc32 (#5975)
    
    Signed-off-by: gauss <gauss1314@gmail.com>

[33mcommit 4b6c4d917ed058ff2570e45c07f19be3e8096de8[m
Author: Renkai <gaelookair@gmail.com>
Date:   Thu Nov 21 17:04:07 2019 +0800

     PCP: reduce size of tikv::storage::errors::Error (#5979)
    
    Signed-off-by: Renkai <gaelookair@gmail.com>

[33mcommit 5d1bf67eca224e6f375265df7679bbbd494b9a9f[m
Author: Aerys Nan <aerysnan@gmail.com>
Date:   Thu Nov 21 15:37:39 2019 +0800

    copr: vectorize weekday (#5920)
    
    Signed-off-by: AerysNan <aerysnan@gmail.com>

[33mcommit 4a9f51a09923a6cb9b150ba1a2631846e9d7ee1d[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Thu Nov 21 15:04:05 2019 +0800

    copr: metadata_ctor should return Result (#5993)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit 84986fc2fcef65a07c51892fb1f0c04e0038969f[m
Author: FateTHarlaown <623239185@qq.com>
Date:   Thu Nov 21 11:47:08 2019 +0800

    Copr: Vectorize LocateBinary2Args (#5904)
    
    Signed-off-by: FateTHarlaown <623239185@qq.com>

[33mcommit 6fff85c2fde0cf95ecea4956f6ab15a3f722b564[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Thu Nov 21 15:50:04 2019 +1300

    txn refactoring part 3 (#5857)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 88d3badd47b00845645af58e2fc5984d08bf35d8[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Wed Nov 20 19:42:08 2019 +0800

    copr: vectorize HexStrArg (#5922)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit d426d9c876d8e1f83b7b3b046029666451de4353[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Wed Nov 20 17:32:15 2019 +0800

    Avoid Write Allocation for PointGetter and ForwardScanner (#5819)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 45d07db7aa75bdd9f7f508d34c93f6d140976815[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Wed Nov 20 16:52:10 2019 +0800

    titan: Fix status overrided by mistake (#5956)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit a3bd861577727760f4330209086c5dc0d346f4a8[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Wed Nov 20 14:26:47 2019 +0800

    copr: vectorize RTrim (#5953)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit 504115dfa23e3176597498241d1bb6af43fdc7d6[m
Author: Zhu Zihao <all_but_last@163.com>
Date:   Wed Nov 20 13:55:02 2019 +0800

    copr: Vectorize `reverse`. (#5946)
    
    Signed-off-by: Zhu Zihao <all_but_last@163.com>

[33mcommit 7893f22555c28e1d381a83782700d0c5e9404c6d[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Tue Nov 19 20:03:39 2019 +0800

    lock_manager: reduce clean up requests (#5959)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 8b9a974219e8468ea48e73fffec8f68d92caea32[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Tue Nov 19 19:32:15 2019 +0800

    copr: vectorize LTrim (#5954)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit 5c400b7de10d7c53eacace64c8c7c81c11918b55[m
Author: gauss1314 <20114879@mail.hfut.edu.cn>
Date:   Tue Nov 19 18:10:03 2019 +0800

    copr: Add vectorized right shift (#5958)
    
    Signed-off-by: gauss <gauss1314@gmail.com>

[33mcommit 95bd88d38cc631b0b13582bbbca0c5f94ff84b53[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Tue Nov 19 17:51:06 2019 +0800

    Fix profiling (#5962)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 50d27fc985fbc5571a581960ee175c8aef2a1070[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Tue Nov 19 19:46:56 2019 +1300

    txn: refactor commands and lock_manager (#5935)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 308ce8b9c12a66fcfe643787e0e4bb7f8b3c8826[m
Author: gauss1314 <20114879@mail.hfut.edu.cn>
Date:   Tue Nov 19 14:21:09 2019 +0800

    copr: bit shift use wrapping shift instead checked shift (#5951)
    
    Signed-off-by: gauss <gauss1314@gmail.com>

[33mcommit 0c2df5db6a8d5fc80a8ae3c7f5e16ce698f2b58a[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Tue Nov 19 13:40:54 2019 +0800

    readme: update an outdated doc link (#5929)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 2bdda67ecbc7df8e02361ca8af28d201a3807c73[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Tue Nov 19 12:06:54 2019 +0800

    copr: vectorize HexIntArg (#5950)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit c682e5532414c4c2f9a9a4b96a1d3fc9fa9d001e[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Mon Nov 18 19:54:42 2019 -0800

    Dist artifacts (#5777)
    
    * make docker now builds Docker image

[33mcommit 18bf609e78f81360e804ce5ce4ebf7d1a625e3d2[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Tue Nov 19 10:52:25 2019 +0800

    TiKV supports unordered write (#5936)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit 71564c2085787926b4b5e9b053af7bc544e03d41[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Tue Nov 19 10:27:54 2019 +0800

    copr: set Expr.tp in RpnFnScalarEvaluator (#5949)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit a4791816098adf014cc8665cb90d3ea709b178d9[m
Author: Zhu Zihao <all_but_last@163.com>
Date:   Mon Nov 18 21:53:44 2019 +0800

    copr: Vectorize `concat`. (#5899)
    
    Signed-off-by: Zhu Zihao <all_but_last@163.com>

[33mcommit 304bb0359d3025006f253cb00fe93f45bf0f3eff[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Nov 18 21:14:36 2019 +0800

    Cargo: unify protobuf dependency (#5923)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 1d5e120df5618ca9491f6e83f486a28b2dfa3eac[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Nov 18 20:37:24 2019 +0800

    gc: config gc io limit dynamically (#5769)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 304058eecef0c0b67b1947ce556c248c31e6ab8b[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Mon Nov 18 20:21:24 2019 +0800

    copr: vectorize ascii (#5903)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit ce502bc65d21795ade23098d9ac60bb1f3a32292[m
Author: Aerys Nan <aerysnan@gmail.com>
Date:   Mon Nov 18 20:02:55 2019 +0800

    copr: vectorize degrees (#5913)
    
    Signed-off-by: AerysNan <aerysnan@gmail.com>

[33mcommit 557f684309b9c74f2407c5a1758b00f94c3c5d5b[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Mon Nov 18 18:09:55 2019 +0800

    raftstore: delay replica read when applying snapshot (#5919)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 111ca92c5a44eba1685bac7958124b2bc970c7fd[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Nov 18 17:37:26 2019 +0800

    txn: return the action check_txn_status does (#5937)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 3c12943f5fdad552f18236307e5b1cbd4a801111[m
Author: Aerys Nan <aerysnan@gmail.com>
Date:   Mon Nov 18 17:14:25 2019 +0800

    copr: vectorize radians (#5918)
    
    Signed-off-by: AerysNan <aerysnan@gmail.com>

[33mcommit fee2455a83715c0a6cb20847fda7077f8118102f[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Nov 18 16:37:53 2019 +0800

    support rpn_fn metadata in RpnFnScalarEvaluator (#5925)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit aceeff61ba587044d5c2a56f3800f61f7eb1b470[m
Author: mahjonp <junpeng.man@gmail.com>
Date:   Mon Nov 18 15:59:45 2019 +0800

    Makefile: a new rule for CI test (#5934)
    
    * CI: create a new Makefile rule for ci testing
    
    Signed-off-by: mahjonp <junpeng.man@gmail.com>

[33mcommit bfed343766ac7a253066748a1375c8bf5920e902[m
Author: Zhang Yuning <codeworm96@outlook.com>
Date:   Mon Nov 18 01:54:37 2019 -0500

    copr: Add vectorized BitXorSig (#5863)
    
    Signed-off-by: Yuning Zhang <codeworm96@outlook.com>

[33mcommit 0f3bd4a03679687aa9f4f34a3f1ac3ce6b147220[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Mon Nov 18 14:08:56 2019 +0800

    Copr: vectorize asin, acos, atan and atan2 (#5895)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit 5f88c9b848c70284973e9e802843a2d90974646a[m
Author: Mak <33799668+MaiCw4J@users.noreply.github.com>
Date:   Mon Nov 18 13:53:56 2019 +0800

    copr: vectorize BitLength (#5897)
    
    Signed-off-by: mak <610546069@qq.com>

[33mcommit fc6f6525e7b1dda79ed9028f737e385f49969286[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Mon Nov 18 16:36:56 2019 +1300

    Build: fix build on Mac OS by cfg'ing away pprof (#5933)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit baf26cd51c187652287e750b6997aae0612084c5[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Nov 18 11:19:46 2019 +0800

    txn: add rollback reason for check_txn_status (#5878)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 5a2985070d5d54a6c85f594ed26ad937618b025d[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Mon Nov 18 10:42:24 2019 +0800

    copr: improve like algorithm performance (#5866)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit 4fa25f8f3f1498452e2fe442b7e9e772410cb2c2[m
Author: Zhu Zihao <all_but_last@163.com>
Date:   Sat Nov 16 23:47:24 2019 +0800

    copr: Vectorize bin. (#5872)
    
    Signed-off-by: Zhu Zihao <all_but_last@163.com>

[33mcommit c135e22f129afb0e48329984a17f3e3d90805528[m
Author: YangKeao <keao.yang@yahoo.com>
Date:   Sat Nov 16 09:57:29 2019 +0800

    Generate flamegraph at runtime  (#5697)
    
    * server/status_server: support control rsperftools and generate flamegraph
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: update version of rsperftools to ignore queued signal and use spin rwlock
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: use one interface and profiler guard to start/stop profiler
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: update rsperftools to increase performance
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: update rsperftools and modify route path
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: update rsperftools to fix crash bugs
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: migrate related thread together
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: use pthread_getname_np to get thread name
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: fix bugs in TempFdArray
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: set default frequency to 99Hz
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: rename from rsperftools into pprof
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: update pprof
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: support return protobuf according to Content-Type
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: add tests for regex
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: add response function
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: update pprof-rs
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: fix grammer error
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: fix bugs caused by pprof-rs link tests all the time
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: reset handle_fail_points_request
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>
    
    * server/status_server: add description for Error response
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>

[33mcommit 824f8d14d063ca3c194b3538d9b27dc917af95b0[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Fri Nov 15 17:32:38 2019 +0800

    Copr: vectorize sin, cos, tan, cot (#5873)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit af8721425ff6031960a84e1c5662de079b1ae0e8[m
Author: Zhu Zihao <all_but_last@163.com>
Date:   Fri Nov 15 16:49:37 2019 +0800

    copr: Vectorize exp. (#5894)
    
    Signed-off-by: Zhu Zihao <all_but_last@163.com>

[33mcommit 74f7a8f518a073d1c492d46b312b9bdc82596e63[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Thu Nov 14 22:54:39 2019 -0800

    Temporarily disable force_consistency_checks (#5909)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 6dd3473f26bfb9d1c14ebc8207dfd78cb3af7049[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Fri Nov 15 11:20:53 2019 +0800

    raftstore: more condition checks before proposing raft cmd (#5887)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 4ff5c85bc3574b0d64d68d8b2a4536be9a856258[m
Author: gauss1314 <20114879@mail.hfut.edu.cn>
Date:   Thu Nov 14 17:25:38 2019 +0800

    copr: Add vectorized left_shift (#5886)
    
    Signed-off-by: gauss <gauss1314@gmail.com>

[33mcommit 016d0cb71707e413ea3a2d9bba5980e2ce74fc42[m
Author: YangKeao <keao.yang@yahoo.com>
Date:   Thu Nov 14 13:39:08 2019 +0800

    benches/coprocessor_executors: update libpapi_sys to build with -fPIC (#5888)
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>

[33mcommit 5ef258ef2e34aa75641d24418e9a97a205648f51[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Wed Nov 13 16:57:09 2019 +0800

    rust-rocksdb: add unordered write (#5876)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit 0041dbdd7884b3f1005bcec1589e0b2f2653eb7f[m
Author: Zhang Yuning <codeworm96@outlook.com>
Date:   Wed Nov 13 03:36:33 2019 -0500

    copr: Add vectorized BitOrSig (#5861)
    
    Signed-off-by: Yuning Zhang <codeworm96@outlook.com>

[33mcommit c2b4e6dcbe173fbfe26ff9e4efd451ce68dd0f03[m
Author: FateTHarlaown <623239185@qq.com>
Date:   Wed Nov 13 15:10:30 2019 +0800

    Copr: Vectorize `Length` (#5859)
    
    Signed-off-by: FateTHarlaown <623239185@qq.com>

[33mcommit 34bebdd1d7e342505e3b6d8818836950d3ff59d4[m
Author: niedhui <niedhui@gmail.com>
Date:   Wed Nov 13 14:48:38 2019 +0800

    Coprocessor: v2 row format for decode (#5725)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 17ce13009579d45d012259fabec613dfbf334de5[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Tue Nov 12 21:29:07 2019 -0800

    Remove discourse (#5874)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 8826027ed3d7b3309025feac2d30bbd16a355be4[m
Author: Zhang Yuning <codeworm96@outlook.com>
Date:   Tue Nov 12 21:49:08 2019 -0500

    copr: Add vectorized BitAndSig (#5856)
    
    Signed-off-by: Yuning Zhang <codeworm96@outlook.com>

[33mcommit dddbf4c88c3e514199ba847d8e757460a3573399[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Tue Nov 12 19:36:08 2019 +0800

    copr/mysql/json: support json_length (#5843)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit ed4d332db305b8c7f41a72ebf606f3461f04e2d4[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Nov 12 18:33:47 2019 +0800

    txn: Support bypass specified locks for reads (#5798)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 4e1189b275b8dc4a2cbb9e9f829fa08628dde5dd[m
Author: Fullstop000 <fullstop1005@gmail.com>
Date:   Tue Nov 12 17:30:32 2019 +0800

    copr: vectorize Log1Arg Log2Args Log2 Log10 (#5829)
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>

[33mcommit 63f7c3048252e820237070b6fb7de6e30976bbe5[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Tue Nov 12 16:50:01 2019 +0800

    copr: fix json_extract with PathLeg::Index (#5837)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit 6acc2df6e0da73946d6925020adb71f078b574e4[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Tue Nov 12 16:30:00 2019 +0800

    raftstore: set is_merging flag after restart (#5868)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>
    Signed-off-by: gengliqi <gengliqiii@gmail.com>

[33mcommit ce273530df2ecdf3c4092edef29dae57f2341e6c[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Tue Nov 12 14:49:01 2019 +0800

    rust-rocksdb: add API to set level merge and range merge (#5867)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit f4a3f92ff6248ff2a51b000f672d075a3d4ce6ca[m
Author: Zhang Yuning <codeworm96@outlook.com>
Date:   Tue Nov 12 01:22:00 2019 -0500

    copr: Add vectorized BitNegSig (#5864)
    
    Signed-off-by: Yuning Zhang <codeworm96@outlook.com>

[33mcommit 9f9906bc933ba6c7b9543568dd4e89224a702b05[m
Author: Fullstop000 <fullstop1005@gmail.com>
Date:   Tue Nov 12 11:45:30 2019 +0800

    copr: Vectorize PI (#5812)
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>

[33mcommit 5bebd6a285966ed26af3266f83cad1473d2828e9[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Mon Nov 11 18:06:50 2019 -0800

    Optimize binary size (#5820)
    
    * Optimize binary size
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 3445b32519410681ff965d0218da6768169321df[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Mon Nov 11 22:09:30 2019 +0800

    raftstore: make `on_apply_write_cmd` failpoint injectable (#5858)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit ac735af70c27e1e648d64489268febae7d218c5a[m
Author: Fullstop000 <fullstop1005@gmail.com>
Date:   Mon Nov 11 18:45:30 2019 +0800

    copr: vectorize Sign Sqrt (#5839)
    
    Signed-off-by: Fullstop000 <fullstop1005@gmail.com>

[33mcommit 2e0379ca06394165f810443f4edddb657166ab0a[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Mon Nov 11 16:11:34 2019 +0800

    Report better error message when PbCode is unspecified (#5855)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 6d0f5c0802fd5b31c69925f6b3251050a571fb44[m
Author: kennytm <kennytm@gmail.com>
Date:   Mon Nov 11 12:21:43 2019 +0800

    sst_importer: make the download speed limit global (#5806)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 1999eaf8a6da5d4d7cc8f89a0d1127c516614aef[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Fri Nov 8 20:15:11 2019 +1300

    storage: simple refactoring (#5822)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit ca982c72014469f9502e237671ffc1605d0c2714[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Fri Nov 8 11:54:41 2019 +0800

    add Titan config for raftdb (#5830)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit afdc034b2aac655efcafa2b0b295b166413df73d[m
Author: TXXT <hunterlxt@live.com>
Date:   Fri Nov 8 11:13:50 2019 +0800

    *: support grpc memory quota (#5818)
    
    
    Signed-off-by: TXXT <hunterlxt@live.com>

[33mcommit d019ccecefc260ff760a53b7b8742fb84ffca9b5[m
Author: Lonng <heng@lonng.org>
Date:   Thu Nov 7 19:40:02 2019 +0800

    tidb_query: fix parse number to JSON (#5842)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit e3b30ada7d0ac2826e7598124921d79610a47d84[m
Author: Shenghui Wu <793703860@qq.com>
Date:   Thu Nov 7 18:08:12 2019 +0800

    *: rename Arrow to chunk (#5779)
    
    Signed-off-by: wshwsh12 <793703860@qq.com>

[33mcommit 00c475f3aeac5ddd478d21d88a17cc7d34adb216[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Thu Nov 7 17:28:53 2019 +0800

    Coprocessor: DateTime refactoring (#5473)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit d67ca7237547e97ae97f09e08fb39f8b8c9deed1[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Thu Nov 7 15:50:12 2019 +0800

    storage: remove storage.scheduler-notify-capacity (#5827)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit b779f9ceea9ec5720addb1f5bfcbc710bdd4b033[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Nov 6 18:24:26 2019 -0800

    Move SST code to engine traits (#5790)
    
    * engine_*: outline SST traits
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_rocks: Use Rc inside RocksSstReader
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * *: temporarily patch local rust-rocksdb
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_rocks: Implement SstReader
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: Add SstExt to KvEngine
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_importer: replace rocks SstReader with abstract SstReader
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_*: Add SstWriter SstWriterBuilder
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_rocks: cleanup warnings
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_importer: Use generic SstWriter
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_rocks: add test_helpers mod and new_default_engine fn
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_rocks: port sst tests
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine: remove sst module
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * raftstore: Use traits for SstWriter
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_service: Fix type annotations
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * raftstore: Use SST traits
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * *: temporarily use brson's rocksdb branch
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: Rename CFOptions to ColumnFamilyOptions
    
    For consistency with existing types. Less confusing.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: Rename get_cf_handle to cf_handle
    
    For consistency with engine crate
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    wip
    
    * engine_rocks: Move sst test cases from engine to engine_rocks
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: Introduce TitanDBOptions and re-enable titan sst test
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine: cleanup unused
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * backup: use engine traits for SST
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * *: rustfmt
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine: Move more sst functions into engine_rocks
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine: cleanup unused
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * *: fix rocksdb patch
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * Revert "*: fix rocksdb patch"
    
    This reverts commit afd744dc2e9b5a940fe1ecb64a49562a805dfd85.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * Revert "*: temporarily use brson's rocksdb branch"
    
    This reverts commit d86c37457f8e42292d890447033794f05da9f5d0.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * Revert "*: temporarily patch local rust-rocksdb"
    
    This reverts commit be532b00c668bbea540888a3dad5637e719e68c8.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 11ab8359786a68b1acf0dc41986fc62d57a1f789[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Wed Nov 6 18:38:43 2019 +0800

    Copr: Vectorize `LogicalXor` (#5826)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit b6221a1e1a1476a29d72f2af89ebe0a9067657b0[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Wed Nov 6 22:13:42 2019 +1300

    storage: remove Deref impls (#5823)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 41f0113e0cf4d562ce15fd01a095e7d803b95c59[m
Author: FateTHarlaown <623239185@qq.com>
Date:   Wed Nov 6 15:44:41 2019 +0800

    tidb_query: verify range for Table/Index scan executor (#5768)
    
    Signed-off-by: FateTHarlaown <623239185@qq.com>

[33mcommit 77ffd09198a552e3a7ae9aac6e4aec8f2a3e92b0[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Tue Nov 5 22:08:11 2019 -0800

    Update GRPC to fix GCC 9.2.1 (#5821)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 140498a34e7c890c067c80c2fa3b02efacde259e[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Tue Nov 5 16:57:02 2019 -0800

    Adjust kvdb background threads (#5730)

[33mcommit a2b85ba0983d96f887c8ddcdf224eb38b69d0eee[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Tue Nov 5 19:02:02 2019 +0800

    tidb_query: fix inconsistent error message between Coprocessor and TiDB (#5761)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 74a3275fdfab2277d2a3c7c713993ac549697742[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Tue Nov 5 16:46:11 2019 +0800

    tidb_query: fix inappropriate err msg of `ConvertTo<f64> for &[u8]` (#5793)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 76417775bcff329d7bdd91dbd012959915203bd6[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Nov 5 16:19:44 2019 +0800

    txn: check_txn_status Support setting write rollback or not when txn not exist (#5811)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit d8996db3c80b3a20bf2a5281c8f18b0c2bbfb81b[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Nov 5 14:48:04 2019 +0800

    raftstore: Add a panic log for get merge entries (#5801)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit da9168bf76e56c60576ab3bb1780afff49d936f3[m
Author: pingcap-github-bot <sre-bot@pingcap.com>
Date:   Tue Nov 5 14:06:11 2019 +0800

    rust-rocksdb: Update rocksdb (#5808)
    
    Signed-off-by: sre-bot <sre-bot@pingcap.com>

[33mcommit bc5614d91d9530b4998ee612018f46dc110f73ff[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Mon Nov 4 17:42:42 2019 +0800

    txn: Refine code related to large transaction (#5762)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit a8f1ba28d8c0a9fcc6f80c593175bc30ec1cf9b2[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Nov 4 16:27:12 2019 +0800

    pessimistic-txn: support lock wait timeout (#5680)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 7a82916402b778fde1550c19807ca8460db5d020[m
Author: iswade <iswade@163.com>
Date:   Mon Nov 4 16:07:19 2019 +0800

    fix client-c url (#5684)
    
    Signed-off-by: iswade <iswade@163.com>

[33mcommit 612c2dd17d24508dc5b015b107b2c7f832115fb2[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Nov 4 15:07:30 2019 +0800

    backup: stop test cluster before finishing tests (#5781)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 4633b9073fff2b36d28ff963f87f9a5ab855a903[m
Author: kennytm <kennytm@gmail.com>
Date:   Mon Nov 4 14:13:00 2019 +0800

    sst_importer: change download() to use closed range (#5772)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 086056fabd7f4763d111856854ed18f6ec9bd9da[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Sun Nov 3 22:28:05 2019 +0800

    tidb_query: support metadata in RPN functions (#5755)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 20b6e19a644f2f1f56872b8a789ecafbdb3dc9e3[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Sat Nov 2 15:13:35 2019 +0800

    Readme: discontinue wiki page and direct users to tikv.org for docs (#5782)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 3edce4b77430760967ebeb8438fd50d9a8e3eb4c[m
Author: winkyao <golangwink@gmail.com>
Date:   Fri Nov 1 20:06:38 2019 +0800

    MAINTAINERS: add @winkyao to MAINTAINERS.md (#5785)

[33mcommit 292ce44512fd5690a0232e84c83a54cb56b15178[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Fri Nov 1 18:00:08 2019 +0800

    Remove bound from MvccReader (#5783)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 50139edd79ac60bd9ee95f1630b227d76c5a26b5[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Oct 31 18:15:17 2019 +0800

    *: update docker script and Dockerfile (#5764)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 109624cf112cfd8bb7eb4b6e57ae9768911c228d[m
Author: Shenghui Wu <793703860@qq.com>
Date:   Thu Oct 31 14:16:08 2019 +0800

    *: fix rolling_update_fail when using Arrow format.  (#5754)

[33mcommit 682115ee8f7d048e23199879e527f53e44c73f5e[m
Author: qupeng <qupeng@pingcap.com>
Date:   Wed Oct 30 19:35:26 2019 +0800

    tests: stabilize some unstable test cases (#5719)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 48ac29e3c2302bd75cf2784f4c2f26ff5034db56[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Oct 30 17:30:57 2019 +0800

    build: remove update_titan feature (#5750)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit cb255464f838464d2abff88fa0d528dca83d87d6[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Wed Oct 30 16:52:25 2019 +0800

    tidb_query: make RpnExpressionNode not Clone (#5763)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit b3c8290b6a298a234735fb8f99f8150bdd071268[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Wed Oct 30 16:21:55 2019 +0800

    Improve Coprocessor Table Lookup Performance (#5682)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 829492e0423e45c135642e716736e0fafc6d006f[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Wed Oct 30 15:32:24 2019 +0800

    add metric for each reason of Write Stall (#5639)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit 6f9c90e83197f24008fa05a08c14bdf6f142be43[m
Author: Lonng <heng@lonng.org>
Date:   Wed Oct 30 13:59:59 2019 +0800

    server: report the status_address and git_hash to PD on TiKV startup (#5760)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 38e8e07b16475966f36026cfc37e258e008837fc[m
Author: gengliqi <gengliqiii@gmail.com>
Date:   Tue Oct 29 18:28:49 2019 +0800

    tests: fix unstable test_node_merge_brain_split test (#5734)
    
    Signed-off-by: Liqi Geng <gengliqiii@gmail.com>

[33mcommit a9c108185f79e2fd7dfbfcaad762b9413c99ce8a[m
Author: Xinye Tao <xy.tao@outlook.com>
Date:   Tue Oct 29 15:36:41 2019 +0800

    Batch (raw) get requests to same region across batch commands (#5598)
    
    Signed-off-by: tabokie <xy.tao@outlook.com>

[33mcommit c03a113e7b93498165d68bc1468acf0a7a120fda[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Oct 29 13:52:31 2019 +0800

    txn: Reject commit requests with commit_ts < primary_lock.min_commit_ts (#5691)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 396768aa21ec3d3169e4c2ce245a8cb7a53b38da[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Oct 29 11:01:31 2019 +0800

    txn: Keep pessimistic lock's TTL if it's greater than prewrite request's ttl (#5737)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 2678061a024db4695eb2b22c84c5be233805ccaa[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Oct 29 11:21:36 2019 +0900

    Engine traits cleanup (#5696)

[33mcommit fe1ea1a16790e23632fe75bc6655861621ce3ffb[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Mon Oct 28 21:24:50 2019 +0800

    tests: fix unstatble test test_prevote_reboot_minority_followers (#5731)
    
    * increase raft_election_timeout_ticks of test_prevote
    
    Signed-off-by: linning <linningde25@gmail.com>
    
    * increase raft_election_timeout_ticks of test_prevote
    
    Signed-off-by: linning <linningde25@gmail.com>
    
    * reduce wait time
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 57aa7ba9edeb4132ba8bcef8ec916952ad343b0f[m
Author: Xinye Tao <xy.tao@outlook.com>
Date:   Wed Oct 23 16:22:47 2019 +0800

    Check titandb directory when titan is disabled (#5658)
    
    * check empty directory when titan is disabled
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * address comments
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * fix suffix
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * add hint for check
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * fix wrong titandb path
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * add test for turning off titan
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * fix db path mismatch
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * use cluster api
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * remove db reopen check
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * remove pre_start check from cluster run
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * add comment for purge_obsolete_files_period
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * clean and robust test
    
    Signed-off-by: tabokie <xy.tao@outlook.com>

[33mcommit f4666a673df5f3266f05c70999eef856140ae644[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Wed Oct 23 15:14:30 2019 +0800

    improve backup checksum feature (#5683)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 214d86a171b4f1c5c36e729a749fbd004d653a2e[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Oct 23 14:37:59 2019 +0800

    raftstore: revert update approximate in pd-worker (#5711)
    
    * revert update approximate in pd-worker
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 7e9140667cda003b5ddf51f4acf8bec2cd76dd22[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Wed Oct 23 12:32:01 2019 +0800

    gc_worker: limit the write flow of GC (#5263)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit c64c9da634e092c620e7e6ed5442a091d4de5c3f[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Oct 23 12:16:03 2019 +0800

    build: Support building TiKV with specified Titan  (#5695)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 453e866835d654e20ae4d01fe75ba17abf8577f9[m
Author: Pratyush Singhal <psinghal20@gmail.com>
Date:   Tue Oct 22 10:12:01 2019 +0000

    Replace futures' oneshot implementation with tokio's oneshot implementation (#5652)
    
    Signed-off-by: psinghal20 <psinghal20@gmail.com>

[33mcommit 6d772aa5bee4c6d3cea7895dfc1230a8775a0808[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Oct 22 17:51:56 2019 +0800

    Remove rocksdb dependency from sst_importer (#5657)
    
    * sst_importer: Use engine_traits
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: Move IngestExternalFileOptions to options mod
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_importer: Convert import_mode to engine_traits
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_rocks: Fill in new methods
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_importer: get tests building
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_importer: Fix unsafe RocksCFHandle decl
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_importer: More test engine abstraction
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_importer: Abstract prepare_sst_for_ingestion
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_importer: Extract test_sst_importer crate
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_importer: Remove non-dev rocks dependency
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_import: get tests building again
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_rocks: add as_inner method
    
    This is nicer than `AsRef::<DB>::as_ref`.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_rocks: clippy
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * *: rustfmt
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * sst_importer: Rename RocksEngine variant to Engine
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: Remove delete_files_inrange_cf method
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: Move DBOptions into DBOptionsExt
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: Move CFHandle methods and types to CFHandleExt trait
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: Move import methods to their own trait
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_*: rustfmt
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: Replace StdError with local Error
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: Replace StdError with local Error
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_traits: rustfmt
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_rocks: remove empty file
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_rocks: remove unused Into impl
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * engine_rocks: simplify expression
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 8054f683c3c1a84ab4a3040b5ab5db84c2f2f093[m
Author: you06 <you1474600@gmail.com>
Date:   Tue Oct 22 15:44:56 2019 +0800

    add pcp issue template (#5694)
    
    Signed-off-by: you06 <you1474600@gmail.com>

[33mcommit 86a8f94dbfd4c409468f0e4dee95e6d0f8acff14[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Mon Oct 21 01:19:50 2019 -0700

    Adopt the CNCF ToC (#5670)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit eaeb39a2c85684de08c48cf4b9426b3faf4defe6[m
Author: kennytm <kennytm@gmail.com>
Date:   Mon Oct 21 11:50:28 2019 +0800

    sst_importer: download SST from external storage + key rewrite (#5581)
    
    * sst_importer: download SST from external storage + key rewrite
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * sst_importer: update kvproto; respect required range; add some logs
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * sst_importer: fix clippy warning
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * sst_importer: do check invalid prefix; use data_key for SST range
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * sst_importer: use origin key for rewrite rules
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * sst_importer: fix clippy warning
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * sst_importer: make download range use post-rewrite keys; return new range
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 64ede94b93f5795a864cd46d85840fb2568d768f[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Oct 21 11:08:56 2019 +0800

    txn: fix wrong txn_size in acquire_pessimistic_lock (#5681)
    
    * txn: fix wrong txn_size in acquire_pessimistic_lock
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit f8c55cf02db56d0306371e5e09df57dca44c7b56[m
Author: YangKeao <keao.yang@yahoo.com>
Date:   Sat Oct 19 17:51:02 2019 +0800

    remove criterion-papi dependency for macos (#5675)

[33mcommit 1ab088e252a3bab60ff09598afba78a3f389eb6b[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Fri Oct 18 10:29:51 2019 +0800

    txn: Fix check_txn_status doesn't write rollback when key not exist (#5673)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 7c093055e0e5efbf5f84cdc1c928023988d0d6c2[m
Author: 3pointer <luancheng@pingcap.com>
Date:   Thu Oct 17 17:35:51 2019 +0800

    backup: format file name with table_id (#5660)
    
    Signed-off-by: luancheng <luancheng@pingcap.com>

[33mcommit 7742f07c7694e616479e0f5ca1241df3db29114d[m
Author: FateTHarlaown <623239185@qq.com>
Date:   Thu Oct 17 13:53:35 2019 +0800

    decouple gc worker from Storage (#5663)
    
    * decouple gc worker from Storage
    
    Signed-off-by: FateTHarlaown <623239185@qq.com>

[33mcommit 0e74e1e54d873b40c9a3292e21521dda2e6148c4[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu Oct 17 11:18:51 2019 +0800

    txn: protect primary locks of pessimistic transactions from being collapsed (#5575)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit e705a2f6d7e4bfa68f12919000fa9dfe0b0dddf8[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Wed Oct 16 19:21:47 2019 -0700

    Fix titan missing blob file issue (#5668)

[33mcommit 1d28db09b2f58b845c82f033a4adfef42e675901[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Wed Oct 16 23:32:04 2019 +1300

    Pass tests on Mac OS (#5627)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit f7f9a5944feea92df87368874ca0575fb87cf9b1[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Tue Oct 15 20:12:18 2019 -0700

    Panic on rocksdb background error (#5550)
    
    * handle background error
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 63cea640dbc2993cf93bd0405735348fc896111c[m
Author: Pratyush Singhal <psinghal20@gmail.com>
Date:   Tue Oct 15 15:27:05 2019 +0000

    update syn, proc-macro2 and quote version in match_template (#5653)
    
    Signed-off-by: psinghal20 <psinghal20@gmail.com>

[33mcommit 6b42cb67548e29d45e6f5e15da7ee9ba7099e993[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Oct 15 15:19:20 2019 +0800

    adjust readpool size by the number of cpu core (#5654)

[33mcommit 6f4bc8cc29f6bdcaac8f4c2b975ef994abfb3fac[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Oct 14 16:01:35 2019 +0800

    fix criterion-papi build failure on macOS (#5648)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit e18d5a5f4ebab046de22ba9073040f773dd32460[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Oct 14 14:25:34 2019 +0800

    util: compare raw and encoded keys without explicit decoding (#5613)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit cf550ee019da9017a8677c75438e5a64320ba271[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Mon Oct 14 13:04:35 2019 +0800

    txn: Implement check_txn_status API (#5390)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 2cefd1aa8f47fe07ec196a1a1db0ba00226d1577[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Oct 14 12:09:35 2019 +0800

    raftstore: panic when getting value encouters an error (#5629)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 24ce8e093a8e0051ca6894a149a64f39c5e1d34b[m
Author: YangKeao <keao.yang@yahoo.com>
Date:   Sat Oct 12 19:53:06 2019 +0800

    upgrade criterion and use total instructions measurement (#5558)
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>

[33mcommit 92861baac28fca853c42589f5efef2ea304f1fe9[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Oct 12 17:57:05 2019 +0800

    raftstore: hibernate by default (#5633)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit fc9b44fe1666f91b198dd55cb263465083e9180e[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Sat Oct 12 16:52:34 2019 +0800

    storage: Fix scan_lock doesn't return lock's TTL (#5616)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 0e355bf33768ec427b796d95254d2ac4c2e59419[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Sat Oct 12 16:00:50 2019 +0800

    tidb_query: fix CAST as decimal inconsistency between TiKV and TiDB (#5468)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 8a09802bb9ad8f8d1d7fec9006675ee584c10ce3[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Sat Oct 12 15:23:36 2019 +0800

    Backup/test retry req (#5635)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit a3c12c68855c2817f4c88c6982ea79ba24eea8b3[m
Author: 3pointer <qdlc2010@gmail.com>
Date:   Fri Oct 11 22:17:05 2019 +0800

    backup: fix seek region panic (#5632)
    
    Signed-off-by: luancheng <luancheng@pingcap.com>

[33mcommit 207764c20cb75276fb32a337b1338f999f0b0a49[m
Author: Hardik Khandelwal <khandelwal.hardik14@gmail.com>
Date:   Fri Oct 11 16:26:06 2019 +0530

    Build: Prune Duplicated dependency(#5595) (#5626)
    
    Signed-off-by: hk1997 <khandelwal.hardik14@gmail.com>

[33mcommit 85a0ae4a1a9630906e36e7c868a502d80aaf9014[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Oct 11 18:07:06 2019 +0800

    inline values to write cf whose size <= 255 bytes (#5363)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 9d818eab0abdfd6bda02584e152961b10f9b02be[m
Author: Connor <zbk602423539@gmail.com>
Date:   Fri Oct 11 16:59:57 2019 +0800

    raftstore: clean up legacy code for properties (#5544)
    
    raftstore: clean up legacy code for properties
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 8cfeb1a1c1bf1194d10ebab3c9e98e084b2d2d46[m
Author: disksing <i@disksing.com>
Date:   Fri Oct 11 14:42:55 2019 +0800

    raft_client: connect to other stores using peer_address (#5569)
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit 9d746ceb47e6fa2ae6d6aa043b8738a3f76931da[m
Author: Hu Ming <humings@gmail.com>
Date:   Fri Oct 11 12:19:04 2019 +0800

    pd_client: rename kvproto::pdpb::PdClient to PdClientStub in pd_client/src/util.rs (#5594)
    
    Signed-off-by: huming <humings@gmail.com>

[33mcommit 4d5d38735b85fc1fd6088f78bfd03c8772b52866[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Fri Oct 11 11:35:50 2019 +0800

    tidb_query: fix CAST as duration inconsistency between TiKV and TiDB (#5540)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 23b8cf50a90e82b5305725482d3c798de79b029b[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Thu Oct 10 20:14:50 2019 +0800

    tidb_query: fix CAST as json inconsistency between TiKV and TiDB  (#5548)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 593d95bc552d7dc886ad2ccb60303361cb645316[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Thu Oct 10 17:50:06 2019 +0800

    tidb_query: fix CAST as string inconsistency between TiKV and TiDB (#5455)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 2622ff5e6427fb2f87e4a4ddadc2347d68518d76[m
Author: Connor <zbk602423539@gmail.com>
Date:   Thu Oct 10 15:41:22 2019 +0800

    raftstore: reduce the overhead of region heartbeat (#5537)
    
    * reduce the overhead of region heartbeat
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit e696ebe41cd2fdd3a7462d158de44cb07f98bd06[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Thu Oct 10 14:21:07 2019 +0800

    tidb_query: fix some err in cast_string_as_int_or_uint (#5543)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 5d6686b7e765c2a8edec6d49b146a23755bfe7d9[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Oct 10 13:41:15 2019 +0800

    raftstore: reduce message flush (#5475)
    
    * raftstore: reduce message flush
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 472dd9b1122639a314cd778562915b4891148412[m
Author: Shenghui Wu <793703860@qq.com>
Date:   Wed Oct 9 20:50:17 2019 +0800

    *: add a flag EncodeType for response to use Arrow/Default format to decode. (#5584)
    
    Signed-off-by: wshwsh12 <793703860@qq.com>

[33mcommit e231d45170f2efeddf855c81b6f90d2a7f094d1b[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Wed Oct 9 00:31:18 2019 +0800

    Add Trait `Floor` to migration built-in functions like `floor_* (#5535)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 78b9b3e5acf30521d115ebc9d2847ebf8841ed88[m
Author: niedhui <niedhui@gmail.com>
Date:   Wed Oct 9 00:11:18 2019 +0800

    coprocessor:  switch remaing code of tidb_query to using BufferReader (#5520)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit ae0b733951e762a734961da10511d848cfd9b9ec[m
Author: Andy Lok <andylokandy@hotmail.com>
Date:   Tue Oct 8 17:22:48 2019 +0800

    tidb_query: avoid unnecessary generic monopolization in rpn_fn (#5570)
    
    Signed-off-by: andylokandy <andylokandy@hotmail.com>

[33mcommit 00b0234fecbe97f53700b125ce1f5793ba88531b[m
Author: pentium3 <celerond@msn.com>
Date:   Mon Oct 7 03:08:19 2019 -0500

    Modify default value of high_pri_pool_ratio (#5576)
    
    Signed-off-by: pentium3 <celerond@msn.com>

[33mcommit 8aa49cfafc665ad9f22e7af4bddf47a4209033d2[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Sun Oct 6 00:58:42 2019 -0700

    Upgrade RocksDB to 6.4.x (#5324)
    
    * Upgrade RocksDB to 6.4.x
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 88bafb8109e1915a4676f09b3d4c2b3d6fe95d8a[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Mon Sep 30 13:00:40 2019 +0800

    Introduce engine_rocks component (#5541)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 3c1b9c54d718cd982f49d013f97cbd21704e5980[m
Author: qupeng <qupeng@pingcap.com>
Date:   Mon Sep 30 10:38:39 2019 +0800

    util: fix a resource leak bug about mpsc::batch (#5566)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit eb0d98b7e511934ad9681808583cb6024812e056[m
Author: zhouqiang <zhouqiang.cl@gmail.com>
Date:   Sun Sep 29 16:29:24 2019 +0800

    Update pull_request_template (#5559)
    
    * Update pull_request_template.md

[33mcommit 00bb77707755cacbef4fa62eb303f0cf63aef30a[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Sun Sep 29 15:59:02 2019 +0800

    backup: control backup threads (#5553)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 121e0e428c186dc948fb4366551b24471fc130c9[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Sun Sep 29 15:39:13 2019 +0800

    tidb_query: fix CAST as real inconsistency between TiKV and TiDB (#5433)
    
    tidb_query: fix CAST as real inconsistency between TiKV and TiDB
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 4d6c66aad68650739c46f84e96b45493d43d0f12[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Fri Sep 27 15:51:33 2019 +0800

    txn: Add more tests for MvccReader (#5534)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit dd8dbea542a1cb3214546b01f7573f0f36182753[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Thu Sep 26 22:58:03 2019 -0700

    Update CHANGELOG to include all versions (#5477)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 5548b4eb38f078ca7a35268aba39b5b20f32f87b[m
Author: Shenghui Wu <793703860@qq.com>
Date:   Thu Sep 26 18:27:03 2019 +0800

    Coprocessor: return Chunk encoded data (#5461)
    
    Signed-off-by: wshwsh12 <793703860@qq.com>

[33mcommit e3f48dafc0d7ee87f7f9b0ec99da060dc00ecde6[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Sep 26 18:07:36 2019 +0800

    tests: fix race in test_batch (#5546)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 4e8d82fd8b6f74d411da0408b4300bbc1f558d96[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu Sep 26 16:46:34 2019 +0800

    lock_manager: make has_waiter accurate (#5518)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 8554d35938652655dd937887cada88436104c8bf[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Thu Sep 26 16:00:03 2019 +0800

    mvcc/reader: fix check lock not return the right ts (#5536)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit aa0b3ee318de2f75e1230f087e0d7f86a55d57dc[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Sep 26 15:21:33 2019 +0800

    backup: test backup and import (#5486)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 5683234b3af09637532ad40a1b1685a25ae59091[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Wed Sep 25 23:13:32 2019 -0700

    Correct test command. (#5539)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 93cd53b613d75950a9f534a0c0c59d792e8521d7[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Thu Sep 26 12:29:33 2019 +0800

    backup: shorten snapshot duration (#5485)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 0ec7cc03e0151d975f41fccdd7caf3ce438d6f0c[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Wed Sep 25 18:13:45 2019 -0700

    Enable rocksdb force_consistency_checks for all CFs (#5491)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>
    
    <!--
    Thank you for contributing to TiKV!
    
    If you haven't already, please read TiKV's [CONTRIBUTING](https://github.com/tikv/tikv/blob/master/CONTRIBUTING.md) document.
    
    If you're unsure about anything, just ask; somebody should be along to answer within a day or two.
    -->
    
    ###  What have you changed?
    Enable `force_consistency_checks` for all CFs. If rocksdb detects LSM corruption, it will either abort (before https://github.com/facebook/rocksdb/commit/a28182233109f09e23e6336b5ed860ddf2c8eece) or return background error in subsequent writes (after that patch). This is to prevent LSM corruption to propagate further and corrupt data in tikv.
    
    ###  What is the type of the changes?
    - Engineering (engineering change which doesn't change any feature or fix any issue)
    
    ###  How is the PR tested?
    
    Unit test and bench_bot.
    
    ###  Does this PR affect documentation (docs) or should it be mentioned in the release notes?
    Updated CHANGELOG.md.
    
    ###  Does this PR affect `tidb-ansible`?
    No.
    
    ###  Refer to a related PR or issue link (optional)
    The related rocksdb PR is to cherry-pick into corresponding tikv-3.0 and tikv-2.1:
    https://github.com/pingcap/rocksdb/pull/120
    https://github.com/pingcap/rocksdb/pull/121
    
    ###  Benchmark result if necessary (optional)
    
    ###  Any examples? (optional)

[33mcommit a036e28195aa23658e1de9a15e6f802cd1d927ea[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Wed Sep 25 20:13:20 2019 +0800

    Add Trait `Ceil` to migration built-in functions like `ceil_*` (#5522)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 2074af2a82010dc597ef6714d871b4b069bba5cf[m
Author: Arve Knudsen <arve.knudsen@gmail.com>
Date:   Wed Sep 25 13:29:20 2019 +0200

    Makefile: Remove `run` target (#5374)
    
    Signed-off-by: Arve Knudsen <arve.knudsen@gmail.com>

[33mcommit 78340011fe70dfaeb7caec388f62b8545197c7b1[m
Author: Lonng <heng@lonng.org>
Date:   Wed Sep 25 18:44:06 2019 +0800

    tidb_query: port the BinaryLiteral from TiDB to the Coprocessor (#5528)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 3ac0d78c0dc75938307eff1b5d74ebb08ec91d15[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Wed Sep 25 15:53:10 2019 +0800

    update the WG slack link (#5530)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 31f3ee31fd82e291e3ce842ca231ba103e9a5e89[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Tue Sep 24 20:55:17 2019 -0700

    Unvendor SSL to remove duplicate OpenSSL fns (#5525)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 9535a45620a84bc7c59a933ac4d4616a62a8e94f[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Wed Sep 25 11:32:47 2019 +0800

    add engine_traits component (#5445)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 9b59dee62d666d9d705b465383ff38081623bbe8[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Sep 24 22:29:58 2019 +0800

    Fix commit index is not forwarded when merge entry is empty (#5512)
    
    * fix merge empty entry check
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 064beb0ecbe77e744127eca47673f7f962437a2a[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Sep 24 02:43:47 2019 -0700

    *: update all registry deps (#5502)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 294833f67543c47aac5bf10657135b47ba7e23ab[m
Author: mwish <1506118561@qq.com>
Date:   Tue Sep 24 16:56:17 2019 +0800

    MVCC Scanner unit tests: Add test for scanner under lock (#5474)
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit 3ab09d09097dd4f5e73fce9070a7f37f688e3e35[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Mon Sep 23 23:42:47 2019 -0700

    tidb_query_codegen: fix doc tests (#5505)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit c142fa8d609e8ebf8e32b8f9cc4a4f5170a16895[m
Author: niedhui <niedhui@gmail.com>
Date:   Mon Sep 23 20:04:48 2019 +0800

    coprocessor: use BufferWriter for tidb_query component (#5496)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 6ecea793538ee260b26e84ee3370807ecd591d21[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Mon Sep 23 16:42:47 2019 +0800

    service/kv: fix wrong metrics of txn_heart_beat (#5506)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 0ac309160d18cdd3bffcad96a8ee718e63391f0a[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Mon Sep 23 15:35:17 2019 +0800

    tidb_query: fix CAST as int/uint inconsistency between TiKV and TiDB (#5431)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 7cbf045bb6bf7255ddedd44e76beba98efedd2e6[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Mon Sep 23 14:42:48 2019 +0800

    txn: Check lock's TTL when doing cleanup (#5471)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 15082b6cb7d1be3414badc0b74a21b67a505a29e[m
Author: niedhui <niedhui@gmail.com>
Date:   Sat Sep 21 01:46:51 2019 +0800

    replace rust-crypto with rust-openssl (#3886)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 30963e44de6854b036db9fab4b5629825b4a1bbe[m
Author: You Lingjing <52535857+Jing118@users.noreply.github.com>
Date:   Fri Sep 20 02:39:17 2019 +0800

    Add jemalloc metrics (#5448)
    
    Signed-off-by: Lingjing You <clylj135@gmail.com>

[33mcommit f2bb322e6fffd72c26f0ef268f99e0d8441389aa[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Sep 19 14:29:26 2019 +0800

    Fix wrong configuration item (#5480)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit e3ab70d22f9d05e1c730bfd787eb596cc9695c92[m
Author: disksing <i@disksing.com>
Date:   Thu Sep 19 07:41:18 2019 +0800

    raftstore: support specifying keys to split region (#5458)
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit 6518098eaffbd145cc24679b46d80021f5f2e7be[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Sep 19 04:17:47 2019 +0800

    ci: deprecates CircleCI test job (#5457)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 639e60f46e623292725bbdb89f372fd66109535f[m
Author: jiyingtk <jiyingtk@mail.ustc.edu.cn>
Date:   Wed Sep 18 18:03:46 2019 +0800

    pd: report thread stats in store heartbeat (#5246)
    
    Signed-off-by: jiyingtk <jiyingtk@mail.ustc.edu.cn>

[33mcommit f7bdf48d8cf1d976746fe907d3cad1c34b0304d5[m
Author: niedhui <niedhui@gmail.com>
Date:   Wed Sep 18 17:43:04 2019 +0800

    coprocessor: decode_time and decode_duration using BufferReader (#5450)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit e75aed82e2d4f3d741a9613b6dc33569439e1b2c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Sep 18 13:10:47 2019 +0800

    cmd, backup: enable backup feature (#5476)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit f718999e17b7fe6fa6438a5fd1e5efbcef5490c9[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Tue Sep 17 15:06:47 2019 +0800

    Fix PointGetter performance issue when there are concurrent write (#5469)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 2364333636896356a9b3c48d33807951d73d02ed[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Tue Sep 17 11:44:55 2019 +0800

    check and fix inconsistency between TiKV and TiDB's cast (part 1) (#5423)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 8519bf55a00197f6304c8a99580d437248d47601[m
Author: NingLin-P <linningde25@gmail.com>
Date:   Mon Sep 16 21:11:17 2019 +0800

    rename lease_time to current_time (#5465)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit 0c1560f0755b62fda54a5a1a7b82b81d921aa0f3[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Mon Sep 16 20:51:47 2019 +0800

    Handle read index request with lease (#5401)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 4d96ae3a00e954a7bc6b18c4f0478e80c353acd1[m
Author: disksing <i@disksing.com>
Date:   Mon Sep 16 20:32:33 2019 +0800

    server/service: adapt unordered split keys (#5466)
    
    * server/service: adapt unordered split keys
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit b1bd8900fcd0f0a936dbabddbcdefde8016f1ddd[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Sep 16 11:36:47 2019 +0800

    doc: Change some description of region merge (#5452)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 385d4b4a7fa560d294d3b6cbe75f28f17833f062[m
Author: Arve Knudsen <arve.knudsen@gmail.com>
Date:   Sun Sep 15 18:55:17 2019 -0700

    Configure default pd endpoint for tikv-server (#5427)
    
    Signed-off-by: Arve Knudsen <arve.knudsen@gmail.com>

[33mcommit db2fb8ece6677e85b164568149d089fc4057672e[m
Author: NingLin-P <linning@pingcap.com>
Date:   Thu Sep 12 16:18:17 2019 +0800

    test: fix unstable test failed of test_server_pd_transfer_leader (#5417)
    
    Signed-off-by: linxnp <linningde25@gmail.com>
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit a7e4b036bb28723b534b8d9f601db2fb5f37c424[m
Author: mwish <1506118561@qq.com>
Date:   Thu Sep 12 15:57:50 2019 +0800

    tidb_query: Migrate `json_modify` to RPN Function (#5280)
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit e6b08ded6d87d756f92b210ee8384dfc3bdab960[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Sep 12 15:37:48 2019 +0800

    backup: support backup with rate limit (#5451)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 61906b95b7a03f14f48866a8dc52488cd8d80448[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Thu Sep 12 14:12:17 2019 +0800

    Introduce PointGetter (#5424)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit c9e6f2e926e55f94029216957f1a5976f58127b2[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Thu Sep 12 15:45:47 2019 +1200

    *: prune deps (#5454)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit a55605294bbfeb21ec9d92df89afee01b57690bd[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Thu Sep 12 09:42:17 2019 +1200

    Improve our use of unsafe code (#5413)
    
    * Replace as_slice with std::from_ref
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>
    
    * Fixup some docs
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>
    
    * Tidy up profiling code
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>
    
    * Remove erase_lifetime_mut and move erase_lifetime to discourage reuse
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>
    
    * Use the zeroize crate rather than zeroing our self.
    
    The crate is tiny and has no deps, and does a better job of securely zeroing the
    memory than we did.
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>
    
    * Document some uses of unsafe code
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>
    
    * Changes
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 0d2bd066cb9494aebcbe782a0c6cc02bc0d6d950[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Thu Sep 12 08:23:17 2019 +1200

    Polish the documentation in the tidb_query_datatype crate (#5449)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 2203e01db6dc387607808a1719a65f8725d62162[m
Author: NingLin-P <linning@pingcap.com>
Date:   Wed Sep 11 19:46:47 2019 +0800

    raftstore: add commit log duration metrics (#5440)
    
    Signed-off-by: linning <linningde25@gmail.com>

[33mcommit dbe883287a2edeb3404d98d41f0699d4aad2e3b3[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Sep 11 02:27:18 2019 -0700

    Extract sst_importer (#5438)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit f52680df2bc53ddf013968cc125a3a8f7cdcc2f4[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Wed Sep 11 14:45:26 2019 +0800

    Enable DoublySkiplist by default (#5430)
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit 17084650d12adb710f43d34b95208b54d089df1b[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Wed Sep 11 13:53:17 2019 +0800

    Fix TiKV panic when aggregation expr type is not valid (#5429)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit c748d4fe0b6378e444785230ee0c7133249973e1[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Wed Sep 11 16:00:48 2019 +1200

    tidb_query: document coprocessor codegen (#5397)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit d2e3b6af4226b17595e361da93ffcb48b89e7ec5[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Sep 11 11:12:17 2019 +0800

    backup: record errors to metrics (#5436)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 9b0e35d53adb819cfaad8f9299f4e132874f883d[m
Author: mwish <1506118561@qq.com>
Date:   Tue Sep 10 18:09:48 2019 +0800

    tidb_query: Migrate `json_extract` and `json_remove` to RPN Function (#5410)
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit 204dbaf08dda3388e0d0df64c40d59337b6e6814[m
Author: niedhui <niedhui@gmail.com>
Date:   Tue Sep 10 17:25:16 2019 +0800

    coprocessor: decode_json using BufferReader (#5323)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 96220b40a30fcf29043736d89fd1590039ec209b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Sep 10 14:43:46 2019 +0800

    external_storage: add noop external storage (#5428)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 9bee65d186241bccf7b3e086a86c1b025eca336c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Sep 10 12:45:47 2019 +0800

    engine: add LimitReader (#5434)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 1868b85714736834ea270573726a45dd4127b3ea[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Mon Sep 9 19:59:13 2019 -0700

    Fix Cargo run workflow (#5439)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit ff82aa9eba331585aec1c6cdf9e1584512bccb34[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Mon Sep 9 13:36:15 2019 -0700

    Rustup to nightly-2019-09-05 (#5261)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 5ad30cba22f80853279c990b4030fb247f32b3ad[m
Author: Wallace <bupt2013211450@gmail.com>
Date:   Mon Sep 9 11:52:48 2019 +0800

    Config support rocksdb doubly skiplist to optimize reverse-scan (#5387)
    
    * config support doubly skiplist
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>
    
    * fix unit test
    
    Signed-off-by: Little-Wallace <bupt2013211450@gmail.com>

[33mcommit b4daac2bb80ade14d1442d6fc21fa9c12efab943[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Sun Sep 8 08:39:13 2019 -0700

    Extract keys crate (#5376)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 369e40031ed39a8f34ab67ba9b0e46d684b151c1[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Fri Sep 6 18:49:52 2019 +0800

    txn: Add txn_heart_beat API (#5407)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 46a610b3828334aff19cb5a46ba62ec465c6c885[m
Author: you06 <you1474600@gmail.com>
Date:   Fri Sep 6 11:56:37 2019 +0800

    raftstore: use new approximate keys function when result is 0 (#5403)
    
    Signed-off-by: root <you1474600@gmail.com>
    Signed-off-by: you06 <you1474600@gmail.com>

[33mcommit d6e86c59183217cbbf9a5ad8f707cf6f45ed4555[m
Author: Ryan Leung <rleungx@gmail.com>
Date:   Fri Sep 6 10:23:07 2019 +0800

    *: continue to use openssl (#5384)
    
    Signed-off-by: Ryan Leung <rleungx@gmail.com>

[33mcommit ab603f1c04de347c0dd5b508c1844e03dc0d7160[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Thu Sep 5 15:58:36 2019 -0700

    */Cargo.toml: Quaratine jemalloc with features (#5299)
    
    * */Cargo.toml: Quaratine jemalloc with features
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Trim mistaken inclusion
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Clean default features
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Remove unnecessary no-default-features
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Clean unnecessary engine feature
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Actually remove engine default feature.
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 7f7a3a682fad7389ba239c58e42159a94285869b[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu Sep 5 17:05:26 2019 +0800

    Cover more cases in test_mvcc_txn_read (#5395)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 6f7c21bafc23a5b64ef4f3afee737bade0f60dc9[m
Author: jiyingtk <jiyingtk@mail.ustc.edu.cn>
Date:   Thu Sep 5 16:45:56 2019 +0800

    test: fix unstable test failed of test_region_heartbeat_timestamp (#5371)
    
    Signed-off-by: jiyingtk <jiyingtk@mail.ustc.edu.cn>

[33mcommit 9fd1cb345c0210f1866608ceb16713d3a79be1fc[m
Author: Arve Knudsen <arve.knudsen@gmail.com>
Date:   Thu Sep 5 10:26:55 2019 +0200

    .gitignore: Add generated files (#5377)
    
    Signed-off-by: Arve Knudsen <arve.knudsen@gmail.com>

[33mcommit 4950eb1b6b996f8d1211033ba85eb7b2a51a67cf[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Thu Sep 5 16:06:27 2019 +0800

    Copr: Fix precision loss while unflatten `Duration` in `codec` (#5367)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 2600ea7f8f5cd1c45f3d295effa63fb59887997a[m
Author: Jagadesh Adireddi <adireddijagadesh@gmail.com>
Date:   Thu Sep 5 07:25:36 2019 +0530

    optimize check snapshot range debug logging (#5402)
    
    Signed-off-by: Jagadesh Adireddi <adireddijagadesh@gmail.com>

[33mcommit 2bdf6dc5fef4644b1e18e102249594f3ef4787d6[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Sep 4 15:03:07 2019 +0800

    backup: add backup endpoint (#5392)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 6c420ba38cc0389c3cf21d4c5b5731ad110e6873[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Sep 3 16:56:08 2019 +0800

    txn: Cover more cases about pessimistic rollback in unit tests (#5356)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit be9a0001812f6eb2b0556053bec3c4777b4a502b[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Tue Sep 3 15:36:36 2019 +0800

    *: move lock manager to server (#5381)
    
    Signed-off-by: siddontang <siddontang@gmail.com>
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 1931665cc7a95d488d3f012ebeaf53bfccc2216e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Sep 3 14:23:36 2019 +0800

    backup: add backup service (#5359)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit b2615cb5b4691ce8b1130c0bdbf20d2878f02c4c[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Sep 2 20:23:37 2019 +0800

    Add unit tests for MVCC reader check_lock (#5380)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit d9b4f340a936c3d235e7ad4dd9ebf9e2a6bf8324[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Sep 2 20:57:06 2019 +0900

    backup: add BackupWriter which converts txn entries to sst files (#5358)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit af70f367a38aad3305e32d8de17f60e09ea87fc3[m
Author: Shafreeck Sea <shafreeck@users.noreply.github.com>
Date:   Sat Aug 31 23:59:36 2019 +0800

    pd_client: report term in region heartbeat (#5281)
    
    Signed-off-by: Shafreeck Sea <shafreeck@gmail.com>

[33mcommit b5a465fefbeff5ce263d86e17d23666e73171955[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Aug 31 12:06:07 2019 +0800

    bench: make raftstore cases into group (#5373)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit e4b962ac261511edda073b53beed870520285909[m
Author: mwish <1506118561@qq.com>
Date:   Fri Aug 30 18:29:07 2019 +0800

    Copr: Implements `take_scanned_range` for `BatchExecutorRunner` (#5362)
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit f31e2430119000ebd4e4203934a70e0ab1da37be[m
Author: mwish <1506118561@qq.com>
Date:   Fri Aug 30 17:50:28 2019 +0800

    tidb_query: Migrate `json_object` from builtin_json.rs to tidb_query (#5343)
    
    * tiqb_query: Modify mod.rs and add function signature and tests for `json_array` `json_object` `json_merge` and `json_array`.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Fix] fix the error in test_json_array.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [ADD] Use clippy and fmt to format the code
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [ADD] support impl for `json_merge`
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [ADD] update implement for `JsonObjectSig`
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Update] Update error handling for json_object.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * tiqb_query: remove TODO and extra_validator.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [ADD] add json_validators to validate types and argument length.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Update] add `evaluate_with_validate` and `evaluate_raw_with_validate` `rpn_expr/types/test_util.rs`
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Update]
    - Update  rpn_expr/types/test_util.rs to fit the validate of args
    - Update impl_json.rs to make full use of new test.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [ADD] update test_util.rs to pass the type validation in `evaluate_with_validate`
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Update] Remove `evalutae_with_validate` and `evaluate_raw_with_validate` and move the validation to `evaluate_raw`
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [FMT & Simplify] format and simpilfy the code to resolve comment.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Format] move all std declearation to the begining / use EvalType / remove the unnesscarry macro
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [FMT] Using clippy and fmt to format the project
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Update] Extract JsonObject in #5253
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Resume] resume tests for `test_json_object`
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Error Handle] Use `?` to replace unnecessary `into()`
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [FMT] fmt the code according to the review
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Fix] Fix the error in `json_object_extract`.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Update] FMT the code:
    - use `.as_ref()` to replace `Evaluable::borrow_scalar_value_ref`.
    - add `assert!` to validate arguments
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Update] Remove comment.
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit 7d9fb9832cd65e1f29433ae8cebb7f7a92d38671[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Fri Aug 30 09:49:06 2019 +0800

    raftstore: separate RaftlogGc to an individual thread (#5332)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit d3a800f30405c30d3eb3138987228829a55d52f7[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Aug 29 17:22:37 2019 +0800

    service: remove unnecessary peer clone (#5360)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit 97adb4c3eac22f60f28871e8f80f6c12c38700bc[m
Author: you06 <you1474600@gmail.com>
Date:   Thu Aug 29 13:55:31 2019 +0800

    tikv-ctl: access store id and cluster id (#5257)
    
    Signed-off-by: you06 <you1474600@gmail.com>

[33mcommit 3410726a91826630b560c37ffa3cf3bf0ed39041[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Aug 29 12:05:37 2019 +0900

    backup: add backup component and error type (#5352)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 4bff6a9a4672257eb1dd5ac1e9a3034ef0c6a7ef[m
Author: mahjonp <junpeng.man@gmail.com>
Date:   Thu Aug 29 00:18:23 2019 +0800

    fix a tikv-ctl help tips error (#5347)
    
    Signed-off-by: mahjonp <junpeng.man@gmail.com>

[33mcommit 83a23575607dda5c15c7720ac0a7de90e4664411[m
Author: kennytm <kennytm@gmail.com>
Date:   Wed Aug 28 20:33:37 2019 +0800

    Revert "*: deny unknown fields when deserializing config TOML (#5190)" (#5350)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit adff3e155d806a2acca19d192cf99389f23fe77b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Aug 28 20:57:07 2019 +0900

    tikv_util: calculate CRC32 for byte slice (#5353)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 72a85980757e608651604bb8da6012c39d2a1ad9[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Aug 28 17:33:37 2019 +0800

    raftstore: check merge entries' length to avoid slice out of range (#5310)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit b9a806db732a5144d2a286a175864911710aca57[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Wed Aug 28 12:50:36 2019 +0800

    raftstore: return error when read index is dropped due to invaild leader (#5316)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit d7887694b9c954a31213b4c0d2c90b76b19e25ec[m
Author: mwish <1506118561@qq.com>
Date:   Wed Aug 28 12:31:37 2019 +0800

    tidb_query: Migrate `json_merge` from `builtin_json.rs` to tidb_query (#5342)
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit 3c49ba82ca661329f95cc59f9e4cb61e13c8459b[m
Author: SIGSEGV <gnu.crazier@gmail.com>
Date:   Wed Aug 28 11:46:37 2019 +0800

    Fix output on short version flag (#5348)
    
    Signed-off-by: lucklove <gnu.crazier@gmail.com>

[33mcommit 44aac58b8fafede4f011d1690381b55b3422cfb8[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Aug 28 10:09:36 2019 +0800

    txn: Add more tests to acquire_pessimistic_lock and pessimistic_prewrite (#5309)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 33707b86276b04ddf5173b1537bd8453fca761d1[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Aug 27 21:06:08 2019 +0900

    storage: add entry scanner which outputs contents in each cf (#5327)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 9ede1a44ca02ace06912c7236769f52d93b92dc8[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Tue Aug 27 19:27:08 2019 +0800

    deadlock: create clients with the same grpc env (#5320)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 4861c61018f541721b699bb516cf7222d17f5e7e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Aug 27 16:31:37 2019 +0900

    scripts: upadte gen-dockerfile.sh (#5337)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 8db93329c92a71b41d01372a583401de97ce9820[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Tue Aug 27 13:17:25 2019 +0800

    Implement read_bytes and write_bytes (#5335)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 58d6e9fae3daedf2974d1d78e4eacc6e67e61a8e[m
Author: Lonng <heng@lonng.org>
Date:   Mon Aug 26 17:49:23 2019 +0800

    tidb_query: map CAST signatures to RPN function (#5334)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 40ebb8cf41f2139f06fdb5a6084d1f2b1a2c7958[m
Author: mwish <1506118561@qq.com>
Date:   Mon Aug 26 16:16:14 2019 +0800

    tidb_query: Migrate `json_array` from builtin_json.rs to tidb_query (#5328)
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit 50ca978b879bdab00c80f57b6a51aefb6236adc9[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Aug 23 19:35:20 2019 +0900

    storage: add storage component (#5325)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 363a30e864cffacdec75da71c0907bcc2f981947[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Fri Aug 23 15:37:20 2019 +0800

    Remove read pool (#5220)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 80e35266be1bf8855da207876bbd9b3e669b0c1d[m
Author: disksing <i@disksing.com>
Date:   Thu Aug 22 21:11:13 2019 +0800

    server: support batch split command (#5268)

[33mcommit 49384732b342123c2305f02ea3a009bb13b5eda8[m
Author: CWen <cwenyin0@gmail.com>
Date:   Thu Aug 22 17:19:18 2019 +0800

    add `config-check` flag for tikv-server (#5298)
    
    Signed-off-by: cwen0 <cwenyin0@gmail.com>

[33mcommit 2086b7b193f8169996fee1d3cf3c99259758d4cc[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Thu Aug 22 13:49:18 2019 +0800

    deadlock: speed up detecting leader change of the deadlock detector (#5028)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit e0a4fd7f84950614b5ac4397da1872660e41789e[m
Author: Sakura <40171666+928234269@users.noreply.github.com>
Date:   Thu Aug 22 13:18:06 2019 +0800

    cleanup: fix typos in   test_bootstrap.rs (#5300)
    
    Signed-off-by: Sakura <longfei.shang@daocloud.io>

[33mcommit 8a314150cb59c946b551a9df13891ff8924a71b4[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Thu Aug 22 11:15:50 2019 +0800

    Move task limit from read pool to future pool (#5301)

[33mcommit d9eeb314ea51819117f773b111e7d29b93435fd9[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Wed Aug 21 20:33:24 2019 +0800

    Improve scan details collect performance (#5308)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 4042de6e2eff034cd741bbf3a028bcbc445ba50b[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Aug 21 16:45:48 2019 +0800

    txn: Cover more corner cases for optimistic txn's tests (#5304)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 0608d5cb132981744ebfa76bf998b3a21dca16f8[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Aug 21 14:45:28 2019 +0800

    test: stablize test_node_merge_catch_up_logs_restart (#5223)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit dcde0919aec6ea6b2acf4ed4e73c1634fe5e7412[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Wed Aug 21 16:19:04 2019 +1200

    Some changes to make supporting Prost easier (#5290)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 41845a4dc1bc66f87f3885d960f3529eb6d258fd[m
Author: Lonng <heng@lonng.org>
Date:   Tue Aug 20 16:49:39 2019 +0800

    coprocessor: Implement ConvertTo<Json>/CAST as Duration for evaluable types (#5199)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 03d19d95880a8cf3cc7160c875be553b480d7553[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Tue Aug 20 18:23:18 2019 +1200

    Make the contributing instructions more friendly (#5295)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit d3ad4185202238746ee16031277d59b813d01b71[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Tue Aug 20 13:41:25 2019 +0800

    raftstore: merge Compact, RaftlogGc, CleanupSST worker into one thread (#5297)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 1ac92a1212649cc8284f697ff94719bf42be5f99[m
Author: Guangming Wang <guangming.wang@daocloud.io>
Date:   Tue Aug 20 11:04:18 2019 +0800

    tikv-ctl.rs: fix command help message (#5294)
    
    Signed-off-by: Guangming Wang <guangming.wang@daocloud.io>

[33mcommit 6a516eea06906a96efd0223245ac90531faa4dec[m
Author: mwish <1506118561@qq.com>
Date:   Mon Aug 19 17:25:18 2019 +0800

    cmd/tikv-ctl: change all "about" prompt message first word to uppercase (#5293)
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit ce168013abe634d336b2beebdca17afaac029cd8[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Aug 19 17:06:49 2019 +0800

    Remove useless clippy hints and fix some issues following clippy lints (#5287)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit f9f4926f708942ffd840d772e6026c54fe14f4b5[m
Author: jiyingtk <jiyingtk@mail.ustc.edu.cn>
Date:   Mon Aug 19 16:32:19 2019 +0800

    pd: fix last_report_ts in region heartbeat (#5248)
    
    Signed-off-by: jiyingtk <jiyingtk@mail.ustc.edu.cn>

[33mcommit a1fb7e0a5312d001d1dc0c23f35185f49536a7a2[m
Author: niedhui <niedhui@gmail.com>
Date:   Mon Aug 19 15:54:49 2019 +0800

    decode_decimal by using BufferReader (#5259)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 8ff1e2eff99e6534f43f760f61bfa5d02ef27d11[m
Author: Wu Jiayu <lambdayu@gmail.com>
Date:   Mon Aug 19 02:25:34 2019 +0800

    Exclude shared block cache from core dump (#5227)
    
    <!--
    Thank you for contributing to TiKV! Please read TiKV's [CONTRIBUTING](https://github.com/tikv/tikv/blob/master/CONTRIBUTING.md) document **BEFORE** filing this PR.
    -->
    
    ## What have you changed? (mandatory)
    
    Support jemalloc nodump allocator for shared block cache, so we can exclude block cache from core dump, which is useful to reduce core file size.
    
    Add a memory allocator option to block cache options in case to support more allocator in future.
    
    ## What are the type of the changes? (mandatory)
    
    New feature
    
    ## How has this PR been tested? (mandatory)
    
    Deploy a one node tikv-server with ansible, load 100GB data, Then scan 100GB data with following scenario:
    
    - 4GB block cache with jemalloc nodump allocator
    - 4GB block cache with default allocator
    - 10GB block cache with jemalloc nodump allocator
    - 10GB block cache with default allocator
    
    Dump tikv-server process after each scenario. The core file generated is 5.6GB, 10.6GB, 5.4GB,  18GB respectively.
    
    ## Does this PR affect documentation (docs) or release note? (mandatory)
    
    No.
    
    ## Does this PR affect tidb-ansible update? (mandatory)
    
    Yes. We need to update config template.
    
    ## Refer to a related PR or issue link (optional)
    
    #5161

[33mcommit 61dd137e6a79fff19b31d133fce676f4bed027c8[m
Author: you06 <you1474600@gmail.com>
Date:   Fri Aug 16 11:25:01 2019 +0800

    Update dockerfile for recently structure changes
    
    Signed-off-by: you06 <you1474600@gmail.com>

[33mcommit a1979817e800ec291cc57927b45f2a9d10c04935[m
Author: Guangming Wang <guangming.wang@daocloud.io>
Date:   Thu Aug 15 21:24:22 2019 +0800

    cleanup: fix typos in panic message (#5288)
    
    Signed-off-by: Guangming Wang <guangming.wang@daocloud.io>

[33mcommit 5be6ea8e77e76c95e756bfc8674fa5599ca5f3e1[m
Author: mwish <1506118561@qq.com>
Date:   Thu Aug 15 19:53:04 2019 +0800

    tiqb_query: Support validating arguments in `rpn_expr/test_util.rs` (#5282)
    
    * [Update] add `evaluate_with_validate` and `evaluate_raw_with_validate` `rpn_expr/types/test_util.rs`
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [ADD] update test_util.rs to pass the type validation in `evaluate_with_validate`
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Update] Remove `evalutae_with_validate` and `evaluate_raw_with_validate` and move the validation to `evaluate_raw`
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit 134c290e54a4a73496489bb1b6a0ec639d950aa9[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Thu Aug 15 16:51:10 2019 +0800

    failpoints: setup for ci only once
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 3e98a33c0e2b6b9c8a15b6c47c15a67f7a2f0f99[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Thu Aug 15 15:57:11 2019 +0800

    cop: refactor rpn cast uint to * (#5179)
    
    * cop: refactor rpn `cast uint to *` according to TiDB's impl(expression/builtin_cast.go)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 14fb2f027ae1e4da94d0ea0f5dba21fbf9aa7c6f[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Thu Aug 15 17:55:40 2019 +1200

    Use Prost-style service naming
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit b5738865319e7c550f22e51b9a597c378ac588b4[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Aug 14 19:55:44 2019 -0700

    storage: give MultipleReturnValue a meaningful name
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 6ebe7a6dee08e03d0087a08b7a60eef372892664[m
Author: jiyingtk <jiyingtk@mail.ustc.edu.cn>
Date:   Wed Aug 14 23:07:45 2019 +0800

    Replace std's HashMap to tikv_util's HashMap
    
    Signed-off-by: jiyingtk <jiyingtk@mail.ustc.edu.cn>

[33mcommit 44a52eabd4396fa19f0588e642ee4a9a08788f41[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Wed Aug 14 14:11:29 2019 +0800

    copr: Refine `Res` and handling all `Res` via `EvalContext`  (#5255)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 369b2b914a7429e0c38e23aaf7385a0f9a6d5b21[m
Author: mwish <1506118561@qq.com>
Date:   Wed Aug 14 13:52:40 2019 +0800

    tidb_query: Migrate json_unquote to RPN Function (#5226)
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit f745e745b7ccc691dd0642aef05e591b014ec4cc[m
Author: qupeng <qupeng@pingcap.com>
Date:   Wed Aug 14 12:25:57 2019 +0800

    put store to PD after bootstrap finish (#5270)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit dd5209bad00486ffc4e6e6d0a71c2321fb91acc8[m
Author: Guangming Wang <guangming.wang@daocloud.io>
Date:   Wed Aug 14 11:46:52 2019 +0800

    apply.rs: error message word misspell fix (#5272)
    
    Signed-off-by: Guangming Wang <guangming.wang@daocloud.io>

[33mcommit 74276bf0ab28e8f5fa214bc91a3cb6cc7b6b0f5e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Aug 14 09:59:09 2019 +0800

    *: register services outside of server (#5265)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 5de2a635f2477a47a3cb29414cdc5e1892240e44[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Tue Aug 13 17:42:40 2019 -0700

    Check for 0.0.0.0 over 0. in advertise addr. (#5274)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 56c5d65d70596cf091c6b2e0ae4e68e26eba1855[m
Author: ethan <guangming.wang@daocloud.io>
Date:   Tue Aug 13 13:32:29 2019 +0800

    tikv-ctl.rs: correct some words in message (#5258)
    
    Signed-off-by: Guangming Wang <guangming.wang@daocloud.io>

[33mcommit 5f7e5ff4f587c78c3e13b674b789114d4603167b[m
Author: Lonng <heng@lonng.org>
Date:   Tue Aug 13 13:18:29 2019 +0800

    tikv_util: make the ReadableSize methods as const function (#5264)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 9d75f764aef1851e391e9a4f5ead0e7e3016c1dc[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Mon Aug 12 20:44:58 2019 -0700

    tests: fix 'boostrap' typo (#5260)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit d4674b79b7bea5e275593216e96f2f4fcceaed38[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Aug 13 10:53:48 2019 +0800

    *: remove clang requirement on x86_64 linux (#5254)
    
    * *: remove clang requirement on x86_64 linux
    
    Latest grpcio is shipped with bindings for x86_64 linux. So for most of
    our target platform, clang is not required anymore.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>
    
    * update lock file
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit d1d90afd664ab8bdb32f2f26d520d53ffbe0818c[m
Author: ethan <guangming.wang@daocloud.io>
Date:   Mon Aug 12 18:14:58 2019 +0800

    cleanup: metrics.rs help message word correction (#5250)
    
    Signed-off-by: Guangming Wang <guangming.wang@daocloud.io>

[33mcommit 33ce901f8985fe46198206824aef56b4942a1912[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Aug 12 17:57:58 2019 +0800

    cmd: move tikv-server and tikv-ctl to cmd crate (#5242)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 747a20fb9f8e4dc24092ebce5c13dd2ef3f311ec[m
Author: Huang Zexin <hzx20112012@gmail.com>
Date:   Mon Aug 12 17:34:11 2019 +0800

    cop: Fix float_str_to_int_str bugs and refactor it as same as TiDB (#5134)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit f83c09c06fa4412ae8a2027dbb377e1d772a7dc9[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Mon Aug 12 17:15:28 2019 +0800

    raftstore: fix duplicate `ctx` of read index (#5213)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit b7ddddba68b344127a0908034522c3d0306b3240[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Mon Aug 12 18:54:04 2019 +1200

    *: Use Rust-style naming for all protobuf messages and fields (#5217)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 69959ed6acf9042a3bae60574ec69815da761998[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon Aug 12 11:09:06 2019 +0800

    Set not_found field to true in get responses when key does not exist (#5240)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit cc7688ce4679d2fc0520efe5fd77a32a6cf2b868[m
Author: Kenan Yao <cauchy1992@gmail.com>
Date:   Fri Aug 9 15:54:34 2019 +0800

    coprocessor: differentiate real/int/decimal for `not` expression (#5005)
    
    Signed-off-by: Kenan Yao <cauchy1992@gmail.com>

[33mcommit cb2110d9f1c05cf9f5f3a27319120bc1a3c6dd00[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Fri Aug 9 14:58:04 2019 +0800

    Fix grammar issues as Grammarly suggested (#5232)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 88b71fbf478e3e401c618e0534f24001c15fa570[m
Author: qupeng <qupeng@pingcap.com>
Date:   Fri Aug 9 13:43:27 2019 +0800

    raft: temporarily use raft-rs master branch (#5228)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 034379605e8805c2ce2016903e21e3bd0521f64e[m
Author: kennytm <kennytm@gmail.com>
Date:   Fri Aug 9 12:06:34 2019 +0800

    *: deny unknown fields when deserializing config TOML (#5190)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 67c39e0ea849d7cc6495b0020f8d1d1b9dd3b59d[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Fri Aug 9 00:35:32 2019 +1200

    Fix missed tipb import (#5233)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 6436eae63e37fee10d8421e732474045369a96b5[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Thu Aug 8 15:44:40 2019 +0800

    copr: Refine `EvalContext::handle_overflow` (#5231)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit ce23ede6c50e94d9e6886d36adae54ef283aa277[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Thu Aug 8 17:52:05 2019 +1200

    *: Update Tipb (#5221)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 5f4a59a284c102a6b3f03928c9082cda8c5bed60[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Thu Aug 8 12:10:32 2019 +0800

    test: Fix unstable integration test test_auto_gc (#5212)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 35e800c32d65e364edc2b8570ba0da7363cdb80c[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Aug 7 21:18:46 2019 +0800

    *: move pd to independent crate (#5210)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit 51f61d345c9019e326a70531b4a0456faa0a6549[m
Author: mwish <1506118561@qq.com>
Date:   Wed Aug 7 20:10:47 2019 +0800

    tidb_query: Migrate json_type to RPN Function. (#5224)
    
    * components/tidb_query: Add impl_json.rs in  rpn_expr and migrate json_type from builtin_json.rs to impl_json.rs.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Fix] Remove the unimplemented functions add fix the bug for tests/
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Update] Update impl_json
    - Add header for `impl_json.rs`
    - Move import of EvalContext to mod test of `impl_json.rs`
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Format] Use cargo `fmt` and `clippy` to format the files.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Format] Use clippy and format to Fotmat the impl_json.rs
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit 1637c4e9698d26195e0825d2c831c377558399d9[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Wed Aug 7 16:35:14 2019 +0800

    Change error type produced by duration parser (#5219)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 52dca5af5ed09b5358b8304123ee39a0c1cbc416[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Aug 7 15:20:13 2019 +0800

    cop: Handle requests with multi handle column correctly (#5180)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit ba6029e42729d4a6be029c45dba7f4fde500636c[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Aug 6 20:20:34 2019 -0700

    *: turn on line numbers for dev builds (#5222)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 5dc6d91883983cdf26d493df94a2fbe095268ac8[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Aug 6 20:36:34 2019 +0800

    *: unify using tikv util crate (#5214)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit 078dd23535fa3385a48ec8515af11be4e267ba87[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Aug 6 18:52:49 2019 +0800

    engine: introduce SstWriterBuilder (#5211)
    
    * engine: add SstWriterBuilder
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * engine: builder in-memory sst file writer
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * engine/sst: fill doc
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * fix typo
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * engine: use ok_or_else instead
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * engine: make clippy happy
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 3deaaed40076e794c311b925450248d615ddeac0[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Tue Aug 6 17:26:34 2019 +0800

    Make `codec::Error` more ergonomic (#5216)

[33mcommit 053e232a2b19813f92896f9442854ad4b104d27b[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Aug 6 02:06:08 2019 -0700

    Upgrade rust to nightly-2019-07-19 (#5137)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 1500ea5af94837ab293a66bd9b3391abc76f8c63[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Tue Aug 6 15:10:51 2019 +0800

    Copr: implement `RealDivide` for `RPN` function framework (#5182)
    
    * Allow RPN evaluate util evaluating into scalar value
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Extract divide_by_zero cases
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Add `ReadDivide` to `RPN` framework
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>
    
    * add `DivideReal` mapping to map_pb_sig_to_rpn_func
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 995257ddb1c926cfce638663b66c92809064eedd[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Aug 5 23:42:01 2019 +0800

    *: make pd module more independent (#5189)

[33mcommit e7269029576c0779c7bbf3c4e5be2be5d3fe6ac9[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Mon Aug 5 17:28:11 2019 +0800

    Refine some RPN function test (#5201)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit b9e63b770e876727ee5ac8541d0e6b2f80d9e028[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Aug 5 16:35:09 2019 +0800

    engine: Update rust-rocksdb to improve Titan GC efficiency (#5196)

[33mcommit a7b19cfae2c99ba34b74f8db85fb256fe6e7ffa0[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Mon Aug 5 19:41:22 2019 +1200

    Prost misc (#5191)
    
    * Replace some uses of into_vec with into
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>
    
    * Use `as_accessor` to call FieldTypeAccessor methods
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>
    
    * Use getters and setters for some message types
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>
    
    * Use Prost-friendly types for some enums and oneofs
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 58414daed6e9cd3bebd307a6ec18f80414332f8b[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Aug 5 14:45:16 2019 +0800

    fix STORE_ENGINE_SIZE (#5187)

[33mcommit 3f3a32d53f96dcd4ecf741ac358495317dfe0c15[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Aug 5 13:39:45 2019 +0800

    Fix lost panic info and other logs (#5174)

[33mcommit af77c602ca162550e00d50ff8d7efcec5d7ffce0[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Aug 5 12:49:33 2019 +0800

    fix tikv-ctl region size command (#5194)

[33mcommit 4b0005f8ebfbf730571d71bed723d86ab4b8ebbc[m
Author: disksing <i@disksing.com>
Date:   Mon Aug 5 11:29:21 2019 +0800

    storage: adjust log level (#5184)
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit 217b2b49dc2c695f101e0bd15d8abd2f06002522[m
Author: jiyingtk <1039793452@qq.com>
Date:   Sun Aug 4 12:39:27 2019 +0800

    tikv_util: Collect cpu usages and disk I/O rates of threads (#5144)
    
    * tikv_util: Collect cpu usages and disk I/O rates of threads
    Signed-off-by: jiyingtk <jiyingtk@mail.ustc.edu.cn>

[33mcommit 306da617e05924c9619c04e3da3889659e70672a[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Fri Aug 2 16:55:22 2019 +0800

    raftstore: optimize metrics of the local reader (#5183)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit c76e47ea313ebc19b44e5a423e3855eaf5505fc7[m
Author: Lonng <heng@lonng.org>
Date:   Fri Aug 2 14:28:28 2019 +0800

    coprocessor: add a Convert trait and implement convert to decimal (#5167)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 71a5a77c68e2f9515cdb3f71c71d9006a2a44bd0[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Fri Aug 2 13:54:29 2019 +0800

    Copr: Add `DecimalDivide` to `RPN` expression framework (#5171)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 99a922564face31bdb59b5b38962339f79e0015c[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Fri Aug 2 10:11:34 2019 +0800

    Extract Coprocessor DAG (#5155)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 9768bdee7cd71046e8787351493ce29322f20eba[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Thu Aug 1 18:34:35 2019 +0800

    Add `evaluate_ctx` which returns EvalContext (#5177)

[33mcommit ba9679fa3838971ea231644cb279b682f63bf55f[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Aug 1 16:39:05 2019 +0800

    *: cleanup read flow statistics (#5175)

[33mcommit d74a8a0e71f2f3e19265ef04881197c1ee91c4d4[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Wed Jul 31 22:22:35 2019 -0700

    Info log for cluster bootstrap (#5172)

[33mcommit 1c07818adda89cdcbb9badf59d9de7a2b79c969f[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Aug 1 11:15:35 2019 +0800

    speedup test: test_many_tombstones (#5173)

[33mcommit 959b6dd8475c51d8cbc7318257bfb4e4a4578115[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Thu Aug 1 09:58:50 2019 +0800

    readme: add Docs info with note on migration (#5150)

[33mcommit c1bbc2c472a95bb9e5dda1adcbcc637456e958d8[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Wed Jul 31 16:10:56 2019 +0800

    Arithmetic op with ctx (#5166)
    
    
    * Add `ArithmeticOpWithCtx`
    
    We need an `EvalConfig` to handle `division_by_zero` in some arithmetic
    operation
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 0d07088ff96423089ce6f0316db06abd6d9ae04d[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Wed Jul 31 15:53:43 2019 +0800

    lock_manager: pass `Config` when creates `WaiterManager` and `Detector` (#5162)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 03bb4cc093e61dbf2c0d08420334c04c75eb12ac[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Wed Jul 31 15:18:09 2019 +0800

    Update rust-rocksdb dep (#5164)
    
    All tests passed, auto merged by Bot

[33mcommit 9646206e5bc4ef2096710f4ad635189048af8f03[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jul 31 14:40:39 2019 +0800

    *: move raftkv from storage to server (#5153)
    
    All tests passed, auto merged by Bot

[33mcommit 20193b80a459c4b10ff2a6ec778c92eca792bc09[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Wed Jul 31 13:29:39 2019 +0800

    Adding multiplication arithmetic for `RPN` function framework (#5107)
    
    All tests passed, auto merged by Bot

[33mcommit 5024ad08fc7101ba25f17c46b0264cd27d733bb1[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Wed Jul 31 11:42:06 2019 +0800

    pessimistic-txn: eliminate `CleanUpWaitFor` when waiter timeouts (#5157)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit df55f19279844955f0d93b2ca11a9d0e813f4217[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Wed Jul 31 11:24:01 2019 +0800

    deadlock: remove expire-timer (#5156)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit a672e8015681879f72f84493a08368f21a6e2bfd[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Wed Jul 31 10:46:58 2019 +0800

    Copr: Adding control functions: if_condition::<T> to `RPN` framework (#5154)
    
    * Add if::<T>
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>
    
    * Add NULL cases in test_if
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>
    
    * Pass Option<Int>s as arguments
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 06a4cef248f9b3e049ded1a2e2c690c37b4f2c5b[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Tue Jul 30 10:28:59 2019 -0700

    Make several `INFO` logs `DEBUG` and refined some log messages. (#4768)
    
    * Reduce the levels of several startup related logs.
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * CHANGELOG update
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Reflect some feedback
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Reflect Jay's feedback
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Fix newline, use slow_log
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Fix unsaved merge resolution
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 32a36799d04974ede990be7ac7839b4c1f4a1509[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Tue Jul 30 19:13:15 2019 +0800

    Assign a structure for KeyIsLocked content (#5152)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 4cbf21a9ec6bfacb593ac88c78565c9a0cf8b694[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Jul 30 18:25:57 2019 +0800

    raftstore, apply: catch up logs for merge through raft (#4595)
    
    * catch up logs for merge through raft
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 4551005ae9c70655222e32de20ae005717ab0da9[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Tue Jul 30 16:01:45 2019 +0800

    deadlock: implement lazy expiration of DetectTable (#5108)
    
    * deadlock: implement lazy expiration of DetectTable
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * add `DetectTable::active_expire`
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * enlarge ACTIVE_EXPIRE_INTERVAL
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * dedup stack
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * extract `Locks`
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * add deadlock_detector benchmark
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * remove useless bench
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * remove unused import
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit b1096aad8479a8b0411af3ada3e908cd72283275[m
Author: Lonng <heng@lonng.org>
Date:   Mon Jul 29 21:06:20 2019 +0800

    coprocessor: add a Convert trait and implement convert to f64/string (#5146)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit c93b4eb47c15cc01b2e9bb8435d99a399ce7e841[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Mon Jul 29 14:03:49 2019 +0800

    Relies on the Storage trait instead of tikv::storage (#5143)
    
    All tests passed, auto merged by Bot

[33mcommit 9ac777e70c94ce4cd267f92c1801ed4f8f3e4481[m
Author: Lonng <heng@lonng.org>
Date:   Mon Jul 29 11:23:26 2019 +0800

    coprocessor: use trait to reorganize convert to int/uint functions (#5141)
    
    * coprocessor: use trait to reorganize convert to int/uint functions
    
    Signed-off-by: Lonng <heng@lonng.org>
    
    * address comment
    
    Signed-off-by: Lonng <heng@lonng.org>
    
    * address comment
    
    Signed-off-by: Lonng <heng@lonng.org>
    
    * address comment
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit a21201a30cd5826f845c90a6a13061fe158ea8ba[m
Author: TXXT <hunterlxt@live.com>
Date:   Mon Jul 29 09:14:57 2019 +0800

    enable libressl by default (#5140)
    
    Signed-off-by: Xintao <hunterlxt@live.com>

[33mcommit def2e30e1789a314564f1511f678fab40bfab451[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Fri Jul 26 16:02:25 2019 +0800

    Introduce Coprocessor Storage trait (#5129)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 0b0f81c4af9899f0608494a4324d4cc05e7a60e3[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Thu Jul 25 19:59:13 2019 -0700

    Update rust-rocksdb with build fixes (#5135)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit db10d8119609add3c677798b50b4a76a96a240bb[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Thu Jul 25 15:52:18 2019 +0800

    txn: Fix wrong constraint check when txn is overlapping (#5128)
    
    * txn: Fix wrong constraint check when txn is overlapping
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>
    
    * Address comments
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit bf7de67f912718f38508ba3cac3908186c87c7c8[m
Author: Lonng <heng@lonng.org>
Date:   Thu Jul 25 14:18:33 2019 +0800

     coprocessor: add functions convert * to float (#4998)
    
    * coprocessor: add functions convert * to float
    
    Signed-off-by: Lonng <heng@lonng.org>
    
    * address comment
    
    Signed-off-by: Lonng <heng@lonng.org>
    
    * address comment
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit ec264b6413cea999de0a7f10b7ea213fc1e4d387[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Jul 25 13:29:17 2019 +0800

    *: update dependencies (#5125)
    
    This PR changes the dependencies of kvproto, raft-rs and tipb to master
    branch. And it also upgrade grpcio to the latest alpha version.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit b8b668e9171663d36db7456b09982a1a868259cc[m
Author: FateTHarlaown <623239185@qq.com>
Date:   Thu Jul 25 11:21:24 2019 +0800

    server, storage: Add more details about grpc ResourceExhausted failure (#5126)
    
    Signed-off-by: FateTHarlaown <623239185@qq.com>

[33mcommit 975c57fb9ac09f7e15069c1fb37fd0f5dc6d5e16[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Tue Jul 23 22:16:07 2019 -0700

    Make rocksdb aware of jemalloc (#5117)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 0560f46fb6ea4dd6b086af3d20157f85532ed063[m
Author: mwish <1506118561@qq.com>
Date:   Wed Jul 24 11:43:50 2019 +0800

    cop: Migrate implementation and test for Rpn Function DateForma… (#5097)
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit 91a07bc46e2f81cfa60e738fa8d51926f5638590[m
Author: Wenxuan <breezewish@pingcap.com>
Date:   Wed Jul 24 10:46:25 2019 +0800

    Separate coprocessor statistics interfaces (#5121)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 45d0c9a74582a08c73026fa859827474a8ab96bf[m
Author: kennytm <kennytm@gmail.com>
Date:   Wed Jul 24 09:59:14 2019 +0800

    *: remove the remaining references of tikv-importer (#5123)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 3f2fce9e53649c1a06c452b25fabab82ddd8a74a[m
Author: Lonng <heng@lonng.org>
Date:   Tue Jul 23 18:04:23 2019 +0800

    coprocessor: refine to decimal conversion (#5029)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit ef45cd1a8a9fb45b5d735bd88de4de3707105d09[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Tue Jul 23 19:01:14 2019 +1200

    More changes to ease the tranistion to Prost (#5120)
    
    * Remove use of `print_to_string`
    
    And prefer a method which works with both Prost and rust-protobuf
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>
    
    * Use default instead of new for TiPB messages
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit ffeafa908f33efbbb0c3e3ad865aa628c8ed75e3[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Tue Jul 23 14:55:02 2019 +1200

    Use `into` rather than explicitly using `RepeatedField` (#5112)
    
    This means we can use `Vec`s and be compatible with both rust-protobuf (which
    requires a `RepeatedField`) and Prost (which requires a `Vec`).
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit c759022bd89d5f4f6357bb162dc018df0231ca4c[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Tue Jul 23 10:29:38 2019 +0800

    Rename follower read (#5118)
    
    * *: rename follower read to replica read
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * update Cargo.lock
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 87a08b5e577fbc3b2febd363e400a1190ccfa7d8[m
Author: mahjonp <junpeng.man@gmail.com>
Date:   Mon Jul 22 22:38:36 2019 +0800

    apply: fix compilation errors when running 'make fail_release' (#5115)
    
    Signed-off-by: mahjonp <junpeng.man@gmail.com>

[33mcommit f786a68feabc3c610dcb5964f8b9e032842f4524[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Mon Jul 22 19:35:50 2019 +0800

    coprocessor, storage: Change error, panic, and log outputs from Debug to Display (#5114)
    
    Signed-off-by: spongedc <duchuangucas@live.com>

[33mcommit e6324993f94df73f40decd7182628b7e7a741ce7[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Fri Jul 19 06:38:25 2019 -0700

    storage: Add some more documentation to storage module (#4912)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit aa6dc4482621474fee7b18d1d89613c897e53a11[m
Author: Lonng <heng@lonng.org>
Date:   Fri Jul 19 16:23:23 2019 +0800

    coprocessor: add RPN functions 'cast * as int' (#5099)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 811e7cd7b44dc929ef75c8d413c45e111737d179[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Jul 19 15:49:32 2019 +0800

    return region error when TiKV is closing (#4818)

[33mcommit a7a5faf7f53db7f5777674efd264c6d12ec29987[m
Author: Luca Bruno <lucab@redhat.com>
Date:   Fri Jul 19 01:15:21 2019 +0000

    tests: update to new fail-rs logic (#4903)
    
    * cargo: update fail to 0.3
    
    Signed-off-by: Luca Bruno <luca.bruno@coreos.com>
    
    * lockfile: refresh after cargo changes
    
    Signed-off-by: Luca Bruno <luca.bruno@coreos.com>
    
    * tests: update to new fail-rs logic
    
    This updates codebase, tests and build helpers to use new logic and
    features from latest fail-rs.
    
    Signed-off-by: Luca Bruno <luca.bruno@coreos.com>
    
    * raftstore: fix clippy warnings
    
    This fixes "redundant closure call" warnings, spot by clippy:
    https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_call
    
    Signed-off-by: Luca Bruno <luca.bruno@coreos.com>

[33mcommit 3e18d495aad7ce0e7e2194b72560275c3ef6c8d9[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jul 19 08:56:43 2019 +0800

    node: fix double run node (#5080)
    
    * tests: double start node
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * node: fix double run node
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * tests: adjust node cluster
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit a38131a848c8f9760c7d7b15d15d6be26cbe49ca[m
Author: wjHuang <huangwenjun1997@gmail.com>
Date:   Fri Jul 19 00:34:00 2019 +0800

    conponents: remove wrong testing setting (#5104)
    
    Signed-off-by: wjhuang2016 <huangwenjun1997@gmail.com>

[33mcommit fa92604ae84f05c3f181b663eacf46e9fe42cb0b[m
Author: Lonng <heng@lonng.org>
Date:   Thu Jul 18 16:08:27 2019 +0800

    coprocessor: add `to_numeric_string` method for `Duration`/`Dat… (#5006)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit d4cc009ec6327fe383a7a51edec33b7da761b55f[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Jul 18 15:26:14 2019 +0800

    storage/mvcc/txn: make tiny refactor for `prewrite` (#5100)
    
    * storage/mvcc/txn: make tiny refactor for prewrite
    
    Signed-off-by: shirly <AndreMouche@126.com>
    
    * storage/mvcc/txn: address comments
    
    Signed-off-by: shirly <AndreMouche@126.com>
    
    * storage/mvcc/txn: address comments
    
    Signed-off-by: shirly <AndreMouche@126.com>
    
    * storage/mvcc/txn: address comments
    
    Signed-off-by: shirly <AndreMouche@126.com>
    
    * storage/mvcc/txn: address comments
    
    Signed-off-by: shirly <AndreMouche@126.com>

[33mcommit 73df69c31ed07c7051c686ac2a93da25af6ac32a[m
Author: wjHuang <huangwenjun1997@gmail.com>
Date:   Thu Jul 18 15:10:46 2019 +0800

    server: remove cfg setting which will cause fail in 'make test' (#5102)
    
    Signed-off-by: wjhuang2016 <huangwenjun1997@gmail.com>

[33mcommit f5215d631d3145d824c0d0940cd490ff3f8bbf80[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Thu Jul 18 14:37:28 2019 +1200

    Replace uses of `new` with `default` for protobuf messages (#5105)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit 118f141f69f961e1b0110fa234ffd75c18210dc5[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Wed Jul 17 13:35:48 2019 +0800

    support follower read (#5051)
    
    * raftstore,server: support follower read
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * raftstore: fix condition check of read on replica
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * raftstore: follower read waits for apply index reaches read index
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * add a test of waiting for read index
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * fix test_wait_for_apply_index
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * dec pending reads count after follower handle read index cmd
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * update comments
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * remove unused file
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * fix test_wait_for_apply_index
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * update comments
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * update test_wait_for_apply_index
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * update dependency 'kvproto'
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit fa6e6d3eda27e7580a2c2e5ec88a8895d7b4cafb[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Wed Jul 17 01:09:53 2019 +0800

    docs/reference: add raftstore topic (#4950)
    
    * update latest logo
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * reverse file permission to 644
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * fix logo-too-big issue
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * add raftstore topic
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * address Ana's comment
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * address comments from Jay
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * fix wording
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * Initial-cap Region
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 49987552ae32d07ab73c52b5506300393c265357[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Jul 16 18:04:36 2019 +0800

    bench: Add benchmark for rollback (#4459)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 5a950e6e40c54b0a94c23e19660fd0a181fb9f9e[m
Author: Lonng <heng@lonng.org>
Date:   Tue Jul 16 17:04:05 2019 +0800

    coprocessor: move 'is_unsigned' to 'FieldTypeAccessor' (#5095)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 45f2185cdf018a07bc298e779ded96a64f5fb682[m
Author: Lonng <heng@lonng.org>
Date:   Tue Jul 16 12:24:32 2019 +0800

    coprocessor: extract a utility function 'is_unsigned' (#5093)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit fbffa9d9e94b5e8549d5fe1d53218fc2b8e9aead[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Tue Jul 16 10:07:02 2019 +0800

    update local mode (#5087)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 106eeef333f15d6cd167103681df9f646eb0354f[m
Author: Lonng <heng@lonng.org>
Date:   Mon Jul 15 23:17:59 2019 +0800

    coprocessor: add a util method 'in_union' for RpnFnCallExtra/ScalarFunc (#5090)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 2dd5e16dc63b3c953c40556dd75484e13f6d1d2f[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon Jul 15 21:11:47 2019 +0800

    Remove ScanOn because there is nothing special to do with table key (#5044)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit dda9228403be3313e87724a91129789613ce9333[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Jul 15 17:42:54 2019 +0800

    deadlock: improve the performance of detect (#5079)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit d98bc74352cd7cc6e413c209cb7a86102e726afd[m
Author: Lonng <heng@lonng.org>
Date:   Mon Jul 15 10:16:48 2019 +0800

    coprocessor: refactor convert to uint functions (#4987)

[33mcommit f52cecec2af12227c17891ed3a310d0865dd0172[m
Author: divinerapier <poriter.coco@gmail.com>
Date:   Sat Jul 13 20:06:38 2019 +0800

    Do not panic when failed to write log (#5071)
    
    Signed-off-by: divinerapier <poriter.coco@gmail.com>

[33mcommit eec15cb7a75ed6b8580f3bd70717f8d38e4b1e94[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Sat Jul 13 16:19:42 2019 +0800

    Display error details (#5081)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 50ba025781573a925387a465fc0f2cf1337b2172[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jul 12 21:29:54 2019 +0800

    mvcc/reader:remove reverse_seek_write (#5077)
    
    Signed-off-by: shirly <AndreMouche@126.com>

[33mcommit 0581ccfa366c673a1e2edc8a22f8f5658733e3c5[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Fri Jul 12 19:54:59 2019 +0800

    readme: fix links in readme (#5074)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit c630cd872e5267e86872428b87fa3c21966efc4e[m
Author: zyh-hust <52057862+zyh-hust@users.noreply.github.com>
Date:   Fri Jul 12 14:57:46 2019 +0800

    raftclient: warn instead of  error when send msg failed (#5076)
    
    * zhouyuanhui@pingcap.com
    
    Signed-off-by: zyh-hust <zhouyuanhui@pingcap.com>

[33mcommit 127cfb42423e042f7b2c84e23593bd55131b45c5[m
Author: Shafreeck Sea <shafreeck@users.noreply.github.com>
Date:   Fri Jul 12 14:32:51 2019 +0800

    docs: fix the markdown format (#5065)
    
    * docs: fix the markdown format
    
    Signed-off-by: Shafreeck Sea <shafreeck@gmail.com>
    
    * docs: update the outdated link
    
    Signed-off-by: Shafreeck Sea <shafreeck@gmail.com>

[33mcommit 4f782d4a74487484298c4a8473961bcbfabd9c25[m
Author: Connor <zbk602423539@gmail.com>
Date:   Fri Jul 12 09:22:23 2019 +0800

    count size of blob files in used size (#5060)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 1b8e9f08f0b759edda2a179bf75d85b03bd6a74b[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jul 11 21:44:30 2019 +0800

    update dockerfile (#5017)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit 1b84e5e6b70e3dfe2f71e68540526a124a22cfee[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Thu Jul 11 19:30:29 2019 +0800

    fix test_node_request_snapshot_reject_merge (#5056)
    
    * fix test_node_request_snapshot_reject_merge
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * add some comments to test_node_request_snapshot_reject_merge
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 498e6b7c559641795dcd3c7790e62d703a4e39e9[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Thu Jul 11 02:41:19 2019 -0700

    Update rust-rocksdb (#5043)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit f2ad60a630710f274a6c0cadeaa3eaa267f5b113[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu Jul 11 14:42:30 2019 +0800

    *: Add mimalloc feature to tikv_alloc (#5041)
    
    * Add mimalloc feature to tikv_alloc
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Enable stats feature of mimalloc
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Don't enable stats feature of mimalloc
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit df9a6367cac1893939905f1b7c5731192e37d2b2[m
Author: Lonng <heng@lonng.org>
Date:   Thu Jul 11 12:43:18 2019 +0800

    coprocessor: fix `Duration::parse` while input is empty (#5066)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 1cf0ab988a1470fba538d1bd10202c46591396b1[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Thu Jul 11 11:08:38 2019 +0800

    mvcc/reader: scan versions from u64::max to start_ts in get_txn… (#5062)

[33mcommit 49a4e7b56218251b6be5ddad7a73445b2b6dbc0d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Jul 10 19:03:16 2019 +0800

    *: bump to 4.0 (#5050)
    
    * bump to 4.0
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 1bab28646e88b807b9ec0af594b82d6cd1f37d5a[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Jul 10 16:17:50 2019 +0800

    call _exit instead of exit (#5053)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit c3a8f2152164abe7c2285ee836d087146c7c9422[m
Author: zyh-hust <52057862+zyh-hust@users.noreply.github.com>
Date:   Wed Jul 10 14:09:38 2019 +0800

    raftclient: add test case for server reconnection (#5030)
    
    Signed-off-by: zhouyuanhui <zhouyuanhui@pingcap.com>

[33mcommit d835cdc7cc29cdb43b2472de1c12af9366930e04[m
Author: MWish <1506118561@qq.com>
Date:   Wed Jul 10 11:22:49 2019 +0800

    cop: add IntDivideInt and IntDivideDecimal for rpn_expr (#4983)
    
    * tikv/coprocessor: Add signature for IntDivideInt and IntDevideDecimal, and int coprocessor/dag/rpn_expr.rs add support for eval IntDivideInt and IntDevideDecimal
    
    Support IntDivideInt and IntDevideDecimal in coprocessor.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * tikv/coprocessor: Using git 'diff' and 'apply' to resturct files.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * tikv/coprocessor: add structure for the IntDivideInt expr
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * tikv/coprocessor: add implement for Uint  in IntDivideInt
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [add] tikv/coprocessor/codec/mysql/decimal: Add impl<'a, 'b>  Div<&'a Decimal> for Decimal
    
    [update] tikv/coprocessor/dag/rpn_expr: migrate to using Div for &Decimal
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Fix] tikv/coprocessor/dag/rpn_expr: in impl_arithmetic add check for divide by zero and change the test case for them.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * [Update] tikv/coprocessor: change the Decimal div functions to take borrow rather than taking the ownership
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * tikv/coprocessor:
    - Using `From<i64>`to simplify the code in impl_arithmetic
    - Add TODO for changing division_by_zero
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * tikv:
    - Migrate using Div<Decimal> to Div<&'a Decimal>
    
    tikv/coprocessor:
    - change default division_by_zero error to None
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * tikv/coprocessor: Migrate rpn_expr `int_divide_decimal` to rpn function, and use EvalContext to handle division_by_zero.
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * tikv/coprocessor:
    - change int_divide_decimal to return Result<Option<Int>>
    - move overflow into the match expression
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * tikv/coprocessor: Update test for divide
    - Add tests for divide overflow
    - Patch tests for unsigned data
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * tikv/coprocessor: prettify tests and change string literal to Option<f64> in `test_int_divide_decimal`
    
    Signed-off-by: mapleFU <1506118561@qq.com>
    
    * tikv/coprocessor: Remove unnecessary is_err in test_int_divide_decimal and test_int_divide_int
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit 8a2bee8c0d9ed70e70b7ea5419cc715009e1c659[m
Author: Pratyush Singhal <psinghal20@gmail.com>
Date:   Wed Jul 10 05:51:44 2019 +0530

    replace hashbrown with std hashmap implementation (#5010)
    
    * refactor: replace hashbrown with std hashmap implementation
    
    Signed-off-by: Pratyush singhal <psinghal20@gmail.com>

[33mcommit f94b8d02273dc17f6e1b3fa7ce2e2d757e831b00[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Jul 9 13:12:22 2019 +0800

    engine: add titan metrics (#4772)
    
    * add titan metrics
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit a7ccad33b4cb93793e5f0ff6dbb8187f1bec5bba[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Tue Jul 9 15:13:08 2019 +1200

    Relax the protobuf dependency constraint (#5046)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit e424e177d5ba83ef16a9d512d732690fa15fe1ca[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Jul 8 22:58:18 2019 +0800

    Support RPN function validator (#5033)
    
    * Support CASE_WHEN
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Add some helps for varg and raw_varg
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Support validator function
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Address comments
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Fix naming
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Change to extra_validator
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Remove unused clippy rule
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 09de060dfd1de7e1c910c58227a0b41086033168[m
Author: kennytm <kennytm@gmail.com>
Date:   Mon Jul 8 12:16:45 2019 +0800

    *: remove tikv-importer (#5036)
    
    The KV importer service has been extracted into the tikv/importer
    repository. Only the SST importer service needs to remain here. All code
    related to the KV importer has been removed here.
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 9892dd44a5615afc9946e385bf3d11074f373f0f[m
Author: Lonng <heng@lonng.org>
Date:   Mon Jul 8 10:12:36 2019 +0800

    raftstore/store: remove unnecessary clone (#5039)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit eeaf0617385d6019173abf5fa1cc96b1392d7b7e[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Jul 8 09:12:18 2019 +0800

    add `skip-paranoid-checks` flag for tikv-ctl (#4819)
    
    * add `skip-paranoid-checks` flag for tikv-ctl
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 33a1aca1f04b8a87e4e47fdb3756a82c4cf28fad[m
Author: Feng Liyuan <darktemplar.f@gmail.com>
Date:   Sat Jul 6 20:37:17 2019 +0800

    Update README and fix dead link. (#5035)
    
    Signed-off-by: Feng Liyuan <darktemplar.f@gmail.com>

[33mcommit cd15357d4dc1e47d6ca60e9c282dc29f1022401c[m
Author: Lonng <heng@lonng.org>
Date:   Sat Jul 6 15:27:15 2019 +0800

    raftstore/store: fix duplicated plus assign (#5038)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit acc299271b4f0f2e0ea7bef7aed5e3e84f38b8e1[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Jul 5 17:55:50 2019 +0800

    cop: Support CASE_WHEN (#5020)
    
    * Support CASE_WHEN
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Add some helps for varg and raw_varg
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Fix bug according to comments
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 65c5f8c4a6eee83a2311f2217f9826ed30c8f6be[m
Author: Lonng <heng@lonng.org>
Date:   Fri Jul 5 17:41:31 2019 +0800

    coprocessor: refine the 'convert_*_to_int' functions (#4962)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit cd071db42125c428cb85284d637b3a1e23c085ba[m
Author: Xiaoguang Sun <sunxiaoguang@users.noreply.github.com>
Date:   Fri Jul 5 15:11:34 2019 +0800

    Check max required open files for titan (#5026)
    
    * Check max required open files for titan
    
    Signed-off-by: Xiaoguang Sun <sunxiaoguang@zhihu.com>
    
    * Add comment to new change
    
    Signed-off-by: Xiaoguang Sun <sunxiaoguang@zhihu.com>

[33mcommit 20c31c0c733c7ad87eb6e960fbd5b31c64d59b34[m
Author: Shafreeck Sea <shafreeck@users.noreply.github.com>
Date:   Fri Jul 5 10:35:11 2019 +0800

    fix(scripts): disassemble using objdump with addresses (#4934)
    
    Signed-off-by: Shafreeck Sea <shafreeck@gmail.com>

[33mcommit c1223f2be0651b5fbb4a96ced8eb52ee4091d9da[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Fri Jul 5 09:52:25 2019 +0800

    cop: RPN function IN() (#5016)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 41086a9b7cbe8d35ee7339ddfe2dcc09b686ba56[m
Author: MWish <1506118561@qq.com>
Date:   Fri Jul 5 00:06:20 2019 +0800

    cop: add rpn function ABS (#4982)
    
    Signed-off-by: mapleFU <1506118561@qq.com>

[33mcommit 48b2d90bcb07ce39a057a3dfed68aec7401ac2c7[m
Author: Pratyush Singhal <psinghal20@gmail.com>
Date:   Thu Jul 4 19:13:49 2019 +0530

    .github: add labels in issue templates (#5019)
    
    Signed-off-by: Pratyush singhal <psinghal20@gmail.com>

[33mcommit 01dfefdbfef643e21aa4c2291ec7c060aa6388d6[m
Author: qupeng <qupeng@pingcap.com>
Date:   Thu Jul 4 18:25:26 2019 +0800

    server: remove the limit about received message size (#4992)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit e17843a7a498c94a1db64b2831c911c46de00359[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jul 4 17:36:18 2019 +0800

    raftstore: support request snapshot on leader's side (#4926)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit eb9f27ac26f03b84146df77d674c6d70912848b3[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Jul 3 19:33:02 2019 -0700

    Split release/dist_release makefile rules in two, reorganize and document makefiles (#4996)
    
    * make: make dist_ rules call dist_rules
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 153c2f34b05e92770b0a13f95e7e730e676a863b[m
Author: Jacob Lerche <jacob.lerche@gmail.com>
Date:   Wed Jul 3 11:21:52 2019 -0700

    Adds /config endpoint to status server that returns the tikv config (#4997)
    
    * Adds /config endpoint to status server that returns the tikv config
    
    Signed-off-by: Jacob Lerche <jacob.lerche@gmail.com>
    
    * Removes commented out code
    
    Signed-off-by: Jacob Lerche <jacob.lerche@gmail.com>
    
    * rustfmt pass and rebase
    
    Signed-off-by: Jacob Lerche <jacob.lerche@gmail.com>
    
    * Make CI pass
    
    Signed-off-by: Jacob Lerche <jacob.lerche@gmail.com>

[33mcommit 7ba293dabaa31e4985f972e61764298cc532dca0[m
Author: qupeng <qupeng@pingcap.com>
Date:   Wed Jul 3 19:54:27 2019 +0800

    service: handle BatchCommandsEmptyRequest (#5001)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 1853b953a2b70c940fa161db9464d54de62f3598[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Wed Jul 3 17:49:25 2019 +0800

    cop: Support variable number of arguments (#5007)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 6a812685540724c422c729566a843516b34e5a4b[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Wed Jul 3 16:51:45 2019 +0800

    Reduce the size of `Duration` to 8 bytes (#4858)
    
    * Add TryFrom<Duration> for Decimal
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit 0d916aa6c6b774346e8b1a766162d69e60e56d22[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Jul 3 14:51:57 2019 +0800

    engine: add titan key only option (#4966)
    
    * add titan key only option
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 0c15f9106bf74fa3d17ec5dfe06519fbee31fa86[m
Author: Lonng <heng@lonng.org>
Date:   Wed Jul 3 07:49:51 2019 +0800

    CONTRIBUTING: add API guidelines link and update the style guid… (#4785)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 69eaf88e16c207cf9dfbd74d8d9b85040a6632fa[m
Author: Xiaoguang Sun <sunxiaoguang@users.noreply.github.com>
Date:   Tue Jul 2 10:28:07 2019 +0800

    Ignore not found error when rotating log file (#4971)
    
    * Ignore not found error when rotating log file
    
    Do not return not found error when log file was deleted before rotate.
    
    Signed-off-by: Xiaoguang Sun <sunxiaoguang@zhihu.com>
    
    * Add failpoint to log file rotating
    
    Signed-off-by: Xiaoguang Sun <sunxiaoguang@zhihu.com>

[33mcommit a0f8be8bb646c972ab736b2fe5f0a2863a434068[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Sun Jun 30 18:01:58 2019 -0700

    Set blob_run_mode=ReadOnly for non-default CFs (#4991)
    
    * Set blob_run_mode=read_only for non-default CFs
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 65d3e758bea7f81879ca23290574babac5614f15[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Sat Jun 29 15:08:44 2019 +0800

    Fix some bugs in date time processing (#4918)
    
    * Fix a couple of bugs in date time processing
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Address comments
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Use push_str where possible
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 760a4778978e75f5c381479dfc5aac439d358455[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Sat Jun 29 07:02:26 2019 +0800

    *: Fix multiple double panic on drop with the added safe_panic macro (#4552)
    
    * *: Fix multiple double panic on drop with the added safe_panic macro
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Improve doc for safe_panic macro
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 7ee989c7b659d4e7d00b256b6607ebceb30eecda[m
Author: Xiaoguang Sun <sunxiaoguang@users.noreply.github.com>
Date:   Fri Jun 28 20:15:05 2019 +0800

    Fix a typo in comment (#4993)
    
    Signed-off-by: Xiaoguang Sun <sunxiaoguang@zhihu.com>

[33mcommit eff99489e2480e5ff2dfcfa97f319f5aaa2bdc31[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Fri Jun 28 11:13:56 2019 +0800

    docs/how-to, reference: update Region Merge (#4958)
    
    * update latest logo
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * reverse file permission to 644
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * fix logo-too-big issue
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * add topics for Region Merge
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * fix typos
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * address comments from Ana and Bokang
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * update wording
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit a80e7b90b699835ca25dd55fafde36d80e967ebe[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Fri Jun 28 00:33:12 2019 +0800

    docs/reference: update doc for PD Region Meta-Storage (#4953)
    
    * add PD Region Meta-Storage topic
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit caaa0fb6942d53b9033eb19ba3d394c751fc4aa0[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Thu Jun 27 23:25:53 2019 +0800

    docs/reference, how-to: add store limit topics (#4970)
    
    * update latest logo
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * reverse file permission to 644
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * fix logo-too-big issue
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * add and update store limit topics
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * address comments from Ana
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * add sample usages
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * update description of `stores show limit`
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * fix format
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 0446db8cf4347a0c5d5c4169fff780d7167260a1[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Thu Jun 27 18:20:11 2019 +0800

    cop: Only debug output when batch execution cannot be utilized (#4985)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 92cf4709fd3fb060dd0ea3fc0f2a141c003e7843[m
Author: uvd <386180127@qq.com>
Date:   Thu Jun 27 09:51:14 2019 +0800

    replace tempdir with tempfile 3.0 (#4978)
    
    Signed-off-by: wsc <386180127@qq.com>

[33mcommit 92e0e741ed2633eaaf835952dd45778e88db9131[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Wed Jun 26 02:32:02 2019 -0700

    Inform the README we are now incubating (#4975)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 2fbc3d3bdc944ad00da79db552712705716ecba2[m
Author: Lonng <heng@lonng.org>
Date:   Wed Jun 26 15:25:58 2019 +0800

    raftstore: move duplicated code into exists macro (#4955)

[33mcommit 5756d9ea2c643df3734abf2b383856c1ad832833[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Wed Jun 26 14:27:16 2019 +0800

    Refine deadlock (#4932)
    
    * deadlock: remove get_wait_for_entries
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * deadlock: added Task::Initialize to prevent detect requests dropped.
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * deadlock: added monitor_membership_change duration metric
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * deadlock: check leadership in detect_rpc
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * remove Client::get_wait_for_entries
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * remove Task::Initialize
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 825c6cf544133a374ae5950c448ca42c55ec089f[m
Author: uvd <386180127@qq.com>
Date:   Wed Jun 26 13:27:44 2019 +0800

    update lazy_static to 1.3 (#4977)
    
    Signed-off-by: wsc <386180127@qq.com>

[33mcommit cc66a631b00f6c5bc47bf3bb0079b4d33371b079[m
Author: uvd <386180127@qq.com>
Date:   Wed Jun 26 11:56:38 2019 +0800

    update hashbrown 0.1 to 0.5 (#4972)
    
    Signed-off-by: wsc <386180127@qq.com>

[33mcommit 445ec02a15b2b589c698c13f85641444375a19e8[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Tue Jun 25 23:36:34 2019 +0800

    readme: update links in readme (#4938)
    
    * update latest logo
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * reverse file permission to 644
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * fix logo-too-big issue
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * update links in readme and add missing file
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * update some incorrect info
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * update clients info
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit f944f867754047bb872fe27fb16a9ee52747ecd1[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon Jun 24 16:00:54 2019 +0800

    Add some coprocessor metrics (#4959)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit f342209512c07ca3135024828e60bbeae69706d7[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon Jun 24 14:31:28 2019 +0800

    Hex output most keys (#4921)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 576948a531198271595a4892ea4f35270ac66c61[m
Author: Lonng <heng@lonng.org>
Date:   Mon Jun 24 14:02:38 2019 +0800

    coprocessor: parse expression 'val' while expression is ScalarFunction (#4890)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit d81cd5451de23e18dc0728c99e199fb8fd86bfbd[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Sun Jun 23 23:54:23 2019 +0800

    docs/how-to: update doc for titan (#4933)
    
    docs/how-to: update doc for titan
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit edb3d9c505ed0719e8d2f9d446a44f552048b286[m
Author: Lonng <heng@lonng.org>
Date:   Fri Jun 21 16:01:11 2019 +0800

    cop_codegen: replace 'parse + unwrap' with 'quote!' (#4948)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit b2c237470a306f3b272596803e7ec2b89a2db69e[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Fri Jun 21 14:24:58 2019 +0800

    fix config syntax (#4947)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 73fa6af2eb36dbd99088da73f13dd5babe95b1f8[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Thu Jun 20 21:19:52 2019 +0800

    Fix a failed test (#4945)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit c69229e7413370f91b995a3ad089cf646c77885d[m
Author: qupeng <qupeng@pingcap.com>
Date:   Thu Jun 20 11:54:42 2019 +0800

    fix a tiny bug about tikv-ctl mvcc subcommand (#4910)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 4cbacb92e2a09ac182dbff856095444df727df8c[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu Jun 20 09:10:43 2019 +0800

    copr: change the whole project to use the new RPN function framework (#4861)
    
    * Add new RPN function framework demo
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Add new rpn_fn macro to avoid boilerplate
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Remove old RPN function framework and remove all Box of RPN functions
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Add docs to function.rs
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Remove old RPN function framework and remove all Box of RPN functions
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Address comments
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Address comments
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Add docs for customizing function evaluation
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Address comments
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Reject lifetime definition
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Update rpn_fn macro to adapt lazy materialization
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Give ignore hint to rpn_fn macro docs
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Use reference of RpnFnCallPayload
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Fix wrong source code path
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    Co-Authored-By: Lonng <heng@lonng.org>
    
    * Add more inline hints to rpn functions
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Bench after
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Add bench for very few lines
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Remove useless trait bounds
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Fix unused import
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Add profile and some black_box
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * fix black_box move
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Black_box more
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Rename RpnFn to RpnFnMeta
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 7d500d5f6593c2903629bc26ce9050fd7fd12e8d[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Wed Jun 19 19:24:57 2019 +0800

    docs: reorg documentation structure for 3.0 updates (#4929)
    
    * update latest logo
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * reverse file permission to 644
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * fix logo-too-big issue
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * re-org TiKV documentation structure for 3.0 updates
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * Update docs/how-to/deploy/using-ansible.md
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * move original docs to V2.1 as backup
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit fa4131b807589c8f1d96cb9661823165252e4b1c[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Jun 19 15:06:37 2019 +0800

    sanitize block size (#4920)

[33mcommit 1f944ab0817ff668d18e4ff5033994894444f1f2[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Jun 19 14:36:08 2019 +0800

    Support replicating delete_range request but do not delete data when applying (#4490)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 60b8b753bb333790f9b0191dab991cb4e27f1a6f[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Jun 18 20:22:19 2019 -0700

    scripts: Skip sse4.2 check when not enabled (#4919)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 5f82408c3190cc71c59b78a936737b3cb6ef84f0[m
Author: Fuyang Liu <liufuyang@users.noreply.github.com>
Date:   Wed Jun 19 03:50:05 2019 +0200

    Add http failpoints on status_server (#4444)
    
    * Add http failpoints on status_server
    
    Signed-off-by: Fuyang Liu <liufuyang@users.noreply.github.com>

[33mcommit 1b11c260d702c60410ef22ec02bb49ae92fa3eed[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Jun 18 22:48:57 2019 +0800

    Some refinement to resolver's code (#4914)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 10daf189b9e36c14adceb22e80e6dc99ee7c7f33[m
Author: summer-slow-grace <50026909+summer-slow-grace@users.noreply.github.com>
Date:   Tue Jun 18 19:47:14 2019 +0800

    implement add_time_string_null (#4855)
    
    Signed-off-by: summer-slow-grace <xiaran_2018@163.com>

[33mcommit 22b39e2770588262786888297762480229b0a389[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Tue Jun 18 17:21:45 2019 +0800

    copr: introduce rpn_fn macro to generate RPN function code under the new framework (#4860)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 82de1403905cb12ed988d85fa8da2ab99fb0adde[m
Author: Shafreeck Sea <shafreeck@users.noreply.github.com>
Date:   Tue Jun 18 16:19:33 2019 +0800

    feat(scripts): check sse4.2 with objdump (#4915)
    
    The original way to check if sse4.2 is enabled is to load the binary
    with gdb and then disassemble the symbol, this is slow because gdb is
    a dynamic debugger. Replace gdb with objdump which analysis the static
    code.It is 25x faster than using gdb.
    
    Another reason to replace gdb is that some version of gdb can not
    recognize the symbol correctly.
    
    Signed-off-by: Shafreeck Sea <shafreeck@gmail.com>

[33mcommit 9b5b7248ca7287d40af498dd65d3d7b88b11b927[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Tue Jun 18 13:39:30 2019 +0800

    coprocessor: RPN function IfNull (#4911)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 82cbf8a0a173b02ba2756d5e5a3a18d548c25f1c[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Mon Jun 17 20:08:17 2019 -0700

    Upgrade rust toolchain and turn on cargo pipelining (#4913)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 81db652a7d62d875f56e5009b3875874ccc48651[m
Author: 夕 <xi@whatsoo.org>
Date:   Tue Jun 18 02:19:56 2019 +0800

    Update CONTRIBUTING.md (#4694)
    
    Signed-off-by: xi <xi@whatsoo.org>

[33mcommit e8edde4a2f6434b2a2dd419ccd39d681ce71353e[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon Jun 17 21:56:28 2019 +0800

    No dynamic allocation in Decimal (#4909)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit fbfacbfa49104f40417f2a0294ce63c66dd63ee2[m
Author: qupeng <qupeng@pingcap.com>
Date:   Mon Jun 17 19:58:50 2019 +0800

    add 2 metrics. (#4830)

[33mcommit b2b1b81a1d84cdc9aa614cdc4f99cdf51148bf92[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon Jun 17 18:07:15 2019 +0800

    coprocessor: Very late materialization (#4885)
    
    * Implement very late materialization
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * No longer preserve capacity after clone
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Use zip to make code simpler
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Remove outdated comments
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit f8bd13badd5f158b42b73425672ddf07b0e5e434[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Jun 17 16:51:25 2019 +0800

    raftstore: generate snapshot after applying the current commit idx (#4876)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit db7be9cfb8890ccdd705896b9d2304eef65d4e15[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jun 17 14:27:02 2019 +0800

    build: support ARM64 (#4899)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit 5f98f5df58f387fdc5c5f36ab41babcff66d24fb[m
Author: Michael-Xia <xiamengyu@hotmail.com>
Date:   Fri Jun 14 22:26:44 2019 +0800

    Dockerfile use the Makefile to build tikv (#4873)
    
    * Dockerfile use the Makefile to build tikv (#4845)
    
    Signed-off-by: xiamengyu <xiamengyu@hotmail.com>

[33mcommit 8001ee0e5a5a38ed0eb3d10f2282f82f820a936e[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Thu Jun 13 13:13:12 2019 -0700

    Turn off debuginfo for dev, test, bench; turn on thinLTO for bench (#4689)
    
    * Makefile: fix x-bench and x-test
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * run-cargo.sh: use --no-default-features
    
    As in the Makefile
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * Cargo.toml: add the full set of profile options
    
    Makes it clear exactly what our settings are. These are the
    values documented for the current stable compiler.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * Cargo.toml: set lto=thin for profile.bench
    
    Benchmarking without any LTO seems pretty bogus. This will
    make compile time for `cargo bench` worse.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * Cargo.toml: turn off debuginfo for all profiles except release
    
    This should be the single biggest compile time savings.
    It is not disabled for the release build yet but will be once
    the Jenkins release builders are modified to use a different profile.
    
    For now README.md mentions how to turn on debuginfo, but I will
    move that to the developer's guide once _that_ exists.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * etc: turn off incremental for dev-opt profile
    
    Per discussion with jay we'll leave incremental off of the release
    profile.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * Cargo.toml: set debug=1 for test profile
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * README: fix -Cdebuginfo usage
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * README: spelling
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 8d69c7a94e282d26c46a7cc5bf4fe9ac8e22cb15[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Thu Jun 13 17:24:13 2019 +0800

    pessimistic-txn: resolve all optimistic locks when non-pessimistic lock conflict occurs (#4883)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit b81a02de3fbc34157e82c85be4abde90d93f65b8[m
Author: 曹维杰 <jswh@jswh.me>
Date:   Thu Jun 13 14:35:46 2019 +0800

    do the has_pk_handle check before type check (#4788)
    
    Signed-off-by: jswh <jswh@jswh.me>

[33mcommit 720ce9ab9f2b32d74f05a5cfbafe7a4bc4568ada[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Jun 12 19:17:11 2019 +0800

    scheduler: write command should acquire write lock (#4614)

[33mcommit 31e92d65337feca44c13f0173f4a69c44decae76[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Jun 12 18:45:50 2019 +0800

    storage/gc_worker: Add more metrics (#4705)
    
    * Add more metrics about GC
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>
    
    * Address comments
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>
    
    * Address comments
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>
    
    * Remove redundant metrics updating
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>
    
    * Address comments
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 49fac6607df55a8b3c7e636d45f7446f5956f811[m
Author: Kaige Ye <ye@kaige.org>
Date:   Wed Jun 12 17:23:51 2019 +0800

    Docs: add error hint for golang lint (#4868)
    
    Signed-off-by: Kaige Ye <ye@kaige.org>

[33mcommit 0af7a0aab09eca1dbce7d015a5f7b4420b278418[m
Author: Xinye Tao <xy.tao@outlook.com>
Date:   Wed Jun 12 03:24:13 2019 -0500

    Add blob-run-mode for titan (#4865)
    
    * add blob-run-mode for titan
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * address comment
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * fix config test
    
    Signed-off-by: tabokie <xy.tao@outlook.com>

[33mcommit 242a6f3341543ea592ec3429c9d712b56e5aa069[m
Author: qupeng <qupeng@pingcap.com>
Date:   Wed Jun 12 15:55:46 2019 +0800

    improve bad-regions and tombstone subcommands for tikv-ctl (#4862)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit bde010b0b8e205d910e086c5ae3bff39f2e63200[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Jun 12 15:32:26 2019 +0800

    use static metric to reduce the cost of `with_label_values` in scheduler (#4826)
    
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 27de571714cbdf2e8ecfe29da9d0d2f46eec3e74[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Jun 12 12:05:41 2019 +0800

    engine: check iter status when scanning (#4863)
    
    * check iter status when scanning
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 04ad0d7c23e656e1914603b0ff860f6fc59b14c8[m
Author: Xinye Tao <xy.tao@outlook.com>
Date:   Tue Jun 11 22:09:09 2019 -0500

    metrics: add titan metrics (#4836)
    
    * Add titan blob-related metrics
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * fmt
    
    Signed-off-by: tabokie <xy.tao@outlook.com>
    
    * reset cargo
    
    Signed-off-by: tabokie <xy.tao@outlook.com>

[33mcommit bd197bb5113278b2c67003dbc885274045fb5232[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Tue Jun 11 19:11:36 2019 +0800

    coprocessor: reduce allocations in slow hash aggregation (#4869)
    
    * Reduce allocations in slow-hash/stream aggregation
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Address comments
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Remove useless vec
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>
    
    * Rename eval_unchecked to eval_decoded
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 892c12039e0213989940d29c232bddee9cbe4686[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Tue Jun 11 11:53:20 2019 +0800

    Implement RpnFunction LIKE (#4847)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 49c56e8ab857f8b6ad7f98fec03cf53d8a38e56a[m
Author: qupeng <qupeng@pingcap.com>
Date:   Tue Jun 11 11:08:41 2019 +0800

    extract build/apply functions about snapshot (#4567)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 28e5358f0cfcb25f68be6f1f11e4467ac662781d[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Tue Jun 11 10:27:16 2019 +0800

    pessimistic-txn: implement pessimistic rollback (#4848)

[33mcommit 9e0218d78b5d54a5063aca3c8f24dfe5ea89fe82[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Jun 10 19:01:02 2019 +0800

    pessimistic-txn: add metrics (#4852)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit de35885778f56a190e32806265d559a772711ad5[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Jun 10 18:46:44 2019 +0800

    txn: avoid useless calculation and wake-up msgs (#4813)
    
    * pessimistic-txn: avoid useless wake-up msgs if wait talbe is empty
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * bugfix
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * fix conflict
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * fix data race
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * fix test
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * bugfix
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 568d4c1b1d9d76ca0ea20f0bbb04f49a06b7f87c[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon Jun 10 14:20:25 2019 +0800

    txn: expire long remaining detect info in detect table to prevent memory leak (#4754)

[33mcommit 0db6cff3caae3e2342907847784d8a7282e749cf[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Jun 10 09:43:23 2019 +0800

    scheduler use spin::Mutex (#4829)
    
    * scheduler use spinlock
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit a3071621693f59228dc446c3e7ef50e8cfef606c[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sun Jun 9 08:43:37 2019 +0800

    shrink the latch waiting list (#4844)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit f688d55890817a1327cdac910ce242c517ab9c57[m
Author: Yukang <moorekang@gmail.com>
Date:   Sat Jun 8 02:36:55 2019 -0400

    fix broken url for configuration options (#4856)
    
    Signed-off-by: Yukang <moorekang@gmail.com>

[33mcommit 9c923b8e1b47e6216705272eb0c28ce23d3e8968[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Fri Jun 7 23:35:14 2019 +0800

    coprocessor: use servo_arc in BatchTopNExecutor (#4854)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit b7430133e4eb4711476f9792b7f301f475465227[m
Author: YangKeao <keao.yang@yahoo.com>
Date:   Fri Jun 7 08:25:38 2019 +0800

    use HTTP to enable jemalloc profile (#4600)
    
    use HTTP to enable jemalloc profile
    
    Signed-off-by: Yang Keao <keao.yang@yahoo.com>

[33mcommit 41054dbb6ff555c07ac4167e8aa01aa24f1d67ea[m
Author: Ben "Pig" Chu <benpichu@gmail.com>
Date:   Thu Jun 6 22:32:56 2019 +0800

    Add missing fsync calls in the snapshot module (#4850)
    
    Signed-off-by: Ben Pig Chu <benpichu@gmail.com>

[33mcommit 7f9281b6e46012bc852c74d3828b33c8bd3281b6[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Thu Jun 6 21:18:35 2019 +0800

    Implement RpnFunction MultiplyDecimal (#4849)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 62da55bf4529f22b5dada50f396af1f31b1a86d9[m
Author: Lonng <heng@lonng.org>
Date:   Thu Jun 6 19:04:27 2019 +0800

    coprocessor: add batch aggregate function Max/Min (#4837)

[33mcommit c5f0f02ee0e63cd163894b556026240eb64f09ab[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Jun 6 15:25:10 2019 +0800

    Batch Top N Layered Benchmarks (#4827)
    
    * Add Top N benchmarks
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Address some comments in previous PRs
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit fc838a2ffcc736e2e93a2fdb96ec19e0dbc2e63f[m
Author: Lonng <heng@lonng.org>
Date:   Thu Jun 6 14:21:34 2019 +0800

    coprocessor: add batch aggregate function BitAnd/BitOr/BitXor (#4824)

[33mcommit ae73f6cbd205a3bffcd04082557457b14bf40037[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Thu Jun 6 13:42:53 2019 +0800

    pessimistic-txn: solve non-pessimistic-lock conflict (#4801)
    
    * txn: replace is_pessimistic_lock to for_update_ts in Lock
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * pessimistic-txn: overwrite optimistic lock in pessimistic_prewrite if
    request's for_update_ts is greater than lock's for_update_ts
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * modify comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * add comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * return Error let TiDB to resolve lock
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit d13ed34179f611d02391d1889a7e793e42e09a37[m
Author: Kaige Ye <ye@kaige.org>
Date:   Thu Jun 6 11:48:58 2019 +0800

    Makefile: fix gdb check (#4840)
    
    Signed-off-by: Kaige Ye <ye@kaige.org>

[33mcommit acf4584b64fc3b2791169fa0935fb9f2068a0eb8[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Jun 5 19:23:46 2019 -0700

    Modify Makefile to distinguish between developer and packaging use cases (#4687)
    
    * make: Add new "dist_release" rules
    
    To make the optimized build faster the existing "release" rules are going to
    changed such that they are not identical to the actual releases. Primarily they
    will not have debuginfo by default and will use thinLTO instead of LTO.
    
    This adds new "dist_release", etc rules for the CI/CD system to use.
    
    For now they are identical to the existing rules. After CI is updated
    the "release" rules will be changed.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * make: Document release rules
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * Makefile: indicate use of fail_release
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * Clarify the distinction in instruction set for release targets
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 601c0651bbc56c0f1db8710cd6dbae4ba7552c87[m
Author: Zha <44440637+hhhowyou@users.noreply.github.com>
Date:   Thu Jun 6 05:06:18 2019 +0800

    Add help message in doc:go-client-api.md (#4763)
    
    * add help message in doc:go-client-api.md
    
    Signed-off-by: yy <cacheyy@qq.com>
    
    * update go-client-api.md
    
    Signed-off-by: yy <cacheyy@qq.com>

[33mcommit 7d3472ee9df92d2c51bf250c9adda14cbbcf8699[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Wed Jun 5 14:51:02 2019 +0800

    Batch Top N Executor (#4825)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 9a14c49b33da9bfd229c88885647095893d17597[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Jun 4 10:55:35 2019 -0500

    Upgrade sys-info (#4760)
    
    * *: upgrade sys-info crate
    
    This fixes a problem with the next toolchain upgrade
    where rust fails to link the native components of the crate.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * *: bump sys-info to 0.5.7
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 487364f398fe97d7704145635a0068da9c5e45ce[m
Author: Kaige Ye <yekaige2010@gmail.com>
Date:   Tue Jun 4 22:31:49 2019 +0800

    Makefile: make sure gdb is installed before sse4.2 check (#4832)
    
    Signed-off-by: Kaige Ye <ye@kaige.org>

[33mcommit 3458a0eb46fae8a7f37dca86f4ae07c7911238a8[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon Jun 3 16:56:07 2019 +0800

    coprocessor: RPN function UnaryNot (#4808)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 586548642a0929006ace9cba6e37141232748495[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri May 31 14:17:20 2019 +0800

    raftstore: clear stale reads after role change (#4810)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 420c6dc4094988e40ce508075c1837a239c834c8[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri May 31 14:03:17 2019 +0800

    reuse monotonic-raw-now for each round in raftstore (#4798)

[33mcommit 920852585cff090892fd859691eb04713596e5e8[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Thu May 30 16:17:01 2019 +0800

    Coprocessor: Support SUM() (#4797)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 72026247c4339e05c4706ac53fda6be573394acb[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Thu May 30 15:47:54 2019 +0800

    Refine coprocessor benchmarks (#4501)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 13460e3c3c2e6d3dd49eebe1cd4c644249346063[m
Author: qupeng <qupeng@pingcap.com>
Date:   Thu May 30 15:10:37 2019 +0800

    raftstore: sync all cf files of received snapshots (#4807)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 85bb786ea4f4ee66db04f4bb252d590dcf804d7d[m
Author: kennytm <kennytm@gmail.com>
Date:   Thu May 30 10:30:53 2019 +0800

    GOVERNANCE.md: fix the release version number check (#4803)
    
    The VERSION file is relevant for Envoy (where this document is based on).
    Such file does not exist for TiKV, and the version is recorded in
    Cargo.toml. Updated the instruction to refer to Cargo.toml not VERSION.
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 5f333c960d3b7d07e1664367725000a22cd60355[m
Author: Stefano Probst <senden9@gmail.com>
Date:   Wed May 29 18:19:17 2019 +0200

    Fix typo in readme (#4795)
    
    Signed-off-by: Stefano Probst <senden9@gmail.com>

[33mcommit 6132a4ee18cb88135bcdc1d625d5003f0e2cdb37[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed May 29 23:20:55 2019 +0800

    apply: flush apply state before taking snapshot (#4723)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 1b9bdc48c8600cfff5d1ab2a77b19c64ad42894f[m
Author: qupeng <qupeng@pingcap.com>
Date:   Wed May 29 19:51:14 2019 +0800

    more check about transferring leader during configuration change (#4799)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit c77669579317812bd84143100ebb16039b8d5ce3[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Wed May 29 18:15:57 2019 +0800

    coprocessor: Refine LazyBatchColumn to use BufferVec (#4796)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 3a53feded3262f34d31599d65ba57fe1988c5680[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Wed May 29 17:57:52 2019 +0800

    tools: update pd control doc (#4757)
    
    * update latest logo
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * reverse file permission to 644
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * fix logo-too-big issue
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * update PD control doc
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit bed9a3c12c8493a8b49d964f232f25c5543ee058[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Wed May 29 17:39:00 2019 +0800

    coprocessor: Add batch aggregate function FIRST (#4771)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 7681b9fe5832fbaae4238905f45d93aa451ce074[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Wed May 29 17:22:02 2019 +0800

    coprocessor: Batch Stream Aggregation Executor (#4786)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit d442fa8f45807f6f84e5de8a3114e34c9ed874cf[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Wed May 29 16:57:19 2019 +0800

    txn: some refinements to reduce duplicate code (#4748)
    
    * txn: some refinements to reduce duplicate codes
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * address comment
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>
    
    * remove useless check
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 2bfdbe54823f7a8304e28a0f1b04a913c25d2e8b[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Wed May 29 16:01:49 2019 +0800

    coprocessor: Support all data types for AVG() (#4777)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 0c57e3c72ef1a0808235a152f350fe709585b87e[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed May 29 13:15:14 2019 +0800

    raftstore: ignore error when sending messages (#4734)

[33mcommit 3f28b540d688a4e930b731f48c027b158623439a[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue May 28 18:34:54 2019 +0800

    raftstore: skip empty callback (#4682)
    
    * add test cases
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>
    
    * skip empty callback
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>
    
    * address comment
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit f9416dc5c68892daf2a4c62af0d794b6c765cfe0[m
Author: Lonng <heng@lonng.org>
Date:   Tue May 28 16:55:51 2019 +0800

    coprocessor: returns error instead of panic when unexpected take origin (#4794)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit fba0c2e0a593d71a885994e5327c787dba89a63b[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Tue May 28 16:03:50 2019 +0800

    Adds BufferVec (#4790)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 3c65a6d086f88e1146d992ac0ede9a289a09bf55[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Tue May 28 15:22:58 2019 +0800

    Replace all `Into` with `From` (#4792)
    
    Signed-off-by: Iosmanthus Teng <myosmanthustree@gmail.com>

[33mcommit eeb71da7b5845220602fb5ca8c7e328ae3ebd897[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Tue May 28 15:07:47 2019 +0800

    Fix bugs of `Duration::parse` via `nom` (#4497)
    
    * Fix bugs of `Duration::parse`
    
    Signed-off-by: iosmanthus <myosmanthustree@gmail.com>

[33mcommit aead68aaea9e0d9da3f44752163999870295c704[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue May 28 13:14:08 2019 +0800

    support resolve lock lite (#4589)
    
    * support resolve lock lite
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * add test for encode/parse Lock when txn-size is set
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * add test for resolve_lock_lite
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * return txn_size in lock error
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * acquire latches for ResolveLockLite
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * update kvproto
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * address comments
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * address comments
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit a93f438acd6b895e625669545c78739beca4ad34[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Mon May 27 09:43:26 2019 -0700

    *: turn off tikv_alloc's default features (#4770)
    
    When crates don't turn off tikv_alloc's default features it
    forces jemalloc to be on.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 41adf3ed1ae1bde21dfa10556ba52e42c48472f7[m
Author: qupeng <qupeng@pingcap.com>
Date:   Mon May 27 18:32:06 2019 +0800

    stabilize a test case (#4789)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit ee324aea6316788bb64367da9b153a5dcc5dfe75[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon May 27 16:09:22 2019 +0800

    cop: Support empty aggr fn in batch aggr executor (#4782)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 755fdd6d530d860a9cbc1f82ffd16184e01b1f08[m
Author: wjHuang <huangwenjun1997@gmail.com>
Date:   Mon May 27 13:20:39 2019 +0800

    Fix typo (#4775)

[33mcommit 8e6e4d52b1998a0181050ce9e15340803878a6ed[m
Author: qupeng <qupeng@pingcap.com>
Date:   Sat May 25 19:49:43 2019 +0800

    raftstore: mark read delegate as invalid correctly (#4765)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 011cdffa02221e89cd531592af903d1a756a46d9[m
Author: kennytm <kennytm@gmail.com>
Date:   Fri May 24 11:47:34 2019 +0800

    coprocessor: move ExecSummaryCollector out of Executors into a wrapper struct (#4743)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit c7f92f32b59b68a30eee63d3de8c1af3325969cd[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Fri May 24 04:02:47 2019 +0100

    PD Connection: Retry for infinity, log periodically (#4502)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit abdc41c1dc074b9c54162be9ed3e46ca5d39f9c4[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu May 23 20:13:45 2019 +0800

    raftstore: hibernate regions (#4591)

[33mcommit f37f81bc495f1c43a93c946fafe1c7b8e6bbae06[m
Author: Ryan Leung <rleungx@gmail.com>
Date:   Thu May 23 18:23:59 2019 +0800

    add minus(Int, Real, Decimal) rpn function (#4746)
    
    Signed-off-by: Ryan Leung <rleungx@gmail.com>

[33mcommit 0a9ebfc7a8314f95894094656dddbd74efb497da[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Thu May 23 12:58:01 2019 +0800

    raftstore: remove the local reader thread (#4558)
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit c7f62e63d3e9b4388d7c131262f678cf6b02e10a[m
Author: Ryan Leung <rleungx@gmail.com>
Date:   Thu May 23 10:43:29 2019 +0800

    *: remove make bench target (#4697)
    
    Signed-off-by: Ryan Leung <rleungx@gmail.com>

[33mcommit f0d7913771375f422843708eacdc40b329a6b01d[m
Author: qupeng <qupeng@pingcap.com>
Date:   Wed May 22 22:40:07 2019 +0800

    storage: waking up pending transactions shouldn't be done in apply threads (#4745)

[33mcommit 431e9ec286996a99795e50a32e8b808f50e931a1[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Wed May 22 19:12:35 2019 +0800

    Batch Hash Aggregation Executor (#4752)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 273eb31542d359140dee04952e0d8cf182147a5d[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Wed May 22 15:15:13 2019 +0800

    txn: add configurations and enable pessimistic-txn by default (#4741)

[33mcommit 809db51dfaa66ea86e63c4bcef4799a95bf30aa4[m
Author: ShuNing <nolouch@gmail.com>
Date:   Wed May 22 15:00:59 2019 +0800

    *: implement read index service (#4672)
    
    Signed-off-by: nolouch <nolouch@gmail.com>

[33mcommit 850779f49b7d45cb090761ad55fc55287afe9dd5[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Wed May 22 14:12:36 2019 +0800

    Implement a common layer Aggr Executors (#4747)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit f5f9fb0a5e853ad7e7092c24917f134520ab9b10[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Wed May 22 11:16:59 2019 +0800

    Remove ResultPartial (#4731)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 55f5fc2224435542425f5323f83ba820cef01bf6[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Wed May 22 10:53:26 2019 +0800

    Simplify global aggr def parser signature (#4738)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 68735fe1b1ec815c1dbdf21ef1e8f6f6c133dd01[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed May 22 09:13:40 2019 +0800

    config: note Titan experimental feature (#4722)
    
    * add titan comment
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 39541e6b5eec5057ba9a312a8b81cae95f5d8b9d[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Tue May 21 16:20:06 2019 +0800

    Move check batch errors to builder (#4737)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 617da41c4b1f44b32034f62f9ab846ac8f31d6fe[m
Author: Lonng <heng@lonng.org>
Date:   Tue May 21 15:14:19 2019 +0800

    coprocessor: add mod(Int/Real/Decimal) RPN functions (#4727)
    
    * coprocessor: add mod(Int/Real/Decimal) RPN functions
    
    Signed-off-by: Lonng <heng@lonng.org>
    
    * remove empty line
    
    Signed-off-by: Lonng <heng@lonng.org>
    
    * address comment
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit e4df79deec9519d4a6a44992c17eba5228380956[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Tue May 21 14:21:54 2019 +0800

    Use ordered-float as the Real implementation in batch executors (#4729)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 6401d6313f630e4297c51eeb1e6851b0d5cc6f47[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Tue May 21 13:37:07 2019 +0800

    images: update logo with a high resolution and transparent background (#4735)
    
    * update latest logo
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * reverse file permission to 644
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * fix logo-too-big issue
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * update logo with a hd image and transparent background
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * revert file mod to 644
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit a9298619c312f26761b921c956bfbedf8c09181a[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Tue May 21 11:50:51 2019 +0800

    Introduce match_template to simplify code (#4726)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit d5ce0e310c3a96767dad8919820ec6c6e8038449[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Tue May 21 10:18:19 2019 +0800

    coprocessor: Add plus RPN functions for Int, Real and Decimal (#4733)

[33mcommit 54137cbd7d4e2992daa131791239ef1abc78c4b5[m
Author: Lonng <heng@lonng.org>
Date:   Mon May 20 17:44:20 2019 +0800

    coprocessor: impl Rem for decimal reference (#4732)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 1fc2644c10fc657818b6132405457bd769234aaf[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon May 20 17:31:44 2019 +0800

    *: support pessimistic transaction (experimental feature) (#4698)

[33mcommit 2cd8fd240883fc250f75ac26681407978e744add[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Mon May 20 17:16:13 2019 +0800

    readme: update readme logo's resolution (#4713)
    
    * update latest logo
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * reverse file permission to 644
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * fix logo-too-big issue
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * update logo's resolution in readme
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit bb3aff7db0aee2adb15d844ca6c277c66c5b19af[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Mon May 20 16:30:19 2019 +0800

    Copr: implement sub_duration_and_string/sub_time_duration_null (#4519)

[33mcommit 3ad2c4f7a5b7d3b44724dc0dcb0cb8cdad168214[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon May 20 15:53:05 2019 +0800

    Add match_template to jemalloc whitelist (#4725)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit e79f37c3b85c715e676e7eb2c63b9b588dfcad38[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Mon May 20 15:03:13 2019 +0800

    coprocessor: Add IsNull, IsTrue, IsFalse RPN functions (#4720)
    
    * coprocessor: Add IsNull, IsTrue, IsFalse RPN functions

[33mcommit 4aacf5b3a07915b47a85960424886009519c9602[m
Author: qupeng <qupeng@pingcap.com>
Date:   Mon May 20 12:51:15 2019 +0800

    txn: remove scheduler (#4098)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit b780a80c4a70358384ca2061cc299b6c7f453178[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon May 20 11:30:41 2019 +0800

    apply: rename wb to kv_wb (#4721)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 16b242722548e71094bc65364a1b45bb5eb998cb[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon May 20 10:43:08 2019 +0800

    apply: fix snapshot may lose some applied results (#4716)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 0c93754e7f850729ed63d294de36ee3a4155bdb5[m
Author: H-ZeX <hzx20112012@gmail.com>
Date:   Mon May 20 09:29:39 2019 +0800

    Update rand to 0.6.5 (#4667)
    
    * update `rand` to 0.6.5
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 69680545b2721810581cdedeb5c4a975ddc4dc2b[m
Author: Lonng <heng@lonng.org>
Date:   Sun May 19 17:11:09 2019 +0800

    coprocessor: add explain analyze support for Aggregation executor (#4715)
    
    Signed-off-by: Lonng <heng@lonng.org>

[33mcommit 96abc54e479e00dfd079875f8eb50c156ab10a92[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Sat May 18 18:49:16 2019 +0800

    Batch Simple Aggregation Executor (#4635)

[33mcommit fa197511a5fbc072b443afbcd953067bb9d1ee10[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat May 18 17:00:35 2019 +0800

    *: fix unknown file in log (#4714)
    
    log 0.4 introduces non-static file path and module names. But it seems
    to be a feature that most people don't use but break a lot of things.
    This PR revert the lifetime back to static so that everything works
    again.
    
    Another approach is to update slog to support non-static module name and
    file name. But it may lead to unnecessary clone and make things
    complicated.
    
    Know that this is just a workaround, we should switch back to crates io
    version when slog is compatible with the latest log.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 93146c23c4ba98a0dd4915839b67d45a111fc6a8[m
Author: Fu Chen <cfworking@163.com>
Date:   Fri May 17 15:10:47 2019 +0800

    txn: use tokio_threadpool for txn scheduler (#4628)
    
    Signed-off-by: fredchenbj <cfworking@163.com>

[33mcommit 0c10550f0d55a0c0030f8ba015588e3ec33eb363[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri May 17 13:19:59 2019 +0800

    scheduler: handle system commands in high priority pool (#4679)

[33mcommit ece3bac70ea0b5460a0ed19e3fc5c5cd8e1a1abd[m
Author: qupeng <qupeng@pingcap.com>
Date:   Fri May 17 12:48:32 2019 +0800

    raftstore: don't collect read index requests during transfering leader (#4688)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 5cb1c4aa7b1198d5888101a16e23ba5e743527fd[m
Author: Lonng <chris@lonng.org>
Date:   Fri May 17 11:17:16 2019 +0800

    coprocessor: add support exec summary for TopN executor (#4710)
    
    Signed-off-by: Lonng <chris@lonng.org>

[33mcommit 194503acdf41a544eb7d9b9e8262a469ba757ca0[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Thu May 16 05:28:43 2019 -0700

    tikv: set panic=abort for dev and release (#4639)
    
    * tikv: set panic=abort for dev and release
    
    The panic hook already exits unconditionally, so all the unwinding
    code is dead. This saves some build time and code size.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * panic_hook: make catching panics only possible in cfg(test)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * panic_hook: Clarify comments
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * import: revert changes to test_panic_not_deadlocking
    
    There's an interaction here that I don't quite understand,
    that makes my change not work, so just reverting for now.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 19324a26720515f3b587c44cce64711f2f43acf2[m
Author: Lonng <chris@lonng.org>
Date:   Thu May 16 18:52:48 2019 +0800

    Support exec summary for Selection executor (#4699)

[33mcommit c0d3576b4a279372c59037ac8c4a0fada4c70d8c[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu May 16 16:20:26 2019 +0800

    raftstore: make most ticks lazy (#4655)
    
    This PR makes most ticks lazy except raft base tick. Raft base tick will
    be implemented in another PR.
    
    After this PR, down peers may not be reported in time. In the worse case
    PD may need more than 5 minutes to know which node is down or up
    again.

[33mcommit af12d7d504efdfa8fb875e5f53e03177511a8212[m
Author: ShuNing <nolouch@gmail.com>
Date:   Thu May 16 10:33:06 2019 +0800

    *: reject transfer leader when the region recently changed config (#4684)

[33mcommit c0359b4f0777c930d12551587a60d8a46cc0860e[m
Author: Ryan Leung <rleungx@gmail.com>
Date:   Wed May 15 14:13:24 2019 +0800

    remove tmp file generated by test (#4691)
    
    Signed-off-by: Ryan Leung <rleungx@gmail.com>

[33mcommit 22426f9157db5f9c3d26a9ae60f1e8d9b20ae299[m
Author: H-ZeX <hzx20112012@gmail.com>
Date:   Wed May 15 03:11:57 2019 +0800

    change coprocessor::dag::expr::builtin_math::test_rand_with_seed (#4685)
    
    * coprocessor: change test_rand_with_seed
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>
    
    * coprocessor: change test_rand_with_seed, remove expect_same_probability
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit aa10d7f40555d9f1e306ad419cbbad9480c79c55[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Tue May 14 21:27:52 2019 +0800

    images: update latest logo (#4678)
    
    * update latest logo
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 0b967fdaec8c098733aef08fc6fa7d0278fc380d[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Mon May 13 21:35:02 2019 -0700

    tikv-ctl: make storage.block_cache.capacity dynamic changeable (#4619)
    
    ## What have you changed? (mandatory)
    Allow the command `./tikv-ctl --host=<host:port> modify-tikv-config -m storage -n block_cache.capacity -v XXX` to dynamic change block cache size if shared block cache is used. Also disallow chaning per-CF block cache size via tikv-ctl, to avoid confusion.
    
    ## What are the type of the changes? (mandatory)
    Improvment
    
    ## How has this PR been tested? (mandatory)
    start a tikv instance, load some data and warmup cache. Set cache size via the above tikv-ctl command. See cache size change in Grafana:
    <img width="998" alt="Screen Shot 2019-05-08 at 4 41 29 PM" src="https://user-images.githubusercontent.com/2606959/57415517-650cd280-71b1-11e9-933a-034e99647087.png">
    Note when shared block cache is used, only a single block cache size (with cf="all") is shown.
    
    ## Does this PR affect documentation (docs) or release note? (mandatory)
    will update tikv-ctl docs afterward.
    
    ## Does this PR affect tidb-ansible update? (mandatory)
    no
    
    ## Refer to a related PR or issue link (optional)
    shared block cache was added in #4563.
    
    ## Benchmark result if necessary (optional)
    
    ## Add a few positive/negative examples (optional)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 7591b2e3b0b1bcf29bbaacfab055c169591be17f[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Mon May 13 19:59:49 2019 -0700

    Update rust-rocksdb to pick up latest Titan changes (#4690)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit 26e2a854879d729896aa6a22408f1ae65f54cd71[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon May 13 13:27:24 2019 +0800

    Docker: speed up docker build and remove unused files  (#4590)
    
    * docker: cache Rust and dependencies
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit f47cda9d2541fbe73d502578276f0eacdfb236f2[m
Author: André Isaksson Kraft <andrisak@gmail.com>
Date:   Mon May 13 06:43:46 2019 +0200

    tikv/util: support GiB and its families (#4541) (#4592)
    
    * tikv/util: support GiB and its families (#4541)
    
    Support GiB and its families while GB and its families are still as before.
    
    Signed-off-by: andrisak <andrisak@gmail.com>
    
    * Improved validation.
    
    Signed-off-by: andrisak <andrisak@gmail.com>
    
    * Removed unnecessary code.
    
    Signed-off-by: andrisak <andrisak@gmail.com>
    
    * Removed unnecessary allocation.
    
    Signed-off-by: andrisak <andrisak@gmail.com>
    
    * Serialize ReadableSize to units with binary prefixes.
    
    Signed-off-by: andrisak <andrisak@gmail.com>

[33mcommit 22efcdd6b9989af58b97c8a0ca5a6435f035e0a5[m
Author: Lonng <chris@lonng.org>
Date:   Fri May 10 23:11:00 2019 +0800

    coprocessor: add unit tests to coverage `parse_frac` all path (#4683)

[33mcommit f87e23cb923de8ef2ea1558e5f1fc8809c076582[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Fri May 10 20:34:21 2019 +0800

    Change logs about plenty versions to debug level (#4671)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit bedea352fb296a25c4ebfa2169a25286ef00dc7e[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Fri May 10 16:16:10 2019 +0800

    codec: Some small improvements (#4664)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 4285afc203e38f032657f96b2132dc2dcc655fc4[m
Author: Lonng <chris@lonng.org>
Date:   Fri May 10 13:42:26 2019 +0800

    coprocessor: fix typo (#4677)
    
    Signed-off-by: Lonng <chris@lonng.org>

[33mcommit ed07afe31a7e12b4c4b07f6209496ab087279d91[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri May 10 11:44:25 2019 +0800

    raftstore: tiny refactor for peer_storage (#4668)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit b388c635dfb9fbed622e576438c46dbc1809ecb2[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri May 10 10:54:19 2019 +0800

    tests: put data to write cf instead of raft cf (#4670)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit f4bc7e39fb8ac30a26fdac0893ec4eeb8ce85b74[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu May 9 21:43:32 2019 +0800

    tests: tiny refactor test_compact_log (#4669)
    
    * tests: tiny refactor test_compact_log
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    * cargo fmt
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 7668cafb32dbc025b55fc7ef3bef1e4b94ec6c69[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Thu May 9 17:50:02 2019 +0800

    Moving code from bin/util into tikv, and crate docs (#4538)
    
    * tikv: add metadata to Cargo.toml
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * readme: minor tweaks
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * tikv: add simple crate docs
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * tikv: Add simple config module docs
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * config: make LAST_CONFIG_FILE private
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * More docs
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * bin/*: Move code from binaries into tikv lib
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * server: Move check_system_config into tikv
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * server: move pre_start into tikv
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * server: move run_raft_server into tikv
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * server: extract run_tikv to tikv::binutil::server
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * tikv: remove some broken links from pre_start docs
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * docs: Capitalize Titanium, lowercase key-value
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit f4e562d515b852f6ac53d1bcbf3d2fdd3874a044[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu May 9 16:56:05 2019 +0800

    tests: tiny refactor (#4656)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 190b6a137e557f59c0dc7723101d59e27528d454[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu May 9 16:40:53 2019 +0800

    engine: skip check raft cf in delete range (#4663)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 842811e1cf7d6136fd69f312e1eeb13d92600d9d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu May 9 16:23:34 2019 +0800

    raftstore: move INIT_EPOCH_VER/CONF_VER to peer_storage (#4661)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 041956c1ab685c02f48fa089c787922dbb9c44cb[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu May 9 15:58:22 2019 +0800

    raftstore: tiny refactor snapshot tests (#4666)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 5f904f0dedf8da6d0c203d32bda34a4608138612[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu May 9 15:27:05 2019 +0800

    Cargo: upgrade kvproto to release-3.0 (#4658)
    
    * Cargo: upgrade kvproto to release-3.0
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit b9d089a5fcb0bddd679425813712083353310658[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu May 9 15:09:41 2019 +0800

    *: skip double colons (#4662)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit cc4dc32ce16550e466d5e876b49ca80e14e1c39a[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Thu May 9 14:57:38 2019 +0800

    Output start_ts so that tracing requests that cannot be batched can be easier (#4665)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 9c0a9c158bdcf7656ad4854b9aa87d16c99ee6e7[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu May 9 14:37:46 2019 +0800

    *: replace FnBox with FnOnce (#4659)
    
    FnBox will never be stabilized. Instead, Box<dyn FnOnce>
    is available now, and is scheduled to be stabilized in 1.35.
    So we can replace all FnBox occurences with FnOnce now.
    Feature gate of fnbox can be removed as well.
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit 48a884c09f7c8d83b9de8ff4d3bda2397123b890[m
Author: kennytm <kennytm@gmail.com>
Date:   Thu May 9 14:21:55 2019 +0800

    util: when logger encounted an error, log it to stderr before panicking (#4493)
    
    * util: when logger encounted an error, log it to stderr before panicking
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * test_util: fixed test
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * tikv_util: do not print the error twice when logger panicked
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 9a710e9116baa1e09a4b657fd4a709c644d32eb8[m
Author: Lonng <chris@lonng.org>
Date:   Thu May 9 13:42:55 2019 +0800

    storage: elide unnecessary life type parameter (#4660)
    
    Signed-off-by: Lonng <chris@lonng.org>

[33mcommit 7fd27a4797615c3aab730774d01fc0d9cf916d6d[m
Author: Connor <zbk602423539@gmail.com>
Date:   Thu May 9 12:31:38 2019 +0800

    metrics: fix may count metrics multiple times (#4654)
    
    * fix count metrics multiple times
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * not skip empty
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit b70d50a4312ca5d22422fdb6440f0ab3fd4bd94d[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed May 8 22:11:24 2019 +0800

    Use try_update_safe_point instead of wait_for_next_safe_point (#4641)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 286c750f283cf0147d8e8b6534ef49450fe6814f[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed May 8 18:16:27 2019 +0800

    Cargo: upgrade raft to v0.4.3 (#4653)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 73c549573c351ef45b13a12663f693fc2cf2ac65[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Wed May 8 16:40:18 2019 +0800

    Simplify some code using field type converts. (#4649)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 0609d4483551a565ad5c0dc12e2c2e74804a957f[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Wed May 8 16:07:44 2019 +0800

    Introduce tipb_helper (#4634)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit fa77ffe346b545c25e9897d7cddd7e10e89e8809[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed May 8 15:02:27 2019 +0800

    config: increase raftdb max-background-job and max sub compactions (#4652)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 32dc6e8e9e21f4068032ebf32b27e284794be88a[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed May 8 14:43:59 2019 +0800

    *: report unreachable in more cases (#4648)
    
    Unreachable report is used to perform traffic control and potential down
    node detection. This PR adds more unreachable report by hooking the
    connection state and send error in raftstore layer. These can also be
    useful when implementing hibernate regions as peers can be woken up when
    failure is detected.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 8c4cb3b89fc1b05ba5ea6e79196ac8cc355c31b3[m
Author: H-ZeX <hzx20112012@gmail.com>
Date:   Wed May 8 13:40:20 2019 +0800

    fix(coprocessors::codec::data_type::scalars::impl_as_ref): the panic's param should be $ty but not $tt (#4650)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit 79cdbc31d0e36bd8057b641f505d10cdc85a777f[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed May 8 12:57:27 2019 +0800

    tests: fix tick_after_destroy (#4647)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 396ae2d614ba4b272f0cb6e745d431e49ffef246[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Wed May 8 11:40:00 2019 +0800

    Add RPN compare functions for Int, Decimal, String, Time, Duration and Json (#4625)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 279e8d3ef26aee9300e83319a3e2a5a4bbc81618[m
Author: H-ZeX <hzx20112012@gmail.com>
Date:   Tue May 7 23:13:29 2019 +0800

    Add *AnyValue functions (#4629)
    
    Signed-off-by: H-ZeX <hzx20112012@gmail.com>

[33mcommit a7211568a242358e2991eb854380c0684ebe284e[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Tue May 7 19:50:10 2019 +0800

    Update to tzdata 2018i (#4645)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 7410bd376ad8224f88a4bc6721c01fc24ee1dbbd[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Tue May 7 16:16:32 2019 +0800

    Introduce cop_codegen to simplify some code (#4622)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit dd9ed5c36bc456ac57d5edc955a2b4d52bb2ffe4[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue May 7 14:30:42 2019 +0800

    *: update raft to 0.4.2 (#4637)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 7a8fdf9706eb6032418e13aae9f10fcdc866ee66[m
Author: niedhui <niedhui@gmail.com>
Date:   Tue May 7 12:05:06 2019 +0800

    codec improvement (#4454)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 68802bbccf4df5acb808165442b8e6e64ab1e5d9[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon May 6 21:57:34 2019 +0800

    Support CPU profiling sections of code (#3971)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 9e02b2d0c5e1787e7d81a202c7dfc277133fe567[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon May 6 18:51:38 2019 +0800

    raftstore: add tick registry (#4632)
    
    Tick registry is used to avoid schedule a tick twice. It's very useful
    when try to schedule tick lazily.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit a1c0e4665462b92538acf68dcfcf79fcb302ecf6[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon May 6 16:35:09 2019 +0800

    Support exec summary for limit executor (#4599)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 1b39f6f324bf7e125028ec07b929cb9013bb008d[m
Author: Lei Zhao <zlwgx1023@gmail.com>
Date:   Mon May 6 14:16:51 2019 +0800

    mvcc/txn: use raw_key in Error and reduce copy. (#4631)
    
    Signed-off-by: youjiali1995 <zlwgx1023@gmail.com>

[33mcommit 24164e5c3096c0885ea59edc3c5c62d0d49e0ea4[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon May 6 11:07:10 2019 +0800

    Add cop_codegen to tikv_alloc whitelist (#4626)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 51fa53f27ea7e83b3c8c2ddfbe9a7991798ab3a7[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Sun May 5 17:18:36 2019 +0800

    Support exec summary for normal table / index scan executor. (#4598)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 64451f094d14c801f85798fd4d7581ef8e534897[m
Author: Lonng <chris@lonng.org>
Date:   Sun May 5 15:54:12 2019 +0800

    import: tune SstFileWriter options to reduce CPU usage (#4611)

[33mcommit 6764535a64fbe5337b2db12b7cab33b99a15b472[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Sun May 5 15:19:40 2019 +0800

    Add RPN function LTReal LEReal GTReal GEReal NEReal EQReal (#4602)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 880be872aeedaba6dd2d53c29d8ca0013f5b5ef0[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Sun May 5 14:59:40 2019 +0800

    Add execution summary framework for non-batch executors (#4621)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit aeb0b715d72b0acbf5cb2f1e2aeb5dd587bd2ba3[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Sun May 5 14:20:27 2019 +0800

    Add RPN function LogicalOr (#4601)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 78d074555b838d9981b778580507570bebe7e1e8[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed May 1 15:47:46 2019 +0800

    tests: should register mailbox before sending (#4577)
    
    * tests: should register router before sending
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>
    
    * use channel to avoid race
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit aa2ccf7d5926ac1f53a01850ca0b5425b09a806f[m
Author: Correctizer <35130945+whoiscc@users.noreply.github.com>
Date:   Tue Apr 30 08:27:50 2019 -0700

    [WIP] Add more fuzz tests (#4608)
    
    * Enhance error report for fuzzing
    
    Signed-off-by: whoiscc <correctizer@gmail.com>
    
    * Extract pre-check function
    
    Signed-off-by: whoiscc <correctizer@gmail.com>
    
    * Add fuzz test for Duration
    
    Signed-off-by: whoiscc <correctizer@gmail.com>
    
    * Update fuzz test to pass clipper checking
    
    Signed-off-by: whoiscc <correctizer@gmail.com>
    
    * Add fuzz test for Duration::parse
    
    Signed-off-by: whoiscc <correctizer@gmail.com>

[33mcommit 0ad47cbb8867d109598104c3d9a43a10e1e259bd[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Tue Apr 30 16:18:17 2019 +0800

    Simplify exec summary (#4597)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 4a02aee0ead62d30ece889b506e9c6971cfa2f9a[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Mon Apr 29 20:23:22 2019 -0700

    Share block cache among column families (#4563)
    
    ## What have you changed? (mandatory)
    Add option to share block cache between column families. The goal is to simplify config. It may also improve cache performance if previous config fail to balance cache size well. A previous benchmark indeed show read throughput and latency increases in the specific test scenario (see benchmark result link).
    
    The new config provide a flag to enable sharing block cache, and it is default true. Cache capacity is optional. If it is not provided, it is decided by
    * the sum of cache size of individual column families. and
    * In the particular case when cache sizes for all column families are not set, the shared cache size is ~45% of total physical memory.
    
    We also expose more block cache options through the new block cache config.
    
    Config example:
    ```
    [storage.block-cache]
    shared = true
    capacity = "10G"
    num-shard-bits = -1
    strict-capacity-limit = false
    high-pri-pool-ratio = 0.0
    ```
    
    ## What are the type of the changes? (mandatory)
    New feature
    
    ## How has this PR been tested? (mandatory)
    Run tikv-server from command line. Change tikv config with the following scenario. Check the cache address and detailed cache options in rocksdb log.
    * case 1: shared=false. Expect: block cache is not shared, and their individual sizes respect individual block-cache-size setting.
    * case 2: shared=true and capacity is not provided. block cache size is provided for individual column families. Expect: Cache is shared and with size equal to sum of individual cache sizes.
    * case 3: shared=true and capacity is not provided. block cache size is not provided for individual column families. Expect: Cache is shared and with size ~=45% total physical memory.
    * case 4: shared=true and capacity is provided. Expect: cache is shared and with size equal to capacity.
    
    ## Does this PR affect documentation (docs) update? (mandatory)
    Yes. We will need to update our tuning guide to suggest users to set shared cache instead.
    
    ## Does this PR affect tidb-ansible update? (mandatory)
    Yes. We need to update config template.
    
    ## Benchmark result if necessary (optional)
    Test with The following YCSB with steps against TiKV transaction API.
    
    Load 30M records into empty TiKV instance, with workload A.
    Run workload C (point lookup only) with 30M operations, from 500 threads.
    Run workload E (95% small scan + 5% updates) with 3M operations, from 500 threads.
    The resulting DB size is ~36G.
    
    Details test script:
    
    ./bin/go-ycsb load tikv -P workloads/workloada -p tikv.pd="172.16.30.40:2379" -p tikv.type="txn" -p recordcount=30000000
    ./bin/go-ycsb run tikv -P workloads/workloadc -p tikv.pd="172.16.30.40:2379" -p tikv.type="txn" -p recordcount=30000000 -p threadcount=500 -p operationcount=30000000
    
    Testing the following versions:
    Master: default CF 10G, lock CF 1G, write CF 10G, Raft CF 128M, Raft RocksDB: 1G
    Test 1: KV RocksDB: shared block cache with total size 21G. Raft RocksDB: 1G
    Test 2: KV RocksDB: shared block cache with total size 14G. Raft RocksDB: 1G
    
    Result:
    Master (block cache hit rate: 95.4%)
    READ - Takes(s): 442.3, Count: 29999994, OPS: 67821.4, Avg(us): 7366, Min(us): 326, Max(us): 91756, 95th(us): 9000, 99th(us): 11000
    
    Test 1 (throughput +16%, average latency -14%, block cache hit rate: 97.7%):
    
    READ - Takes(s): 380.1, Count: 29999994, OPS: 78930.5, Avg(us): 6329, Min(us): 311, Max(us): 90951, 95th(us): 8000, 99th(us): 11000
    
    Test 2 (throughput +4.6%, average latency -4.4%, block cache hit rate: 96.1%):
    
    READ - Takes(s): 422.8, Count: 29999999, OPS: 70958.6, Avg(us): 7040, Min(us): 257, Max(us): 85152, 95th(us): 9000, 99th(us): 11000

[33mcommit d0f84b004444f843ee70647adadae743d4a9cd31[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon Apr 29 16:08:02 2019 +0800

    Rename and move ExecSummary to support non-batch executors (#4596)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit a7e5886b408d123ba61f63ec51c9fbcb0bc1af00[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Apr 29 15:39:10 2019 +0800

    Adds RPN function LogicalAnd (#4575)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit d28bae6b9d7f8ce17871b0adf111b8726aa0e320[m
Author: Correctizer <35130945+whoiscc@users.noreply.github.com>
Date:   Sun Apr 28 23:46:17 2019 -0700

    Enhance error report for fuzzing (#4593)
    
    * Enhance error report for fuzzing
    * Extract pre-check function
    
    Signed-off-by: whoiscc <correctizer@gmail.com>

[33mcommit c3a0254d6a71648a2bfb9dd47476ba8562ddbe7e[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon Apr 29 13:22:49 2019 +0800

    Simplify the usage of RpnExpressionBuilder (#4573)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit e79b9d5ea02288aea2abb4469a7e2f37117e4736[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon Apr 29 12:47:33 2019 +0800

    Add batch aggregate function AVG (#4570)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 2e1e20f7ced72a3333c2504fa4bfb53b44fe4b8a[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Mon Apr 29 09:23:46 2019 +0800

    Fix read pool names (#4588)

[33mcommit b710964a2f62e78cfe201335271e3874d1dd462f[m
Author: kennytm <kennytm@gmail.com>
Date:   Sun Apr 28 19:12:56 2019 +0800

    import,etc: implement a speed limit for tikv-importer (#4412)
    
    * import,etc: implement a speed limit for tikv-importer
    
    Implemented a maximum speed limit for uploading from Importer to TiKV,
    using Token Bucket algorithm. The speed limit is needed to avoid
    saturating the network bandwidth which causes PD to assume TiKV nodes
    went down due to heartbeat not going through.
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * import: moved SpeedLimiter into its own module, and added unit tests
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * import: fix compile error
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * import: Duration::from_float_secs has been renamed to from_secs_f64
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 6dbadf41113ac8e5fc1f17ada42802d94baa2d1f[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Sun Apr 28 17:40:27 2019 +0800

    Add batch aggregate function COUNT (#4569)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit d4f238d09dd3a3d0555d50d8fbcf49e9da6fbb4f[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Sun Apr 28 16:04:28 2019 +0800

    A few cleanup commits (#4513)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 7cf147ff1d8dade7723c580c95a6dd643c2e73a8[m
Author: Wenxuan Shi <breezewish@pingcap.com>
Date:   Fri Apr 26 21:11:51 2019 +0800

    Adds BatchSelectionExecutor (#4562)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 4db29bb0e5c3cfdb852a2983df354ea9ec32b334[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Apr 26 19:13:27 2019 +0800

    github: update pull request template (#4555)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>
    
    Update .github/pull_request_template.md
    
    Co-Authored-By: overvenus <overvenus@gmail.com>
    
    Update .github/pull_request_template.md
    
    Co-Authored-By: overvenus <overvenus@gmail.com>
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 591d0a4abc919212d254ca872a7b5f2f8bf24298[m
Author: Seact <seact_l@outlook.com>
Date:   Fri Apr 26 17:48:51 2019 +0800

    coprocessor: implement functions: period_add, period_diff (#4428)

[33mcommit 620d76e53864de2824d21940ac5981aa8e674c41[m
Author: Lonng <chris@lonng.org>
Date:   Fri Apr 26 01:24:47 2019 +0800

    import: use memory to cache split sst instead of disk file (#4566)
    
    Signed-off-by: Lonng <chris@lonng.org>

[33mcommit 3cae7f76f44a06d23b71d1c87d1572f020fce7f7[m
Author: 曹维杰 <jswh@jswh.me>
Date:   Thu Apr 25 22:00:32 2019 +0800

    Utilize Criterion's new feature iter_batched_ref (#4539)
    
    * Utilize Criterion's new feature iter_batched_ref
    
    Signed-off-by: jswh <jswh@jswh.me>
    
    * use iter_batched
    
    Signed-off-by: jswh <jswh@jswh.me>

[33mcommit 4dd587e4b97966a5e3b3b74963b56ac140ab9d1d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Apr 25 21:39:11 2019 +0800

    tests: reduce allocation (#4576)
    
    Default scheduler-concurrency is 204800, which is too large for tests. This PR set it to 10 for tests, which can reduce a lot of allocation. Note that it's not just about the size of memory, scheduler-concurrency will allocate an array of VecDeque, which will allocate at least 1 slot even it's empty. So there will be 204800 allocations for every scheduler latches.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 482dee53e18cd656c55802ba569b2b0068236ae0[m
Author: Yilin Chen <sticnarf@gmail.com>
Date:   Thu Apr 25 20:59:26 2019 +0800

     *: Upgrade Rust compiler version to 2019-04-25. (#4568)
    
    Signed-off-by: Yilin Chen <sticnarf@gmail.com>

[33mcommit c3bf30add618758c4ced588133f775e5b33f5fff[m
Author: Pratyush Singhal <psinghal20@gmail.com>
Date:   Thu Apr 25 15:05:35 2019 +0530

    Disable unused features of dependencies (#4453)
    
    * Cargo.toml: disable unused features for dependecies
    
    Improve Build time. It disables several unused features of dependencies to reduce the build
    time.
    
    Features disabled:
    ---------------------
    backtrace-0.2.3/backtrace-sys ["tikv"]
    backtrace-0.2.3/dbghelp ["tikv"]
    backtrace-0.2.3/dbghelp-sys ["tikv"]
    backtrace-0.2.3/default ["tikv"]
    backtrace-0.2.3/dladdr ["tikv"]
    backtrace-0.2.3/kernel32-sys ["tikv"]
    backtrace-0.2.3/libbacktrace ["tikv"]
    backtrace-0.2.3/libunwind ["tikv"]
    backtrace-0.2.3/winapi ["tikv"]
    criterion-0.2.5/criterion-plot ["tikv"]
    criterion-0.2.5/default ["tikv"]
    criterion-0.2.5/handlebars ["tikv"]
    criterion-0.2.5/html_reports ["tikv"]
    hyper-0.12.18/__internal_flaky_tests ["tikv"]
    hyper-0.12.18/default ["tikv"]
    jemalloc-sys-0.1.8/bg_thread ["jemallocator"]
    jemallocator-0.1.9/bg_thread ["tikv_alloc"]
    jemallocator-0.1.9/default ["tikv_alloc"]
    num-0.2.0/default ["tikv"]
    num-0.2.0/num-bigint ["tikv"]
    num-0.2.0/num-complex ["tikv"]
    num-0.2.0/num-integer ["tikv"]
    num-0.2.0/num-iter ["tikv"]
    num-0.2.0/num-rational ["tikv"]
    num-0.2.0/num-traits ["tikv"]
    num-0.2.0/std ["tikv"]
    num-bigint-0.2.0/num-integer ["num", "num-rational"]
    num-bigint-0.2.0/num-traits ["num", "num-rational"]
    num-bigint-0.2.0/std ["num", "num-rational"]
    num-complex-0.2.0/num-traits ["num"]
    num-complex-0.2.0/std ["num"]
    num-integer-0.1.39/num-traits ["chrono", "num", "num-iter", "num-bigint", "num-rational"]
    num-integer-0.1.39/std ["chrono", "num", "num-iter", "num-bigint", "num-rational"]
    num-iter-0.1.37/num-integer ["num"]
    num-iter-0.1.37/num-traits ["num"]
    num-iter-0.1.37/std ["num"]
    num-rational-0.2.1/bigint ["num"]
    num-rational-0.2.1/num-bigint ["num"]
    num-rational-0.2.1/num-integer ["num"]
    num-rational-0.2.1/num-traits ["num"]
    num-rational-0.2.1/std ["num"]
    prometheus-static-metric-0.1.4/default ["tikv"]
    safemem-0.3.0/default ["tikv"]
    safemem-0.3.0/std ["tikv"]
    slog-async-2.3.0/default ["tikv"]
    ----------------------
    
    Signed-off-by: psinghal20 <psinghal20@gmail.com>
    
    * cargo.toml: re-enable silent features of backtrace and jemallocator
    
    Signed-off-by: psinghal20 <psinghal20@gmail.com>

[33mcommit 21a15b3294351d0750b2be71d8ae0c14a69efe6b[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Apr 24 19:11:02 2019 +0800

    Several trivial engineering improvements (#4547)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 1c0c3a8c17f13a404423eac0f22de0de2ee13257[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Apr 24 18:11:08 2019 +0800

    raftstore: learners should be considered when check progresses before merge (#4559)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 9aa32f1bc28db483cc47b3674cf09a7eb00b3e9d[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Apr 24 15:53:11 2019 +0800

    Several trivial engineering improvements 2 (#4561)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 882bf80c54192ed93bb5ed907f5f94b529c9ecce[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Tue Apr 23 18:56:48 2019 -0700

    engine: add test for preparing SST ingestion from Titan (#4556)

[33mcommit fa032cb1fb34ce8536100befc4158be54501b840[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Sun Apr 21 20:29:26 2019 -0700

    engine: remove delete range extend key hack (#4526)
    
    Remove the hack as the related delete range bug will be fixed after pingcap/rust-rocksdb#288. The hack was added in #4503.

[33mcommit 2837dd45b29ec505d71d2f84bcfaa548a80bc160[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sun Apr 21 10:55:16 2019 +0800

    Use `KeyBuilder` to reduce memory allocation and copy for bound key (#4537)

[33mcommit e5c2ed4b72898cad0b7d7ec8a6c344462903c3df[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Apr 18 20:56:59 2019 +0800

    Align BatchLimitExecutor's style to other batch executors (#4534)

[33mcommit 750c273fee60aefba393e9259758ce55ef6d67e0[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Apr 18 20:44:38 2019 +0800

    Introduce field type builder for easier usage (#4546)

[33mcommit 2bb684e3bb62030018b8610404274f0c49aeada3[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Apr 18 20:21:53 2019 +0800

    Add some comments (#4545)
    
    * Adds VectorValueExt
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Adds comments for newly added public trait
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Fix typo
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit da28f20f490ca46ffb6f53fa32d3c93ee51e40e7[m
Author: Connor <zbk602423539@gmail.com>
Date:   Thu Apr 18 17:57:42 2019 +0800

    *: check iterator status when invalid (#4470)
    
    * check iterator status when invalid
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit b3a5d7b54f134e8a51e2f810514d3171e59fa9cf[m
Author: Connor <zbk602423539@gmail.com>
Date:   Thu Apr 18 17:17:56 2019 +0800

    config: make properties index distance configurable (#4517)
    
    * make properties index distance configurable
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 7f262790510b91d256651186a3b5a3c4168c974f[m
Author: baishen <baishen2009@gmail.com>
Date:   Thu Apr 18 12:56:06 2019 +0800

    use bitflag to replace bool (#4536)

[33mcommit 895e485b06c33e5b4abe4607cffb11126e8dc813[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Apr 17 22:09:53 2019 +0800

    Batch aggregation framework (#4533)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 9441466a75ede197e3317a806e4c530d069ae720[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Apr 17 19:50:51 2019 +0800

    *: cleanup util and engine components (#4543)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 5b8c916a47f0d7feee599619a951aa29854712e6[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Apr 17 19:23:19 2019 +0800

    engine: split multiple mods (#4542)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 7d9540c7f3d7b5759f39e662893ccaf280cd3f01[m
Author: Lonng <chris@lonng.org>
Date:   Wed Apr 17 16:16:15 2019 +0800

    import: wait all scatter region finished before importing (#4423)
    
    import: wait all scatter region finished before importing
    import: pause upload while target store unavailable

[33mcommit 1e3cc0e7a4186c2f40cd05fcda003510372d6ea3[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Apr 17 14:24:08 2019 +0800

    Adds ret_field_type (#4512)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 0dfa0fba7be629b5565876895d2f8774c38a650a[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Apr 17 01:44:32 2019 +0800

    Accept the scenario that there may be multiple PK handles (#4499)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit f3f12b941e3b7fad4170615eb4bf3f474bbfcc1a[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Apr 16 16:16:45 2019 +0800

    batch/statistics: make exector summary collector easier (#4498)

[33mcommit 7cb82a6a2e27ddd377ecb2acb6096131aecc9c7a[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Apr 16 14:05:54 2019 +0800

    server: reduce context switch about batch commands (#4473)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 80f0149a63be1410bd1b10dd6ac81fbeb9061b2c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Apr 15 21:53:06 2019 +0800

    engine, coprocessor: update copyright (#4531)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 26bd902f24d9572f695386c21412393fa0a56993[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Apr 15 20:05:18 2019 +0800

    Move the logic of checking the availability of batch execution to the executor (#4483)

[33mcommit 4c59e584d0f434954ee570a86c397eb7eed6b8fa[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Mon Apr 15 17:34:04 2019 +0800

    remove repeated content (#4529)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit edfbc65dfbf43a24e89ffe685cf2c1754fbc21e5[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Apr 15 16:58:12 2019 +0800

    export num-immutable-mem-table (#4528)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit eab45d44105f289c9401a63eb7964a775f04b08e[m
Author: Lonng <chris@lonng.org>
Date:   Mon Apr 15 15:22:26 2019 +0800

    coprocessor: move build related function to DAGBuilder (#4527)

[33mcommit 545e47950c4c84c74e59a7127e7359703d84800d[m
Author: Fu Chen <cfworking@163.com>
Date:   Sun Apr 14 20:24:35 2019 +0800

    use tokio threadpool and thread local metrics for readpool (#4486)
    
    * *:use tokio-threadpool and thread local metrics in Storage
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 7865df199cc5b8e74770f0960470553500a54432[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Apr 12 22:54:37 2019 +0800

    Remove strict_sql_mode which is covered by sql_mode (#4494)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 8dae71abe25cdcc511116f7d5b29312dffc2b152[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Apr 12 15:57:48 2019 +0800

    *: move util as a component (#4504)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 1be65221e86744abd130543ca6c70ebaca8e744d[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Thu Apr 11 23:47:18 2019 -0700

    Upgrade tcmalloc-rs to 0.3 (#4516)
    
    * Add tcmalloc support to the tikv_alloc crate
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>

[33mcommit ac26c8dc44ff660f061f87b9635054bb1969e852[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Apr 12 11:52:50 2019 +0800

    Upgrade to use a later criterion (#4509)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 2b242b76e79c1aac4df1287d7f2a1c2d87804f1c[m
Author: Alex <blackanger.z@gmail.com>
Date:   Fri Apr 12 08:33:16 2019 +0800

    Add tcmalloc support to the tikv_alloc crate (#4370)
    
    * Add tcmalloc support to the tikv_alloc crate
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * fixed unused warning : unused libc
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * fixed typo
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * resolved conflicts
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * Resolved conflicts
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * refactor
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    *  1. Add System allocator. 2. Encapsulate Allocator type. 3. modify Makefile for cargo build  --no-default-features --features "tcmalloc sse no-fail"
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * format
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * modify
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * remove extra spaces
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * remove trailing spaces
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * modify review change
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * add default-features=false for engine's Cargo.toml and resolve conflict
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>
    
    * Trigger test
    
    Signed-off-by: blackanger <blackanger.z@gmail.com>

[33mcommit 4a2700b87f02e782487e526c901442b1abd4c853[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Thu Apr 11 11:37:54 2019 -0700

    Change Copyright holders to the TiKV Authors (#4438)
    
    * Change Copyright holders to TiKV Project Authors
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Remove License Header
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Note files are apache licensed
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Satisfy nitpicker
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 7e43b9cc24e74307bb10447d221ac49eb0a944da[m
Author: kxu <kevin.s.xu@gmail.com>
Date:   Thu Apr 11 09:52:55 2019 -0700

    Fixed broken link to code of conduct

[33mcommit eb67b903a34fb5dee61bc828ea5396775614f62a[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Apr 11 22:35:21 2019 +0800

    Copr: implement batch_executor/limit (#4469)

[33mcommit 39a1ece3f6800da71c059de412e0d6f6e0676241[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Apr 11 22:18:23 2019 +0800

    Change Evaluable from Option<T> to T (#4482)

[33mcommit 57b63022838ef5fb7e935e3b6133308116553d95[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Apr 11 16:07:08 2019 +0800

    Add max column check when building vectorized expression (#4481)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 4a06994e129041ffca33e0d4c00f88782be9b73a[m
Author: kennytm <kennytm@gmail.com>
Date:   Wed Apr 10 18:30:01 2019 +0800

    util: avoid panic in RotatingFileLogger (#4492)
    
    * util: prevents RotatingFileLogger from panicking at all
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * util: no need to create temporary file
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 57ce5aba87126560dc72e471650fc0c2579e732f[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Apr 10 16:59:03 2019 +0800

    engine: fix prefix extractor panic when delete range (#4503)

[33mcommit 259389ecc188fc16f40312743761a50c2624e6af[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Apr 10 13:41:00 2019 +0800

     Add some new casts for LazyBatchColumn(Vec) (#4480)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 91b2ed347e88702f4519f1bf418bb78aee6f16cb[m
Author: dongxu <i@huangdx.net>
Date:   Tue Apr 9 18:42:31 2019 -0700

    Update roadmap (#4487)
    
    Signed-off-by: c4pt0r <i@huangdx.net>

[33mcommit 7d815274a461199c843ac295a6f8aa76c7b3c8c6[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Apr 9 18:38:09 2019 +0800

    bin: use fatal level when fatal (#4496)
    
    Fatal level is more clear than error when program is about to exit.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 9bfdd83c376467b7386ca53c40f9be37d6ab340c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Apr 9 14:51:50 2019 +0800

    *: add engine component (#4461)
    
    Tidy up rocksdb usage. #4416 reexports rocksdb at storage::engine,
    it is a good start towrads modulized tikv. This PR takes a step further,
    it moves all rocksdb imports to a new component `engine`, it helps to
    build a better structure, also it makes easy for introducing new
    engines later.
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 56c1b44b32e3d8ee59729e4343219d1a1fc96086[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Apr 8 18:55:50 2019 +0800

    Move batch scan executor into standalone directory (#4479)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 409e9e32e23430ba98b452f20957098c9c5d7a2c[m
Author: Keyi Xie <xiekeyi98@gmail.com>
Date:   Mon Apr 8 17:22:30 2019 +0800

    *: fix misspell in comments and docs. (#4489)

[33mcommit 5088ebdce19dd0581265d6bcf28c126a984c95ce[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Apr 8 14:54:01 2019 +0800

    Move scanner out of executor (#4477)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 17a50340a1c842b76374a7c03f4c757994a14619[m
Author: kennytm <kennytm@gmail.com>
Date:   Mon Apr 8 10:17:20 2019 +0800

    .github: ask for the TiKV instead of rustc version in bug-report template (#4488)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 6ff46ed602017597823f5e868a1d37fadfd9ceab[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Apr 5 08:05:45 2019 +0800

    coprocessor:make end-point-enable-batch-if-possible configurable (#4472)
    
    Signed-off-by: Shirly <AndreMouche@126.com>
    
    <!--
    Thank you for contributing to TiKV! Please read TiKV's [CONTRIBUTING](https://github.com/tikv/tikv/blob/master/CONTRIBUTING.md) document **BEFORE** filing this PR.
    -->
    
    ## What have you changed? (mandatory)
    
    This PR makes `end-point-enable-batch-if-possible` configurable. However, This config will be removed once the batch computation is stable.
    
    
    Please **NOTE** that:
    - Do not assume reviewers understand the original issue
    
    ## How has this PR been tested? (mandatory)
    
    unit tests, integration tests, or manual tests
    
    ## Does this PR affect documentation (docs) update? (mandatory)
    
    no, we don't want the users to know this config.
    and once the batch computation is ready, this config will be removed.
    
    ## Does this PR affect tidb-ansible update? (mandatory)
    
    no
    
    ## Refer to a related PR or issue link (optional)
    
    ## Benchmark result if necessary (optional)
    
    ## Add a few positive/negative examples (optional)

[33mcommit 275cc123b73cdd3d54f6f07e20412b73a41b5dbe[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Apr 4 18:19:47 2019 +0800

    More friendly error messages (#4478)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit db26bb75d707f87e9990cc74d4db994b82e1b236[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Apr 4 17:30:46 2019 +0800

    Add execution summary framework (#4433)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    <!--
    Thank you for contributing to TiKV! Please read TiKV's [CONTRIBUTING](https://github.com/tikv/tikv/blob/master/CONTRIBUTING.md) document **BEFORE** filing this PR.
    -->
    
    ## What have you changed? (mandatory)
    
    Extracted from https://github.com/tikv/tikv/pull/3898
    
    This PR adds optional execution summary framework for batch executors. Additionally, as an example, it also includes the change that makes batch table scan executor supporting execution summary.
    
    ## What are the type of the changes? (mandatory)
    
    - New feature (change which adds functionality)
    
    ## How has this PR been tested? (mandatory)
    
    Unit test in batch table scan executor. Note that execution summary is implemented in scan executor, which is shared in both table scan and index scan, so index scan executor also benefits from this change.

[33mcommit 27558215844b8bc134f65216eec31dbd1a54d0c9[m
Author: Connor <zbk602423539@gmail.com>
Date:   Thu Apr 4 10:43:57 2019 +0800

    enlarge ingest stall buffer (#4464)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 4aff43d2651ef63d204ec00302212cd9bc6c09c8[m
Author: kennytm <kennytm@gmail.com>
Date:   Wed Apr 3 22:00:38 2019 +0800

    *: use fs::{read, read_to_string, write} where possible (#4457)
    
    * *: use fs::{read, read_to_string, write} where possible
    
    Signed-off-by: kennytm <kennytm@gmail.com>
    
    * util: replace `file::read_all` by the equivalent `fs::read` call
    
    It is only used in util/security.rs, where after the file is read it is
    immediately converted to a string. So the actual replacement is
    `fs::read_to_string`.
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit f9eb92964e692f1d7ffe0e176afbdd5840357699[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Apr 3 21:16:08 2019 +0800

    Check output offsets to avoid panic (#4467)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit c61427b2c9149c0275f196f35bf78fb3ad6f6b7b[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Apr 3 12:50:53 2019 +0800

    Refactor batch table scan tests (#4437)
    
    Signed-off-by: shirly <AndreMouche@126.com>

[33mcommit a8accfee9eba11c13be4713d7e2742d6f8cc607a[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Apr 2 18:26:58 2019 -0700

    scripts: Don't cp -b (#4465)
    
    The -b backs up .cargo/config in case there is some custom config there.
    -b doesn't work on macos though so just remove it. The risk of somebody
    having their own config there, while also using these custom configs
    is low.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 03108b5f71630ccfa91df927ceabd8ca37185296[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Apr 2 21:15:46 2019 +0800

    Introduce Vectorized Evaluation framework (#4322)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit d9fe9061bb652cef794ecf2b4c63d595b48f5244[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Apr 2 04:31:44 2019 -0700

    Add one more config for very fast builds (#4458)
    
    This is like dev-nopt but disables debug assertions and overflow checks
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit d7e793667610806df53ee8c0e7783bfce6bea32e[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Tue Apr 2 16:47:23 2019 +0800

    remove eleme user case (#4462)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 5a3ced50e48de7ec86cf666d47571d18e87d528d[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Apr 2 14:56:06 2019 +0800

    Reuse WriteBatch (#4439)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 4b48f1acafe477c9dd52720a36cfea326593b577[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Apr 1 21:45:38 2019 +0800

    Revert Freebsd (#4456) (#4460)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit 1ccc061df29ed4f1cbaa7316d5a2157b42f4b0cb[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Mon Apr 1 20:57:20 2019 +0800

    Reuse ScalarFunc::find_str in ScalarFunc::instr (#4446)
    
    Signed-off-by: iosmanthus <myosmanthustree@gmail.com>

[33mcommit 56a9a37a7c3357f9ced12ce6534f128b750c43dc[m
Author: Fu Chen <cfworking@163.com>
Date:   Mon Apr 1 09:28:59 2019 +0800

    storage: use static metrics for KV_COMMAND_COUNTER (#4442)
    
    * storage: use static metrics for KV_COMMAND_COUNTER
    
    Signed-off-by: fredchenbj <cfworking@163.com>

[33mcommit 3e0f62b507599f66ce6dcb31390b60d1283c9198[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Sun Mar 31 18:01:08 2019 -0700

    Freebsd (#4456)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit dd300ba1577d5efa93de60d5c83de5127bbefe49[m
Author: myguyy <49013940+myguyy@users.noreply.github.com>
Date:   Sun Mar 31 20:18:36 2019 -0400

    Call cargo audit and cargo search when necessary (#4449)
    
    Signed-off-by: myguyy <49013940+myguyy@users.noreply.github.com>

[33mcommit 2b0296b7c779afc89c8a0dc64e31a6b41d0d035c[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Sat Mar 30 18:40:22 2019 -0700

    Cargo profiles with faster compile times (#4415)
    
    * makefiles: add targets for experimenting with cargo profiles
    
    As part of #4189, this sets up a way to add a 'third' profile beyond the
    cargo-default 'dev' and 'release', as well as experiment generally with cargo
    profiles by overlaying cargo config files.
    
    Cargo config files contain many options beyond Cargo.toml that can affect build
    time.
    
    This setup is intended to be temporary until a satisfying set of profiles is
    found, at which point the config files and makefile rules will be integrated
    into Cargo.toml and the existing makefile rules.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * Use debug=true for prod
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * Move scripts from etc/ to scripts/
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * makefile: Use per-target env-vars
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * makefile: Set up compile-time-optimized configs for every profile
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 8565f99812d7375f4f0b18c304b6df13bb5c4865[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Sat Mar 30 05:34:31 2019 -0700

    Allow logger cleanup on fatal!() (#4448)
    
    This clears the slog_global logger before exiting. It should prevent the
    process from exiting prior logs all being flushed.
    
    Related to #3387, #4328, #4358
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit cb0e3046ca315ce00964b9bf11bd210c08f4ccdf[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Mar 29 15:24:16 2019 +0800

    raftstore: flush store stat correctly (#4436)

[33mcommit 6847e92ead985340da31f53ededfdeb2a37505e5[m
Author: xiaobogaga <m18202787110@gmail.com>
Date:   Fri Mar 29 12:23:19 2019 +0800

    fix typos in comment. (#4451)
    
    * fix typos in comment.
    
    Signed-off-by: xiaobogaga <m18202787110@gmail.com>
    
    * fix typos in error output
    
    Signed-off-by: xiaobogaga <m18202787110@gmail.com>

[33mcommit e0e8643f7220edfd5b0699ab2d9ae57d84f0e47e[m
Author: Sean Yu <seansu4you87@gmail.com>
Date:   Thu Mar 28 19:54:59 2019 -0700

    Consolidating all `rocksdb` imports for `src` (#4416)
    
    - All external crate imports have been consolidated into
    `crate::storage::engine::rocksdb_engine`.
    - These exports are re-exported out of `crate::storage::engine`
    - These imports are also migrated for components and bench
    - The original `rocksdb` crate has been renamed to `rocksdb_do_not_use`
    for extra clarity on not directly using the crate
    
    Signed-off-by: Sean Yu <seansu4you87@gmail.com>

[33mcommit 4732c06c8ca5e75f726d5791f34e7413b090a60a[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Mar 28 17:37:54 2019 +0800

    *: simplify seek region interface (#4443)
    
    Seek region required two callbacks and returned an additional result to
    indicate whether it exceeded the limit or reached the end. It's too
    complicated and limited. This PR makes it accept an arbitrary closure
    so that users can do whatever they want without touching RegionInfoAccessor.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit d94fb75e0c62f126af78db6f294c77ac0722adb5[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Mar 27 21:19:48 2019 +0800

    Add batch index scan executor (#4419)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit f0a1d0c00734804155c1e777e9f1a92097fff42a[m
Author: asn <yaalsn@gmail.com>
Date:   Wed Mar 27 19:50:30 2019 +0800

    is_ipv4_compat and is_ipv4_mapped expression for coprocessor (#4407)
    
    Signed-off-by: yaalsn <yaalsn@gmail.com>

[33mcommit 2a418abbc8e44a606824ccee0628e82f1881e760[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Wed Mar 27 17:21:27 2019 +0800

    raftstore: reduce clones when compact regions (#4115)

[33mcommit c9bb55ddc5843404c1d5e147031453f4c16758ae[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Mar 26 19:22:39 2019 -0700

    Use a non-empty DEFAULT_DATA_DIR (#4393)
    
    * Use a non-empty DEFAULT_DATA_DIR
    
    This fixes a problem where, if one is using the default, then on
    startup, the check_data_dir sanity check fails, printing a warning to
    the console that would be easy to ignore.
    
    I gather this doesn't cause problems elsewhere because other code is
    calling `join` to create subpaths.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit c92984bd780d4d7b4b42f7fae81f02a3a045b285[m[33m ([m[1;33mtag: v3.0.0-beta.1[m[33m)[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Mar 26 11:30:49 2019 +0800

    Bump to 3.0.0-beta.1 (#4432)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 123282f748a83d3142f9728becc1ab5b4b12a27f[m
Author: Xiaoguang Sun <sunxiaoguang@users.noreply.github.com>
Date:   Tue Mar 26 10:26:19 2019 +0800

    Add @sunxiaoguang to MAINTAINERS.md (#4397)
    
    * Title: Add @sunxiaoguang to MAINTAINERS.md
    
    My name is Sun Xiaoguang from Zhihu, where I help make a BigTable like system focusd on OLTP that is using TiKV. I've been contributing to TiKV and the library ecosystem for around a year now. I first touched the TiKV codebase since around March 2018.
    
    As part of my involvement with the project I've contributed several improvements to the TiKV Project:
    
    * [Added raw batch put/get/delete/scan](https://github.com/pingcap/kvproto/pull/244)
    * [Changed `get_region` and `get_region_info` to use a common implementation](https://github.com/tikv/tikv/pull/3521)
    * [Print help message when starting tikv-ctl without argument](https://github.com/tikv/tikv/pull/3531)
    * [Clean up unused #[allow] directives](https://github.com/tikv/tikv/pull/3553)
    
    I also am the first and primary author of the [TiKV Rust Client](https://github.com/tikv/client-rust). You can see related PRs for that here:
    
    * [TiKV Rust Client RFC](https://github.com/tikv/rfcs/pull/7)
    * [The initial version of Raw KV Implementation](https://github.com/tikv/client-rust/pull/14)
    * [Change `raw::Client::get` to return `Option<Value>`](https://github.com/tikv/client-rust/pull/24)
    * [Remove cf and batch_scan from `example/raw.rs`](https://github.com/tikv/client-rust/pull/21)
    
    I also made the first PR to the mock TiKV project: [A basic implementation of mock TiKV API surface](https://github.com/tikv/mock-tikv/pull/1)
    
    As part of my involvement, the TiKV team inquired if I was interested in becoming a maintainer for the project.
    
    This PR adds me to the list of maintainers. I have read and understand the expectations of maintainers described in the `GOVERNANCE.md` file.
    
    Signed-off-by: Xiaoguang Sun <sunxiaoguang@zhihu.com>

[33mcommit 93919cba048bd713a04141f01bef871199cf4c73[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Mar 25 17:52:47 2019 +0800

    raftstore/store: take snapshots in apply worker (#4379)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit cbfb0667dbe8bc170cf629c0048dec46ad82e5cb[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Mar 25 11:32:14 2019 +0800

    misc: fix mail in maintainers.md (#4429)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 1093fcaca79906d930cbd99841c708b8f1902532[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Mar 23 23:56:02 2019 +0800

    kvproto: update to use lite-runtime (#4425)
    
    In release mode, compilation time reduce one or two minutes. It's
    not significant in debug mode though.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit deb87cf59c39a2d688f2232992121acadd3cfa1d[m
Author: niedhui <niedhui@gmail.com>
Date:   Sat Mar 23 16:10:14 2019 +0800

    refactor TableScanExecutor and IndexScanExecutor (#4089)

[33mcommit 6a25ce9f1148db0cc81eae32112ab8688d20710b[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Sat Mar 23 00:10:42 2019 +0800

    raftstore: modify the boot order of raft batch system (#4420)
    
    * util/metrics: add thread context switch metrics
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * util/metrics: divide thread context switch metrics into two categories
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * util/metrics: use IntCounterVec to collect ctxt switches metrics
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * raftstore/store.rs: modify boot order of raft batch system
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit c99617010ff09ff67deb57c1c3bf3655bfd5b51c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Mar 22 16:03:51 2019 +0800

    *: add a procedure that upgrades data from v2 to v3 (#4381)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit dfcf778a36ca4a3f1075236be2603d5cf659b512[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Mar 22 14:24:17 2019 +0800

    Fix incorrect default value handling in batch table scan executor (#4418)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit c9bbb90c62606829894c93fb50321ff2a6493277[m
Author: Xuanwo <xuanwo.cn@gmail.com>
Date:   Fri Mar 22 13:20:30 2019 +0800

    storage/engine/rocksdb: Add cfg for ErrorHeader to fix compile warning (#4408)
    
    Signed-off-by: Xuanwo <xuanwo.cn@gmail.com>

[33mcommit d59159004e2ff09d4c9495872bcedbcbf36e1306[m
Author: TigerInYourDream <48358093+TigerInYourDream@users.noreply.github.com>
Date:   Fri Mar 22 10:47:32 2019 +0800

    implement builtin function instr (#4337)
    
    Signed-off-by: TigerInYourDreams <TigerInYourDream@hi.zy>

[33mcommit e863e45b3b8ce0b36d24eb27f3f6ed4782ff4a23[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Thu Mar 21 08:54:59 2019 -0700

    Update maintainers.md format (#4403)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 9e56c1da17ccdb631ddf8ff0e8c8e5fbbd7d4ef4[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Thu Mar 21 19:28:33 2019 +0800

    Copr/ScalarFunc: improve instr_binary/locate/locate_binary (#4378)
    
    * Copr/ScalarFunc: improve instr_binary/locate/locate_binary
    
    - improve locate_binary_2_args, locate_binary_3_args and instr_binary by
    using two-way string matching algorithm
    - improve locate_2_args and locate_3_args by removing unnecessary traverse and if statements
    
    Signed-off-by: iosmanthus <myosmanthustree@gmail.com>

[33mcommit 84dfa0c63f135c334b5009549339f8b53fc1fdf0[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Mar 21 17:55:20 2019 +0800

    coprocessor/endpoint:disable batch executor since it is not ready (#4417)
    
    Signed-off-by: AndreMouche <AndreMouche@126.com>

[33mcommit c226478d5a59f00106d2ff54edd7582ecd0e6ba8[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Mar 21 14:01:56 2019 +0800

    Adds BatchTableScanExecutor (#4351)

[33mcommit 5a0c02d5b8e81d8b6a63138369cb00fb0e8308c9[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Mar 21 12:31:06 2019 +0800

    Support transform exp tree into RPN (#4329)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit c66be6a86aa38efd8743c561eac6c3b26f532d98[m
Author: Fuyang Liu <liufuyang@users.noreply.github.com>
Date:   Thu Mar 21 05:07:26 2019 +0100

    Minor fixup - use single quote in error message (#4413)
    
    Signed-off-by: Fuyang Liu <liufuyang@users.noreply.github.com>

[33mcommit ac1170350e900c04e95d7a44a7d409eb352a3f85[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Mar 20 20:20:18 2019 -0700

    tikv_alloc: abstract some new jemalloc code (#4411)
    
    * tikv_alloc: abstract some new jemalloc code
    
    This renames the jealloc_metrics module to allocator_metrics, does
    similar for the code inside it. It implements a no-op fetch_stats
    method for the system allocator.
    
    It marks the jemalloc-sys and jemalloc-ctl crates as optional,
    so that they might not be compiled when jemalloc is disabled.
    
    It's not actually possible disable the jemalloc features in this PR
    because there is no way to turn off the default-features of the
    tikv_alloc crate. A followup in tikv#4207 will make it possible.
    
    It also moves a `mod` to after some `use` statements.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit fc6b483a6cd9a12c024b551c63f7880e147890d2[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Thu Mar 21 07:31:59 2019 +0800

    update the adopter list to latest (#4401)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit a6e6feb5ef6166e1bd34825e70fba97966ac3d89[m
Author: kennytm <kennytm@gmail.com>
Date:   Wed Mar 20 18:09:56 2019 +0800

    import: refactor concurrency mode (#4386)
    
    * import: refactor concurrency mode
    
    Jobs are now processed dynamically using a channel instead of predestined,
    to prevent a single slow thread blocking the entire process.
    
    Signed-off-by: Lonng <chris@lonng.org>
    
    * address comment
    
    Signed-off-by: Lonng <chris@lonng.org>
    
    * import: address comment
    
    Signed-off-by: Lonng <chris@lonng.org>
    
    * import: address comment
    
    Signed-off-by: Lonng <chris@lonng.org>
    
    * import: address comment
    
    Signed-off-by: Lonng <chris@lonng.org>

[33mcommit 161c06f7b9259394dd7df3a506a7b2b51c3487b3[m
Author: Fu Chen <cfworking@163.com>
Date:   Wed Mar 20 16:23:13 2019 +0800

    storage: use static metrics for raw read (#4383)
    
    Signed-off-by: fredchenbj <cfworking@163.com>

[33mcommit f4a8ea3cc0313339d3446a15abd858601fc85bf4[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Wed Mar 20 05:49:13 2019 +0800

    readme: update WeChat contact info (#4354)
    
    * add Communication section in readme
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit eef146c66cefacf5579a550350efb354abb0793f[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Mar 19 13:47:37 2019 +0800

    Makefile: check sse4.2 only in release (#4399)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 3f10327e648b4c1c6935154f8bca4e2abd894419[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Mon Mar 18 16:41:20 2019 -0700

    Add governance (#4261)
    
    * Initial Envoy import
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * TiKV related changes
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Apply suggestions from code review
    
    Co-Authored-By: Hoverbear <operator@hoverbear.org>
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Reflect comments
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * We use Rust not C++
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 3c6bc8f058ce9239ef67642bdc7dc2c6ecca0e8b[m
Author: Fuyang Liu <liufuyang@users.noreply.github.com>
Date:   Mon Mar 18 06:36:45 2019 +0100

    Fix 4327 - make float_str_to_int_string append warning (#4336)
    
    Signed-off-by: Fuyang Liu <fli@tradeshift.com>

[33mcommit 39e17b51e8224ae7f50467c489723f0d31942dfb[m
Author: Iosmanthus Teng <MyOsmanthusTree@gmail.com>
Date:   Fri Mar 15 17:34:40 2019 +0800

    remove Copy trait of Tz/EvalConfig (#4380)
    
    Signed-off-by: iosmanthus <myosmanthustree@gmail.com>

[33mcommit becec689146467090445502f02863d163d30bf54[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Thu Mar 14 23:23:32 2019 -0700

    Add CII badge (#4357)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 630a469b502b6d09c7e8e3b4e469c41aa594c491[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Mar 15 11:36:54 2019 +0800

    Serialize KVs in CI log (#4371)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 01ca7269320590a4a9360877f4fd2d241e3db71e[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Fri Mar 15 10:22:05 2019 +0800

    storage/reader: Avoid some copy in mvcc reader (#4373)
    
    * Avoid some copy in mvcc reader
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 970c1c8eb49a16864540a4ac3a45030992943fc3[m
Author: TigerInYourDream <48358093+TigerInYourDream@users.noreply.github.com>
Date:   Thu Mar 14 19:51:31 2019 +0800

    Copr/ScalarFunc: Fix the bug for instr_binary (#4353)

[33mcommit 9b7513e565f6b017efd5d544d575676c445f2370[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Mar 14 17:55:21 2019 +0800

    Remove ErrorRequestHandler (#4303)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 7165e0f3c10104810b7533985f48ea78e4eab07b[m
Author: Fu Chen <cfworking@163.com>
Date:   Thu Mar 14 14:01:03 2019 +0800

    rocksdb: config auto tuned rate limiter (#4335)
    
    Signed-off-by: fredchenbj <cfworking@163.com>

[33mcommit 5ba0e44aefecf1b289073c660f7e07eedcc99b41[m
Author: kennytm <kennytm@gmail.com>
Date:   Thu Mar 14 10:53:18 2019 +0800

    import: do not read the entire SST into memory (#4349)
    
    * import: do not read the entire SST into memory
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 5b45391cf105bc6b483573983426af3315f44b67[m
Author: yiwu-arbug <yiwu@pingcap.com>
Date:   Wed Mar 13 17:48:30 2019 -0700

    Export jemalloc metrics to prometheus (#4332)
    
    Signed-off-by: Yi Wu <yiwu@pingcap.com>

[33mcommit c8d405944016e86357e8731f6ccabe7ab6fe68ee[m
Author: kennytm <kennytm@gmail.com>
Date:   Wed Mar 13 17:10:44 2019 +0800

    import: wait after split before scatter (#4352)
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 4144ab0c28502c0da6626856db9109496c312938[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Mar 13 15:15:23 2019 +0800

    Introduce context for AsMySQLBool and remove BatchExecutorContext (#4346)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 89a470a8818d4ed80fff7cd13cac2f81c36614bd[m
Author: Nick Cameron <nrc@ncameron.org>
Date:   Wed Mar 13 18:51:12 2019 +1300

    Miscellaneous tidying up (#4300)
    
    Signed-off-by: Nick Cameron <nrc@ncameron.org>

[33mcommit d5105e573a5296fe3d675325707d78e63e43efd8[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Mar 13 12:09:48 2019 +0800

    server/node: allow restart with a StoreIdent when cluster not boostrappped (#4334)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 7c268f1fbcc7bd3ec3a4ec9405c6354929ba4de8[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Mar 13 11:16:17 2019 +0800

    raftstore: refactor logs in fsm/apply.rs (#4326)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 3aca4b085c68494cc72f4b68cdb80a4c57a51877[m
Author: caojiafeng <funfriendcjf@gmail.com>
Date:   Wed Mar 13 10:40:22 2019 +0800

    copr: impl replace function (#4360)

[33mcommit 2ff0dc9befd4a8882fb38c63e32dfd20e88da89b[m
Author: kennytm <kennytm@gmail.com>
Date:   Tue Mar 12 19:32:55 2019 +0800

    import: store the intermediate SST files on disk instead of memory (#4348)
    
    * import: store the intermediate SST files on disk instead of memory
    
    The bottle-neck of Importer is in SST ingestion on the TiKV side, not
    disk I/O. Storing these SST in RAM will just increase the chance Importer
    getting killed by OOM.
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 95a2f9aefec4c5b838eff2bda160235e97d11eda[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Mar 12 14:59:43 2019 +0800

    storage/mvcc: return error when mvcc corruption (#4315)

[33mcommit 5cb9ac9b0fd78d5c32815ae011a30ccf34e65fcf[m
Author: kennytm <kennytm@gmail.com>
Date:   Tue Mar 12 12:37:57 2019 +0800

    import: fix #4257, restrict memory usage by RocksDB (#4350)
    
    * import: put index and filter in block cache to restrict memory usage
    
    Signed-off-by: Lonng <chris@lonng.org>

[33mcommit cc70ef3aa1c420b610d7b2f28394ee40079f08d8[m
Author: kennytm <kennytm@gmail.com>
Date:   Tue Mar 12 10:36:07 2019 +0800

    import: increase default region-split-size to 512 MiB (#4347)
    
    This makes the SST size to upload larger, which reduces the number of SST
    files needed to ingested, and improve overall speed.
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 1907900174303ed87bc7046dbb39a896c61ac701[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 12 10:11:14 2019 +0800

    *: update contributing guide (#4325)
    
    * Update CONTRIBUTING.md
    
    Co-Authored-By: disksing <i@disksing.com>
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit 6aee17ab420f513b6c6c60329a00720766443d8d[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Mar 11 20:20:06 2019 +0800

    mvcc/reader/scanner: refactor ScannerBuilder (#4292)

[33mcommit 815f419c8129fcdf81d0d4f4bdd67828021858e5[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Mar 11 16:10:17 2019 +0800

    Implements AsMySQLBool (#4321)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 5a296bc4ff9bc36a7d7da0732de1c5ba85d5c176[m
Author: TigerInYourDream <48358093+TigerInYourDream@users.noreply.github.com>
Date:   Mon Mar 11 09:13:38 2019 +0800

    implement builtin_string/instr_binary (#4340)
    
    Signed-off-by: TigerInYourDreams <TigerInYourDream@hi.zy>

[33mcommit 206209fbcc4c45ae50e1a66fc5df3ac39a6570f1[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Mar 7 21:24:25 2019 +0800

    Introduce vector_like (#4320)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 3f1e577e850a7b3dd372642a6bfca32db623bd57[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Mar 7 19:37:19 2019 +0800

    config:write important config into metrics (#4206)

[33mcommit 074f2d2fb05559471587c8f1d310cbb80d01de1a[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Thu Mar 7 15:05:57 2019 +0800

    Copr: implement sub_datetime_and_duration and sub_datetime_and_string (#4269)

[33mcommit 7aadfe95939dfc5d2b0b4794c7d87e992718b938[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Mar 6 18:20:49 2019 +0800

    raftstore/store: unified log format  (#4307)
    
    * raftstore/store: unified log format
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 7ae2fe0d9d1f07877417a1fb8bb9ec2d9ae88b75[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Mar 6 14:54:30 2019 +0800

    Adds functions to build batch executors (#4243)

[33mcommit 0c2d1422ae1b68f3588b1e8b3c0d278d5865f3da[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Mar 5 15:43:04 2019 +0800

    Makefile: check sse4.2 for tikv targets (#4314)
    
    * Makefile: check sse4.2 for tikv targets
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit e462c0af0c8a8234da731141c66be5f5f6f29ddb[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Mar 5 14:57:24 2019 +0800

    raftstore: remove message box/unbox (#4232)
    
    This PR removes the redundant enum Msg introduced in #4066, which aimed to maintain a compatible layer and made refactor more smoothly. Now that the PR is merged, it's time to clean up. This PR also simplifies the signature of simulate transport by merge SendFilter and RecvFilter as a unify Filter.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit f95302ee68271ed286a128096d694f4968a9795e[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Tue Mar 5 07:34:19 2019 +0800

    readme: add Communication section in readme (#4285)
    
    * add Communication section in readme
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * add square brackets for email link.
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>
    
    * address comments from Ana
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 43f5b10a652d612feaeda0bf40c9cabc720918a5[m
Author: Panda <1017109588@qq.com>
Date:   Mon Mar 4 13:05:31 2019 +0800

    Remove `extern crate` statements from the repo (#4297)
    
    Signed-off-by: Panda <itwujunze@163.com>

[33mcommit aa508ef4cd4c147a311e95abfce81dcb2fc4b6dd[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Mar 4 10:41:56 2019 +0800

    tiny typo (#4305)

[33mcommit 192cd352667fa52fb0f205a0ad517b12ae9f150e[m
Author: Connor <zbk602423539@gmail.com>
Date:   Sat Mar 2 10:31:31 2019 +0800

    raftstore: fix merge panic when multiple snapshots (#4198)

[33mcommit 9d5f334f65abae71e2727297c9e5bbd6ce96cfbf[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Fri Mar 1 19:07:26 2019 +0800

    minor fix (#4296)
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit c772ec291d0c6dc58361cc57f04170c98857285f[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Mar 1 18:06:30 2019 +0800

    Implements batch executor handler (#4242)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 371b6645642e3d8a2b645b03f50854897746b6b4[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Fri Mar 1 17:47:33 2019 +0800

    importer: Update log and key format for src/import (#4145)
    
    * unified log format
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * minor fix
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/import.rs
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>
    
    Co-Authored-By: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/prepare.rs
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>
    
    Co-Authored-By: DorianZheng <xingzhengde72@gmail.com>
    
    * hex format keys
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * minor fix
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/import.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/sst_service.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/sst_importer.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/sst_importer.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/prepare.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/sst_importer.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/prepare.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/kv_service.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/kv_service.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/import.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/import.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/import.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/import.rs
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>
    
    Co-Authored-By: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/prepare.rs
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>
    
    Co-Authored-By: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/import.rs
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>
    
    Co-Authored-By: DorianZheng <xingzhengde72@gmail.com>
    
    * Update src/import/prepare.rs
    
    Make huachao happy
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * minor fix
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit 7d16e0b20d9dde257f327dc4dd955e06d00066d8[m
Author: Connor <zbk602423539@gmail.com>
Date:   Fri Mar 1 17:09:34 2019 +0800

    raftstore/coprocessor: update log and key format (#4135)
    
    * format log
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 456949e8747be0d5839d854b426aab16afb3df5a[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Mar 1 16:00:06 2019 +0800

    mvcc/reader:refactor the directory (#4298)

[33mcommit aaafd4dd7478967f99912b4f7729609ca20ee038[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Mar 1 14:17:14 2019 +0800

    raftstore/store: unified log format (#4177)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 5c794295525e9e13cf7a00a0368784446d767e9e[m
Author: JoeWrightss <42261994+JoeWrightss@users.noreply.github.com>
Date:   Fri Mar 1 10:08:21 2019 +0800

    Fix typo in pd-control.md (#4299)
    
    Signed-off-by: zhoulin xie <zhoulin.xie@daocloud.io>

[33mcommit 6f5180b5fc929ad68e042eda91f82d371e3a9a62[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Thu Feb 28 09:41:43 2019 -0800

    Add make audit (#4265)
    
    * Add make audit
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Clean debugging symbols
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Fixup
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Relocate variables
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit e2e9625a396cee537f7f9e83631452361e6f3caa[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Feb 28 21:02:25 2019 +0800

    Adds batch executor interfaces (#4241)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit c432452dd71831e5ebb486bdcd4763b9535c085c[m
Author: dongxu <i@huangdx.net>
Date:   Thu Feb 28 11:24:19 2019 +0800

    config: add metrics pushgateway addr parameter (#4279)
    
    * config: add metrics pushgateway addr parameter
    
    Signed-off-by: c4pt0r <i@huangdx.net>

[33mcommit e53a8c21d77d8ce0e06b855fbe31ee9f8cd525a2[m
Author: CrLF0710 <crlf0710@gmail.com>
Date:   Wed Feb 27 18:03:24 2019 +0800

    Add `dyn` to trait object syntax. (#4197) (#4217)
    
    Signed-off-by: CrLF0710 <crlf0710@gmail.com>

[33mcommit bdf9d0062d49ba373768b05f5eacdbe343acf545[m
Author: 5kbpers <20279863+5kbpers@users.noreply.github.com>
Date:   Wed Feb 27 14:54:01 2019 +0800

    util/metrics: add thread context switch metrics (#4282)
    
    * util/metrics: add thread context switch metrics
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * util/metrics: divide thread context switch metrics into two categories
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>
    
    * util/metrics: use IntCounterVec to collect ctxt switches metrics
    
    Signed-off-by: 5kbpers <tangminghua@pingcap.com>

[33mcommit 78dae75a929433d5116b4c74d087d432932c1b37[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Feb 27 12:55:24 2019 +0800

    pd: unified log format (#4108)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 5c59cc2ceff725947c387b769a622c4b9b42b365[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Wed Feb 27 11:13:39 2019 +0800

    Add encryption support for importer (#4278)
    
    * coarse implementation of supporting encrypted mode for lightning
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * add encryption support for importer
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * minor modify
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * minor modify
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * make format
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit 9a6656078df9f606b5752495ccd56dec7dbafe61[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Feb 26 23:49:50 2019 +0800

    *: ignore tombstone stores (#4223)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit a8f16c2a59f6f0b9fb4cd2044ebaf8bee9f5a169[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Tue Feb 26 17:52:57 2019 +0800

    Fix range properties (#4174)
    
    * upgrade titan
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * calculate blob index size
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * add value.len() even if the type is blob
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * add test case
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * minor fix
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * minor modify
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * extract function
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * fix bug
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * remove redundant import
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit 86c8985267e84450da3544bdc41eb2d62dfca740[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Feb 26 15:04:11 2019 +0800

    server: Update log format for server (#4275)

[33mcommit 777ed4644529a0f8ddbe56a38895b77dfeabab3b[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Feb 26 14:17:53 2019 +0800

    raftstore/fsm/peer: use new log format (#4277)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit c56e678fd4ff297ee62740b2c0cd03e94d54caca[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Feb 26 11:31:10 2019 +0800

    Introduce ScalarValue (#4240)

[33mcommit 6bb64e1ca50c3b20189b33677dd4901588337c45[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Mon Feb 25 13:45:30 2019 -0800

    Harmonize the help output (#4201)
    
    * Harmonize the help output
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>
    
    * Reflect nits
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit a4edc31a0a89e720597372c164bdbe1192b3b182[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Mon Feb 25 19:48:08 2019 +0800

    Update log for server/service (#4276)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 29d608af9211859417836b4771ac9752cb38d323[m
Author: Fu Chen <cfworking@163.com>
Date:   Mon Feb 25 16:59:49 2019 +0800

    storage: direct local reader for raw read (#4222)
    
    * direct local reader for raw read
    
    Signed-off-by: fredchenbj <cfworking@163.com>
    
    * fix little typos
    
    Signed-off-by: fredchenbj <cfworking@163.com>
    
    * fix bug about _timer
    
    Signed-off-by: fredchenbj <cfworking@163.com>
    
    * little fix to pass make format
    
    Signed-off-by: fredchenbj <cfworking@163.com>
    
    * fix typos of _timer
    
    Signed-off-by: fredchenbj <cfworking@163.com>
    
    * handle errors more properly
    
    Signed-off-by: fredchenbj <cfworking@163.com>
    
    * use another feasible way
    
    Signed-off-by: fredchenbj <cfworking@163.com>
    
    * fix little to pass ci
    
    Signed-off-by: fredchenbj <cfworking@163.com>
    
    * remove unnessary variables
    
    Signed-off-by: fredchenbj <cfworking@163.com>
    
    * little fixes
    
    Signed-off-by: fredchenbj <cfworking@163.com>

[33mcommit da73bc7faa7cfb592044159e40d98b6cf542340a[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Feb 25 15:53:56 2019 +0800

    Implement encode functions for VectorValue and LazyBatchColumn(Vec) (#4215)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit f581a9597ce3ce6acdb224d7685d1b83c6d0cb57[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Feb 25 15:02:36 2019 +0800

    add metrics for key exceed bound (#4255)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 5a1c74732fdd00136ded5b11bb7d934cd752a866[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Feb 25 13:03:15 2019 +0800

    *: remove tokio runtime (#4256)
    
    * *: remove tokio runtime
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit f97f21835ec3b838d7d006dd6797a916073aaf5f[m
Author: JoeWrightss <42261994+JoeWrightss@users.noreply.github.com>
Date:   Sun Feb 24 23:16:31 2019 +0800

    Fix typo in pd-control.md (#4270)

[33mcommit 48a19e1ba72e99b6a5207fdb1a603790339a4170[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sun Feb 24 14:12:11 2019 +0800

    use SeqCst to make things simple in places where called not frequently (#4268)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 56c1c6c2fbf6e357e0778b81f41343c52c91fddf[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Sat Feb 23 05:15:37 2019 -0800

    log_wrappers: add tikv_alloc dep (#4267)
    
    This fixes the error generated by check-bins-for-jemalloc.sh
    
    I also added more info to the error message in the script,
    indicating how to fix the problem.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 1e3ec1604087e7e4ba1cd439ceeb67cd323b91c0[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sat Feb 23 09:29:48 2019 +0800

    Add option to decide panic or not when key exceed bound (#4254)

[33mcommit 734d572233a1576162957c16256dc6e1cb78831d[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Sat Feb 23 05:52:06 2019 +0800

    re-add comment style guide for merge (#4259)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 6484356273686b9018f4ced37c0b9cea5936af1f[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Feb 21 19:46:58 2019 +0800

    tests: stable test_stale_read_during_merging (#4253)

[33mcommit e1984bcc3c3ed96544eb4012da71137509f7d145[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Feb 21 15:12:35 2019 +0800

    support encryption for data store in disk (#3936)
    
    * support encryption for data store in disk
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * update rocksdb
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * create encypted env from cipher file
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * trim head and tail space for cipher file
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * use the kv_count instead of the file size to indicate if the sst file is empty
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * load_latest_options use specified env
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * tikv-ctl: use encrypted env
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * update kv_count for plain file cfs
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * tikv-ctl support cipher-file
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * add encrypted env for snapshot tests
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * address comments
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
    
    * address comments
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit e26ceadcdfe94fb6ff83b5abb614ea3115394bcd[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Feb 21 10:27:28 2019 +0800

    Further Refine LazyBatchColumn(Vec) (#4214)

[33mcommit d747000efe23d768041be9a8d1a887d6b339fee4[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Feb 20 10:43:52 2019 +0800

    raftstore/batch: cleanup test code (#4128)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 62f1de0a567609396b844e43d470c46e70640214[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Feb 20 10:22:52 2019 +0800

    fix a typo (#4236)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 55eff8a5fb3a7b447cf987120edf2b80a9ad8e7f[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Feb 19 19:22:23 2019 +0800

    Refine LazyBatchColumn(Vec) (#4213)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit b0438ee4692b9e799bd5f5a6ed0dc7572769705b[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Feb 19 18:57:19 2019 +0800

    server: bind port lazily when it's configured (#4228)
    
    This PR make TiKV only listens to given port when it's started. Note that listening to port before everything is prepared is a mistake and can lead to unexpected bugs like #4224.
    
    Binding port before server is started is required by our tests to avoid port conflict. So this PR delays binding port only when it's configured.

[33mcommit 5376c2b8563a5667b3842e5feef1d4eaf0d98cd6[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Tue Feb 19 15:50:37 2019 +0800

    Fix a typo (#4231)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 43a97897319f8e8112bc4156747f7fcbca90adc9[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Feb 19 14:02:39 2019 +0800

    prewrite only when keys are not exist (#4085)

[33mcommit cb49fef6f262c64233c292e39083f56cff985009[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Feb 19 10:44:00 2019 +0800

    Rename BatchRows to LazyBatchColumnVec (#4212)

[33mcommit 46f16fa3517257674c751462f6e5d821bd3ba1f2[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Feb 18 11:08:41 2019 +0800

    raftstore: make batch strategy more fair (#4200)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 522b0666f546afa8f4eab4f9404f6607eae5af18[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Sun Feb 17 23:32:10 2019 +0800

    Extract LazyBatchColumn (#4211)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 2468927a6c3220e307240cbc82acf56b2722ca5b[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Sun Feb 17 11:31:08 2019 +0800

    Improve PR category (#4210)

[33mcommit 8de58add8ca887cb8cff2a41940a3c73cddbc46b[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Feb 15 14:24:52 2019 +0800

    Extract clone_vec_with_capacity into util (#4209)

[33mcommit 42eb6a071909c1e38cc086394ae18f91b1335694[m
Author: Ana Hobden <operator@hoverbear.org>
Date:   Thu Feb 14 19:43:39 2019 -0800

    Create CODE_OF_CONDUCT.md (#4216)
    
    Signed-off-by: Ana Hobden <operator@hoverbear.org>

[33mcommit c0a8a67b904e8ac6e0276080c42f3ff26b29d036[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Feb 15 11:29:16 2019 +0800

    Rename BatchColumn to VectorValue (#4208)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit d2eeae25ff9be20bad55d1be756de5ca6c35350f[m
Author: He Cao <caohe9603@gmail.com>
Date:   Fri Feb 15 10:11:26 2019 +0800

    coprocessor/dag/expr: implement SubDurationAndDuration (#4187)

[33mcommit 25b62e3700e266af6aebcd72ce26be97071cdabe[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Thu Feb 14 18:40:40 2019 +0800

    Copr: Implement checked_add and checked_sub for Mysql Time and Duration (#4147)

[33mcommit e78fb63e52069059484acd53c01b78b54f4cb029[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Feb 14 13:54:23 2019 +0800

    Remove unnecessary :: (#4203)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit e431dda513c6a0422be6d79d574cb09217cb126a[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Feb 12 16:11:30 2019 +0800

    import: enable auto compactions in import mode (#4086)
    
    Disabling auto compactions in import mode leads to some problems:
    1. a lot of files will be accumulated in level 0, which slows down the
       sst ingestion
    2. if a tikv restarts accidentally, it will stall for a long time
    3. if we forget to switch back to normal mode after importing, tikv
       will perform very bad
    
    Enabling auto compactions also simplifies the import process because
    we don't need to compact every batch. According to previous tests,
    compactions are not the bottleneck during importing data with
    tidb-lightning.
    
    All in all, I think disabling auto compactions in import mode does
    more harm than good.
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>

[33mcommit 25bae7023d796b18449116da9bb67a7aec518698[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Feb 12 12:02:47 2019 +0800

    util: refactor logs. (#4192)
    
    * util: refactor logs.
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 709f409de4ce9bb55e84b5669f84e673d315a4fb[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sun Feb 3 21:53:32 2019 +0800

    not retry when closing (#4170)

[33mcommit 32f197be00936882b644f4aa725fbd71fd2a3817[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Feb 2 22:34:23 2019 +0800

    *: rename ambiguous rocksdb modules (#4179)

[33mcommit 8c898ce386922f33b303434b18e66e01318a834c[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Sat Feb 2 02:47:46 2019 -0800

    tikv/src/bin: clean up early errors and logging (#4176)
    
    * tikv/src/bin: clean up early errors and logging
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 08d5255a711f20a61784b89482dbdd11daac6da2[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Fri Feb 1 01:00:18 2019 -0800

    Configure criterion from command line arguments (#4169)
    
    * *: upgrade criterion to exactly 0.2.5
    
    Cargo.lock had this as 0.2.4, which does not seem to work with
    the current critcmp tool. This pins criterion to exactly
    the version critcmp is known to work with.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * benches: Configure criterion from command line args
    
    This will let them interpret --save-baseline correctly.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit f54fd4f13068314602c5b74d5f4667a3a7e79cdd[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Feb 1 15:43:02 2019 +0800

    *: check region epoch strictly (#4125)
    
    Checks region epoch strictly to avoid KeyNotInRegion errors.
    
    A 3 nodes TiKV cluster with merge enabled, after commit merge, TiKV A
    tells TiDB with a epoch not match error contains the latest target Region
    info, TiDB updates its region cache and sends requests to TiKV B,
    and TiKV B has not applied commit merge yet, since the region epoch in
    request is higher than TiKV B, the request must be denied due to epoch
    not match, so it does not read on a stale snapshot, thus avoid the
    KeyNotInRegion error.
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit a24ecf6daf55a393933f442d2f1457c9bd0280f7[m
Author: Connor <zbk602423539@gmail.com>
Date:   Fri Feb 1 12:08:50 2019 +0800

    test: fix no region contains key error (#4141)
    
    * fix no region contains key error
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 02ebbd69d0c7332e5776248122e0e59949317f57[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Thu Jan 31 15:51:38 2019 -0800

    Upgrade to Rust 2018 (#4138)
    
    * *: run rustfix --edition
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * components/*: turn on Rust 2018
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * components/*: fix 2018 path ambiguities
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * tikv: turn on Rust 2018
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * tikv: fix ambiguous paths
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * *: fix mutability warnings for 2018
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * *: use a 'test' import that rustfmt won't mangle
    
    rustfmt wants to convert ::test into test, which doesn't build.
    Hopefully it will leave crate::test alone.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>
    
    * *: run rustfmt
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit f2fc8a301452fab7642f044ae893d5486af53514[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Thu Jan 31 15:48:29 2019 +0800

    docs/tools: update pd-ctl and PD Recover (#4081)
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit 6157eb336e4a7ab587a39b18718949700776b042[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Jan 30 12:33:26 2019 +0800

    test: stabilize test_server_snap_gc (#4142)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 326bf8c3c9cb113f43d5b9fb2032531897e0fd7c[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Jan 29 17:02:49 2019 +0800

    tests: stable test_thread_load_statistic and util::mpsc::batch::test_receiver (#4134)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 66a8c6d3c5217ff5a08e2f158e80710c68f9764c[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Jan 29 16:04:52 2019 +0800

    stabilize test_region_change_observer (#4137)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit be84bd582fb88f925fa588b0975f4acf98b6c3cd[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Jan 29 14:55:35 2019 +0800

    config: enlarge max-manifest-file-size to 128MB (#4140)
    
    There two benefits:
    1. Save more versions for debugging when necessary.
    2. Avoid rewritting the whole manifest file frequently.
    
    However, a larger manifest file needs more time to recover.
    According to test, a 128MB manifest file takes about 4s to recover.
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>

[33mcommit 47cf23daf015de48cb3d11805298ca1dae199f83[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Mon Jan 28 18:00:23 2019 +0800

    src/storage: update log and key format (#4087)

[33mcommit dc0bd1e159df84885e3f21db0614bc0312f51910[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Jan 28 15:19:19 2019 +0800

    test: stabilize half split test (#4112)
    
    * stable half split test
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit bab6952fa868e5a2e04783b74c668685eaaade6b[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jan 28 13:38:57 2019 +0800

    *: use patch instead of component (#4129)
    
    * *: use patch instead of component
    
    Patch is the documented way to replace a dependency with a patched one.
    So it's recommanded to be used instead of component. Besides, using the
    same name for component package can confuse compiler sometimes and
    reports compilation error.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 15355d609a7fbdbe0a20910ee822ab523b04b688[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Jan 28 11:33:21 2019 +0800

    Cargo: disable procinfo on non-Linux (#4133)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 22957b7fdc805c63af4301072a3e7cc685681319[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Sat Jan 26 21:51:35 2019 +0800

    Fix event listener issue (#4126)
    
    * Check status of CompactionJobInfo
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * minor fix
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * minor fix
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * revert cargo
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * revert cargo
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit becaf906462cb2c592979d9a3b1a4a026843ce55[m
Author: disksing <i@disksing.com>
Date:   Sat Jan 26 19:53:02 2019 +0800

    raftstore/store/worker: use new log format (#4106)
    
    * raftstore/store/worker: use new log format
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit c176a9a04f8299e0da475ed6f321e37a07d0f621[m
Author: Calvin Weng <wenghao@pingcap.com>
Date:   Fri Jan 25 19:44:28 2019 +0800

    Update Raw KV API Doc (#4123)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 8cedefff39e37abc8557943f2493866b286663b3[m
Author: niedhui <niedhui@gmail.com>
Date:   Fri Jan 25 13:21:08 2019 +0800

    use self.is_point for start_scan and stop_scan (#4119)

[33mcommit c8ff5697c900fb7900d167dbeccebe6bad255adf[m
Author: Tesla Ice Zhang <ice1000kotlin@foxmail.com>
Date:   Thu Jan 24 22:04:43 2019 -0500

    util/metrics: use procinfo-rs (#3820)
    
    Signed-off-by: ice1000 <ice1000kotlin@foxmail.com>

[33mcommit 98f06ee10b65dd38931e76cff490fc193b31de50[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Thu Jan 24 21:12:58 2019 +0800

    test: fix epollex error when some Linus versions don't contain that engine (#4114)

[33mcommit 61add37751eaa93e4bc51960c43ce53c832c899b[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Jan 24 14:02:11 2019 +0800

    bin/tikv-*:use structured log (#4078)

[33mcommit d9f03941f13818dcf678201dfce518ddaf2c4e0b[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Jan 24 12:00:22 2019 +0800

    coprocessor/*:use structured log format (#4076)
    
    * coprocessor/*:use structured log format
    
    Signed-off-by: AndreMouche <AndreMouche@126.com>

[33mcommit 712513d5b6976293bbbff27497879c85cbf01c91[m
Author: fredchenbj <cfworking@163.com>
Date:   Thu Jan 24 10:32:14 2019 +0800

    fix little typos about manual compact log (#4110)
    
    Signed-off-by: fredchenbj <cfworking@163.com>

[33mcommit 206bc91fc1b16b8bf480b5f246461d03534d0881[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Jan 23 20:57:07 2019 +0800

    raftstore: only print CommitMerge once (#4093)
    
    Make the commit merge log only be printed once. In the new mechanism,
    commit merge will be executed twice. So the log will be printed twice.
    I move the log into the place where commit merge is actually happen to
    make it only be committed once.

[33mcommit 1e638cffbe6e806386f2b379d87e4114c695838d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Jan 23 20:16:20 2019 +0800

    raftstore: fix invalid log gc state (#4090)
    
    This PR tries to fix an issue that fetch term of candidate compact index fail occasionally.
    When ticking a destroyed peer, it may try to read deleted data, which always fails.

[33mcommit 0f3f02af0a6d32523304381a44b3bfe257acd5b7[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Jan 23 17:56:58 2019 +0800

    tikv-ctl: Support raw scan (#3825)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit b4f052773c5320c9e2fdb908e6493f94ab543087[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Jan 23 16:38:54 2019 +0800

    Upgrade Rust toolchain to nightly-2018-12-06 (#4000)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 358b88c734d973c3fd0426985b8f57b13b487ad4[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jan 23 12:19:13 2019 +0800

    Slow log fields (#4067)
    
    * slow log field
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Add unit tests
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Address comments
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Use generic so that the wrapper is not limited to `Duration`, but any `Display` or `Debug`
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Fix unit tests
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 99e488dba7bf3ce8616e243738ce744aea7b62e9[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Jan 21 17:31:30 2019 +0800

    raftstore: adjust leader metircs (#4092)
    
    * adjust leader metircs
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 1c8a13058ba5a9ba285cc9551705e1a58b5c1cf6[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Mon Jan 21 16:23:36 2019 +0800

    util/logger: adjust to unified log format (#4074)

[33mcommit ecc64e8d8cb10dae9455f4c9bc4173c8372f2943[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Jan 21 14:03:29 2019 +0800

    add store pool size configuration to config template file (#4088)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 3b4028064e8f3499234b2e33519022cb0df00e35[m
Author: JaySon <jayson.hjs@gmail.com>
Date:   Sun Jan 20 17:41:38 2019 +0800

    op-guide: fix typo in docker-compose (#4096)

[33mcommit ed966eb606a95750446b11416631af9841e66398[m[33m ([m[1;33mtag: v3.0.0-beta[m[33m)[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jan 18 19:04:07 2019 +0800

    Bump to 3.0.0-beta (#4091)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 6d60e7c9d685a661ce531a4d0b1f0230e04acf93[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Fri Jan 18 10:15:20 2019 +0800

    test: fix epollex error on macOS (#4084)

[33mcommit 7d45ad7daa0841de22544ae45522110143cc2d57[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Jan 17 21:31:36 2019 +0800

    raftstore: make it scale (#4066)

[33mcommit 229662a05b9484336fbb365afd658b0dde54dda9[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Thu Jan 17 15:37:58 2019 +0800

    raftstore/region_info_accessor: Stale checking only compares conf_ver only when versions are equal (#4082)

[33mcommit 2724f2dc2c80eb734959e13b690f73d9a9de7e11[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Thu Jan 17 10:37:37 2019 +0800

    docs/clients: update go-client usage (#4079)

[33mcommit fead0bea27a510415d1bcc4547ba8be5b49d6796[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Jan 16 18:59:11 2019 +0800

    tikv-ctl: pass db options to ldb (#4068)
    
    * tikv-ctl: pass db options to ldb
    
    Prepare for supporting encryption environment.

[33mcommit 0e971083fdfab5307f3281b1aa4d2cb9e4c345f8[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Tue Jan 15 20:43:09 2019 -0800

    *: centralize jemalloc code in components/tikv_alloc (#4064)
    
    This moves code that is conditional on jemalloc into a
    new package, tikv_alloc. This package links to jemalloc
    and provides dump_stats and dump_prof methods.
    
    There is a new feature, "no-jemalloc", which will turn off
    jemalloc. Currently it also turns on the system allocator to avoid
    Rust continuing to use jemalloc, but in the future we have the option
    to not install any global allocator.
    
    There is a new script, etc/check-bins-for-jemalloc.sh, which
    introspects the binaries in the target directory to ensure they link
    properly to jemalloc on Linux. It is added to `make test`, and
    probably should be added to the CI scripts.
    
    This also fixes incorrectly-indented comments in Makefile (comments
    can't be preceeded by tabs) by replacing tabs with spaces.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit ca1402da5371457f4e1261b013aa20baa4ff8854[m
Author: dcalvin <wenghao@pingcap.com>
Date:   Tue Jan 15 21:01:03 2019 +0800

    Update TiKV adopters to the latest (#4070)
    
    Signed-off-by: Calvin Weng <wenghao@pingcap.com>

[33mcommit 7941e56fe18e54d154e440115925a7f9bf46d630[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Jan 15 12:42:35 2019 +0800

    raftstore/store: add more comments (#3994)
    
    * add more comment for workers
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit e5fca65e853f9acf3ed4090a357e1de17d97647b[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jan 14 17:29:46 2019 +0800

    docs: update roadmap for 2019 (#4009)
    
    docs: add 2019 roadmap
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit 34039469480eb080c6ac765cc37ee2f6b3528ec1[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Mon Jan 14 15:14:31 2019 +0800

    Implement add_time_duration_null; Fix month_name; Add more type annotation (#4063)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit c70b5c5150c90c7507b2e373ffb742a8dc1943fb[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Jan 14 11:10:17 2019 +0800

    storage: verify the range for scan requests (#4013)
    
    * verify range for scan requests
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 7a83d9d3d864f0e6bd326b66bad1951e4547eb8c[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Mon Jan 14 09:05:52 2019 +0800

    tikv-ctl: Introduce crate vlog (#4034)
    
    * Replace println to vlog
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 6ff8dc296626a40cd0c96143bcefe916a9645ba5[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Sun Jan 13 15:42:43 2019 +0800

    raftstore: Remove deprecated seek_region from raftstore (#4062)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit c40d735d850943db41addbda9ca90dd004e96c15[m
Author: Yeh-lei Wu <rayingecho@gmail.com>
Date:   Sun Jan 13 00:35:05 2019 +0800

    fuzz: implement run_afl, add seeds for fuzzer (#3999)
    
    * fuzz:implement run_afl
    
    support AFL fuzzer #3905
    
    Signed-off-by: alei <rayingecho@gmail.com>

[33mcommit 12a1ea8d13b6478c8a4d07f0bb7411f3367dc8f9[m
Author: Dayue Gao <dygao66@gmail.com>
Date:   Sat Jan 12 21:47:57 2019 +0800

    Implement Locate2Args & Locate3Args & LocateBinary2Args & LocateBinary3Args (#4016)
    
    * expr/builtin_string: Implement four variants of Locate function
    
    Signed-off-by: gaodayue <gaodayue@meituan.com>

[33mcommit 5cb39b5e80cce308717158c3a57b75181802597c[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Sat Jan 12 17:45:44 2019 +0800

    Add a new metrics for delayed raft messages. (#4061)

[33mcommit 59414605dd12ba91c0aa5435de906d88acef20e0[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Sat Jan 12 16:38:25 2019 +0800

    server: support batch grpc messages. (#4043)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 99994aef56beaa0548598dcf3fb5b9e6dec477d2[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Jan 12 15:27:56 2019 +0800

     raftstore/apply: make it scale (#4044)
    
    * raftstore/apply: make it scale
    
    This commit uses the batch/router system introduced in #3927 and #3916
    to make apply scale.
    
    Note this commit doesn't utilize the control FSM. It creates apply
    delegate directly when sending a messages. That's because all messages
    in apply are order-sensitive, using control FSM to create apply delegate
    can introduce messages reorder. Creating a delegate is pretty
    lightweight, so put it inside send method is acceptable.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 404e61d3bf8343f868df28263b83213407060d4e[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Jan 12 14:10:55 2019 +0800

    util/timer: introduce steady timer (#4060)
    
    Steady timer is used to create futures that is notified after a given
    duration. It's called steady because it won't be affected by the time
    adjustment. This is important for raftstore as the lease mechanism is
    based on a steady time.

[33mcommit cb159cb3feed5595025086b4c7147ae5e6a46618[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jan 11 11:45:42 2019 +0800

    Cargo: upgrade grpcio to v0.4.2 (#4023)

[33mcommit 1a95f097e57edee49b551272784ab0d978532452[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Jan 10 20:18:46 2019 +0800

    server: refactor futures in service/kv.rs (#4055)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit fa231fa1015d8a18ef82a6da0ac53c1717d51d77[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jan 10 16:54:37 2019 +0800

    *: switch grpc event engine from epollsig to epollex (#4028)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 29f3f86555834bcbd0f1006119d739d05217738a[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jan 10 15:53:42 2019 +0800

    util/logger: fix grpc log redirection (#4050)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 628016d98c3f3628737b7bb0111b8896f055a844[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Jan 10 14:15:35 2019 +0800

    redirect std log (#4047)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit b7b548ae378e993e3811f092d0852857a2fbd776[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Jan 10 12:00:52 2019 +0800

    Use batch_raft RPC and batch channel to reduce gRPC CPU usage. (#3913)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 4b801d763b1b0a3a3b00ac8fd59f91b78bc54b3c[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Jan 10 01:44:52 2019 +0800

    mvcc/txn: use structured log format and hex key format (#4036)
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>

[33mcommit 3616978ba3a9cb6bf085bcbc66341ac2bf7fbbef[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jan 9 21:32:47 2019 +0800

    Fix useless log level (#4046)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 3ba7587671fe1569702530a55140d70a868495db[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jan 9 20:50:13 2019 +0800

    Let DAGContext accepts Store instead of Snapshot (#4019)

[33mcommit 4d8488a93b711aa8abc86842e47f9a36f33d079f[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jan 9 12:12:06 2019 +0800

    Efficient Codecs (#3629)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 4b19bfef172584ad6d15fe29afdc653716529b13[m
Author: manifold <kimi.ysma@gmail.com>
Date:   Tue Jan 8 09:52:41 2019 -0500

    coprocessor: implemented FIELD() function (#4007)
    
    * coprocessor: implemented pushdown of FIELD() function
    
    Implemented feature compliant to MySQL doc.
    
    Signed-off-by: Yesheng Ma <kimi.ysma@gmail.com>

[33mcommit 389f4d18c6cf6914f6a70ace581f92905244d2c3[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Jan 8 22:16:22 2019 +0800

    server: add comments for public API (#3991)

[33mcommit 5f9a81269a0cf10d8f1551b11f7a9b7c7233c730[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Jan 8 20:51:47 2019 +0800

    Derive Copy for Duration (#4018)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 84e430ffcfe5bb7b9bab77f2cfb5f48d21861614[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Tue Jan 8 20:37:54 2019 +0800

    *: use macros from slog rather than Rust standard log (#4008)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit dd322faad9877cce8ea84a110766c6b83ca58ee9[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Jan 8 16:36:04 2019 +0800

    raftstore/region_info_accessor: Fix the panic when got overlapping regions with version 0 (#4030)
    
    Signed-off-by: Connor <zbk602423539@gmail.com>

[33mcommit 4597c027864633dc868edde97ffbaddc1eaeae2b[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Jan 8 15:09:45 2019 +0800

    gc_worker: Fix comments that causes error on rustdoc (#4024)
    
    * Fix uncompilable documentation in gc_worker
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 979e1f791775d6a64c49add1bca66014e0a6f95b[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Jan 7 19:48:58 2019 +0800

    remove unused_mut (#4022)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit eca54cfbac3c165d363fceb4a3b45fb81ca1d70b[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Jan 7 18:19:33 2019 +0800

    util: change the way of calculating the approximate distance (#4017)
    
    * fix maybe inaccurate region size
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit c9a08c366c79a3a89f4bc58d83d0e64ef06c1de1[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Mon Jan 7 13:06:45 2019 +0800

    gc_worker: Let GCWorker do GC by itself (#3179)
    
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 307481895a273786980fbf17bd05dc0e6a3ff1b4[m
Author: DCjanus <DCjanus@dcjanus.com>
Date:   Mon Jan 7 11:41:59 2019 +0800

    expr/builtin_time: Implement AddDurationAndString (#4010)
    
    * expr/builtin_time: Implement AddDurationAndString
    
    Signed-off-by: DCjanus <DCjanus@dcjanus.com>

[33mcommit 1f43235e09045d3d31bcc9730ce017204e717663[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jan 3 20:31:04 2019 +0800

    *: install a new logger when panic to avoid no global logger (#3989)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 0e3ca1849bfdd62e8b46c9249f11222adfa90bb4[m
Author: zhouqiang <zhouqiang.cl@gmail.com>
Date:   Thu Jan 3 17:16:10 2019 +0800

    replace ci status badge (#4006)
    
    Signed-off-by: zhouqiang <zhouqiang@pingcap.com>

[33mcommit 9b9766895ccf3671d8aed464ff3d7023c3d091d2[m
Author: ShuNing <nolouch@gmail.com>
Date:   Thu Jan 3 14:42:00 2019 +0800

    pd/client: retry validating the endpoints when creating RPC client (#3851)
    
    * pd/client: retry validating the endpoints when creating RPC client
    
    Signed-off-by: nolouch <nolouch@gmail.com>

[33mcommit 122544ea3578009eaa9a013cc837875514dad03c[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Wed Jan 2 19:10:07 2019 +0800

    upgrade titan (#4002)
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit 34f57ec18b6c16946bf94c659cb04dafb237bd1e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jan 2 15:51:33 2019 +0800

    *: rearrange loggers (#3987)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 4919608cf7bc06d35378d4009744dd891b4e617d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jan 2 13:12:14 2019 +0800

    storage: make `Engine` and `Snapshot` more legible (#3993)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 0de27a22b0e5fdad1d30f00e0e0fb5d84bdf492d[m
Author: Yiming Jin <jinyiming1996@gmail.com>
Date:   Tue Jan 1 18:29:19 2019 -0800

    coprocessor/dag/expr: AddDurationAndDuration (#3984)
    
    * push down AddDurationAndDuration
    
    Signed-off-by: GinYM <jinyiming1996@gmail.com>

[33mcommit 81c02d6a22141bbdc1eb7cab5e9f30e86a30f49f[m
Author: Hetian Zhu <fullstop1005@gmail.com>
Date:   Sun Dec 30 10:27:35 2018 +0800

    use closure directly since RFC 2132 is completed (#3995)

[33mcommit d34c30c3c2ddf25e1b9fee2dfa5f51dfd70a50c7[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Sat Dec 29 21:21:47 2018 +0800

    Introduce a new storage engine: Titan (#3985)
    
    *: Introduce a new storage engine: Titan
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit 542eae4eba1c747ba3cb75cc98cd95aee61ff0ba[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Sat Dec 29 17:51:01 2018 +0800

    util: add comment (#3941)
    
    * util: add comment
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>

[33mcommit 302230b2317a2a7a64ab54ee31a158619302dcef[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Sat Dec 29 17:07:04 2018 +0800

    benches: add hierarchy bench (#3925)

[33mcommit 75254d54b6e7869f2aded66c0a5f70d1a6035673[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Dec 29 11:27:41 2018 +0800

    raftstore/fsm: add batch system (#3972)
    
    To be able to write efficiently, we need a machenism to aggregate all
    small writes into a reasonable batch. This pr makes it possible by
    a custom thread pool module that can seperate the actual process
    and schedule logic.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 0e0373a76e75608d6d10369c68eac8abc5049018[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Dec 28 23:39:13 2018 +0800

    Add comments for raftstore. (#3970)
    
    * Add comments for raftstore.
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit bbde9007830c4a955a3564f3d9c68d42ac9a31c5[m
Author: Edward Li <edwardpku@users.noreply.github.com>
Date:   Fri Dec 28 07:05:37 2018 -0800

    coprocessor/dag/expr push down builtin method DateDiff (#3937)
    
    Signed-off-by: Edward Li <edwardli@amazon.com>

[33mcommit 9834bde295fd6b8c6d128c27de7ce6f20c5806d7[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Dec 28 20:41:51 2018 +0800

    Improve coprocessor comments (#3960)
    
    * improve coprocessor comments
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 54dc2280184f724c7137bf7ae63e08de38b77ca4[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Fri Dec 28 19:31:11 2018 +0800

    raftstore/coprocessor: Implement seek region for RegionInfoAccessor (#3682)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 436afc53620d99a10775edc6b9e1d7542bf91887[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Fri Dec 28 18:17:51 2018 +0800

    importer: add annotation (#3955)
    
    * Add annotation for Importer
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * minor fix
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit cd38ce2f2ca4e8f17c218136d2e0532d5b3e6081[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Fri Dec 28 17:13:47 2018 +0800

    pd: add comments (#3957)
    
    * pd : add comments
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>

[33mcommit 813f1df50afd3f48d2b295faf437a261e469989f[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Fri Dec 28 10:34:28 2018 +0800

    util/file_log: close the log file explicitly (#3956)

[33mcommit 72bf02f8a71fef7d66c69deb1f9e0b25ba49a9ee[m
Author: Yiming Jin <jinyiming1996@gmail.com>
Date:   Thu Dec 27 07:06:15 2018 -0800

    push down for to_days (#3978)
    
    Signed-off-by: GinYM <jinyiming1996@gmail.com>

[33mcommit c199b75c26bd9b99139a965b92b749ca5e11c2a8[m
Author: niedhui <niedhui@gmail.com>
Date:   Thu Dec 27 15:55:13 2018 +0800

    implement builtin string function left_binary and right_binary (#3982)
    
    * implement left_binary & right_binary
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit b2192bf1d11b09d5d25ef08a64f2539afb8287fc[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Dec 26 20:34:47 2018 +0800

    raftstore:  Use observers to collect region informations to a collection (#3627)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit b56ed15c27a488eb71ce3d27aa8ae24884382606[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Dec 26 18:59:58 2018 +0800

    storage: Add more comments to storage (#3924)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit caecd1b97a0c047f95c0885307d0a40f3394c9cb[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Dec 26 11:52:24 2018 +0800

    generate random bytes and print as hex (#3928)

[33mcommit 52c955aee9dc3c83f3d97e17a4407cae149dd7cc[m
Author: niedhui <niedhui@gmail.com>
Date:   Wed Dec 26 08:42:34 2018 +0800

    add is_unsigned to Expression (#3973)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit d5fad601ab88996a684cc1dc0ff64825c925212f[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Dec 25 21:43:42 2018 +0800

    peer: remove unused propose_snapshot (#3975)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit c8f4d96dfc9c4a5369a76ad3b0770f635bc4e22a[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Dec 25 13:49:12 2018 +0800

    tikv-ctl: Add multi-threaded recover-mvcc (#3758)
    
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit d0e7767ebd9169407969873d8049f8295111b2cf[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Dec 24 17:12:45 2018 +0800

    raftstore/router: stable test (#3961)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit ff4aa72c17c3439a9c8949f916b7cd18785cb641[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Sun Dec 23 17:56:58 2018 -0800

    Upgrade jemalloc, fix mem-profiling build (#3962)
    
    * *: fix jemalloc
    * *: fix mem-profiling build
    * *: unprefix jemalloc symbols where posible
    * *: This unprefixes the jemalloc symbols on Linux so that RocksDB
    and Rust share the same allocator. It does not do so on platforms
    where unprefixed jemalloc is known not to work, which includes
    MacOS.
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 46cbb82bb8cff0a45ccfd67e35e49dc6e3c390b1[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Sun Dec 23 13:06:45 2018 +0800

    misc: update CHANGELOG.md (#3967)
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>

[33mcommit ee39d52d8e1bb2007632220a8c89f2092d3fa239[m
Author: Ryan Leung <rleungx@gmail.com>
Date:   Fri Dec 21 11:20:53 2018 +0800

    add an HTTP port (#3855)
    
    Signed-off-by: rleungx <rleungx@gmail.com>

[33mcommit 560947f9d294c315fc4a53fd58b3680d8275bddf[m
Author: niedhui <niedhui@gmail.com>
Date:   Thu Dec 20 19:17:00 2018 +0800

    implement builtin lpad & lpad_binary (#3943)
    
    * implement builtin lpad & lpad_binary
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit c36b2f6663faf4ff09933ebcc161082831b42471[m
Author: Brian Anderson <andersrb@gmail.com>
Date:   Wed Dec 19 23:28:57 2018 -0800

    fuzz: update README.md (#3958)
    
    Signed-off-by: Brian Anderson <andersrb@gmail.com>

[33mcommit 8359f1911279c7b05f3e898d8e09326cf0fcce5e[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Dec 19 22:49:25 2018 +0800

    Support column name access in test_coprocessor (#3800)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit ec1027155fbace00b42e817be92d8645ee4adbee[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Dec 19 17:13:28 2018 +0800

    storage: remove unused variants (#3954)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 3d09678699254353a7ee04ef41068e2e5619d087[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Dec 19 15:08:57 2018 +0800

    raftstore: introduce router (#3916)
    
    To implement a batch threaded raftstore, a fast router is important. This PR introduces a simple router that can serve fast reading. A router is rarely updated, so here use a mutex to keep things simple.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 577a6f79ec6e2b24fa00e165211642c550bb56c3[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Dec 18 20:47:20 2018 +0800

    raftstore: do not update pending_cross_snap when peer is applying snapshot (#3873)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 592c0838dea25799265a906ac0493e1dc81f6717[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Dec 18 10:29:06 2018 +0800

    raftstore/coprocessor: use scan way when approximate way fail (#3942)

[33mcommit 1267492da382ec1747350e81a718626d0d9a51d8[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Mon Dec 17 19:08:07 2018 +0800

    *: use util::collections::HashMap/HashSet (#3939)
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>

[33mcommit 6587d133aa80977ecd5e4e134cbedc850c560428[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Mon Dec 17 16:46:38 2018 +0800

    Copr: add add_datetime_and_duration, add_datetime_and_string and add_time_datetime_null (#3899)
    
    * Add add_datetime_and_duration, add_datetime_and_string and add_time_datetime_null
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit cdbc7e27cc56c3f675ffe00e412d1258226cfc41[m
Author: kennytm <kennytm@gmail.com>
Date:   Mon Dec 17 14:23:58 2018 +0800

    *: get rid of all unsafe transmute() calls (#3938)
    
    Conversion from f64 to u64 can be done using .to_bits().
    Conversion from i64 to [u8; 8] can be done using .to_bytes().
    Both of them are implemented using transmute() underneath,
    so no efficiency will be lost.
    
    Signed-off-by: kennytm <kennytm@gmail.com>

[33mcommit 2c5ffa7b1c6f5db66759b3a652bd8b6f389fbcb0[m
Author: niedhui <niedhui@gmail.com>
Date:   Fri Dec 14 19:59:53 2018 +0800

    implement builtin rpad & rpad_binary (#3914)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 2eb8f5dbd38b039dbe167bc6edb040d89e5f9c97[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Fri Dec 14 15:32:48 2018 +0800

    readme: replace pingcap links with repo links (#3927)
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit ed635e23e767b7a23c71fff1445cde837692a5b0[m
Author: Connor <zbk602423539@gmail.com>
Date:   Fri Dec 14 13:35:48 2018 +0800

    raftstore: not always update pending_cross_snap  (#3822)

[33mcommit 33964340e97f81378b34203679c9fc968971bc63[m
Author: AbnerDBFan <45349851+AbnerDBFan@users.noreply.github.com>
Date:   Thu Dec 13 21:31:16 2018 +0800

    add builtin function year_week_with_mode and year_week_without_mode (#3876)
    
    Signed-off-by: AbnerDBFan <781947241@qq.com>

[33mcommit c2c38c311c9def54a857b966df58ae52186c9e82[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Dec 13 13:40:04 2018 +0800

    Add fuzzers for time (#3888)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 94135ab4cc993aa455000975d5649f6dfecc652f[m
Author: niedhui <niedhui@gmail.com>
Date:   Wed Dec 12 12:04:13 2018 +0800

    fix build on macOS (#3915)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 5db78c438724b8e3f82d51fce44b7576314efef4[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Dec 12 11:00:35 2018 +0800

    doc: add warning for client API (#3845)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit aa5a5359f2470417e815f8456172bd478666fc63[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Dec 11 20:28:06 2018 +0800

    update cmake-rs to include debug info (#3912)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit a854feee9f4a503d127fe5db95ae7c40cea93c74[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Dec 11 18:12:02 2018 +0800

    add load statistics for grpc threads. (#3741)

[33mcommit d65a5f16e85567fb926c3589a8ff668890666ca6[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Dec 11 16:01:58 2018 +0800

    Use failure for cop_datatype (#3909)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit d68649c760d136014fd39ee3ce5fcb7ec52df4f7[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Dec 11 11:55:47 2018 +0800

    github: update docs link (#3901)

[33mcommit a952b81896ee7e7782caa301e5830855d94e41c1[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Dec 11 11:20:07 2018 +0800

    escape compact range key (#3910)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 806d5a3d02a4517761141786536e10affc73e6a4[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Dec 11 09:43:47 2018 +0800

    Remove unnecessary &mut (#3907)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit dbea9f9935d188467d52acc7a8e929bd2ff08e88[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Dec 10 19:19:50 2018 +0800

    Fix unnecessary print in tests (#3906)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit a9258c89ffb68078d7d86f51666bb42f32529290[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Dec 10 17:46:18 2018 +0800

    Add a batch mpsc (#3738)

[33mcommit beee375fcef75741201485a2263e81af12824259[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Dec 10 16:10:48 2018 +0800

    When tikv is closing, should return retryable error to tidb (#3891)

[33mcommit b32d46e330fa39a34f66171c911cca237cf1f054[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Dec 10 13:34:01 2018 +0800

    Support Multiple Fuzzers (#3848)
    
    * Support more fuzzers
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * make `make dev` happy
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>
    
    * Support standalone fuzz targets
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 0300e6bf8bbccfa81858d2b902d901ab478b0e7c[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Dec 10 11:16:32 2018 +0800

    op-guide: make docker-compose doc runnable (#3843)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit fb56d9ee8d2c8b802ddf129390be72fc9f73b082[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Sun Dec 9 10:45:14 2018 +0800

    Make test_handle_time more stable (#3821)
    
    * make tests more stable
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit dc510ac9d18e87cc06ee8f0f1f2276e1f6549d4d[m
Author: lucyscat <1374913837@qq.com>
Date:   Sat Dec 8 14:50:05 2018 +0800

    add concat_ws (#3818)
    
    Signed-off-by: lucyscat <2098200133@qq.com>

[33mcommit f67208823ea1e143220d9493173efe884794d76a[m
Author: ShuNing <nolouch@gmail.com>
Date:   Fri Dec 7 18:30:03 2018 +0800

    raftstore: reject transfer leader to the recently added peers (#3878)

[33mcommit ccba025cc8b18a71ff41e5c748934cd876559402[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Dec 7 16:07:46 2018 +0800

    util/mpsc: refactor channel (#3874)
    
    - remove future support to make performance better
    - add half close support
    - add several useful APIs
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit db12f25178015d7b42cfc835b92b7c0eb9ea239e[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Fri Dec 7 14:29:30 2018 +0800

    apply: Make DeleteRange safe again (#3883)
    
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 59d58d87ccb898acab8f41627fc8bb22f05a2684[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Fri Dec 7 10:37:23 2018 +0800

    storage/mvcc/txn: polish prewrite (#3880)

[33mcommit 4613ec553deff0aded15375d4695921415400143[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Thu Dec 6 21:11:25 2018 +0800

    benches: add benchmarks for BTreeEngine (#3787)
    
    * benches: add benchmarks for BTreeEngine

[33mcommit d6a1def0c924af9751c46d5b77663f753c64c562[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Dec 6 15:38:03 2018 +0800

    raftstore/error: add StoreNotMatch details (#3885)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 84afc9670f348eb4a28d4662976a2daa3747106e[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Thu Dec 6 02:31:02 2018 +0800

    *: replace FxHashmap with Hashbrown (#3884)
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>

[33mcommit 51952fcaf5f188ed813b599c915beb21c13d9dbd[m
Author: niedhui <niedhui@gmail.com>
Date:   Wed Dec 5 17:08:51 2018 +0800

    implement compress,uncompress,uncompressed_length (#3856)
    
    * implement compress,uncompress,uncompressed_length
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 86d11a34e9c90390ae9e5e697c409e5a8936a647[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Dec 5 15:21:43 2018 +0800

    service/kv: Add end_key support for raw_scan (#3847)

[33mcommit 11e323a098034152be307f649dde7ada897222fc[m
Author: niedhui <niedhui@gmail.com>
Date:   Wed Dec 5 11:12:52 2018 +0800

    implement builtin strcmp (#3879)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 5bb9a3a7e8d142283be4f385628dd9b66e0f2b04[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Tue Dec 4 14:37:07 2018 +0800

    Add week_day and week_of_year (#3871)

[33mcommit 8451e400adc42f825b2f21e57aad124e5b3622ac[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Tue Dec 4 13:36:05 2018 +0800

    upgrade tipb to a7fd2aa (#3870)
    
    Signed-off-by: TennyZhuang <zty0826@gmail.com>

[33mcommit a57c8e34897af6c157ce0c8ec1369da10f7ddf9c[m
Author: A. Hobden <operator@hoverbear.org>
Date:   Mon Dec 3 22:01:57 2018 -0500

    Update Raft to 0.4.0 (#3863)
    
    Signed-off-by: Hoverbear <operator@hoverbear.org>

[33mcommit 6eb153338d1effb787a040fda4ad65b40e31d5cb[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Dec 3 23:55:08 2018 +0800

    tests: try to make test_kv_service more stable (#3849)
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>

[33mcommit 77207df55dbb1f354f77de3e9b2e2f0f1a218c35[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Dec 3 23:26:16 2018 +0800

    tests: stable test_node_callback_when_destroyed (#3852)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 96bd074a0184149b1ccf704c5e7669aa5323fb6f[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Dec 3 22:17:01 2018 +0800

    Add compaction reason (#3867)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 49ddf36e33400b48a5199b7041636105e3cf072e[m
Author: Abner Zheng <abnerzheng@gmail.com>
Date:   Mon Dec 3 17:55:04 2018 +0800

    Add coprocessor function week_without_mode and more tests for  week_with_mode (#3861)
    
    * add more test for week_with_mode
    
    Signed-off-by: Abner Zheng <abnerzheng@gmail.com>

[33mcommit e6971e863854d5d9a91ac2ea833ddd1829388068[m
Author: Ryan Leung <rleungx@gmail.com>
Date:   Fri Nov 30 19:00:03 2018 +0800

    raftstore: fix redundant heartbeat (#3864)
    
    * fix the heartbeat
    
    Signed-off-by: rleungx <rleungx@gmail.com>

[33mcommit 2bfc858684cbe2af109a271ed1493cce3ee618da[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Nov 30 13:31:01 2018 +0800

    util/logger: collects logs of components (#3859)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 047bf26af3cbbfcd4875439a1d25c3fe66e17539[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Nov 29 22:05:14 2018 +0800

    Provide seeded KV generator (#3853)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 670a95aadc5ba90cf45b188da639cf7299bf4942[m
Author: Abner Zheng <abnerzheng@gmail.com>
Date:   Thu Nov 29 14:48:05 2018 +0800

    add coprocessor function week_with_mode (#3857)
    
    Signed-off-by: Abner Zheng <abnerzheng@gmail.com>

[33mcommit e772a8cba1cbeeba1f6a001c4cf68724e3a2392e[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Nov 28 22:01:57 2018 +0800

    A quick fix for tombstone command's bad error message. (#3850)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 13ac91c5003cb1e323babcb10693f5076172318e[m
Author: niedhui <niedhui@gmail.com>
Date:   Wed Nov 28 19:53:38 2018 +0800

    implement builtin function: space (#3841)

[33mcommit 64798740b13d573989ef34d3abd3e4f9ade46c2c[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Nov 28 17:34:21 2018 +0800

    Move tests directory (#3839)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit fc238ddba0c3861958bbbce70a094d214aed104b[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Wed Nov 28 13:44:38 2018 +0800

    tikv-ctl: Some small fixes (#3840)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit 14812b7fd914d42023e118a805d02b7abb7bde9f[m
Author: Tong Zhigao <solotzg@163.com>
Date:   Tue Nov 27 20:58:22 2018 +0800

    Add optimize_filters_for_hits to cf_config; (#3733)
    
    Signed-off-by: Tong Zhigao <tongzhigao@pingcap.com>

[33mcommit 84e267cdada900338f5e7b57cd5173653549004c[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Tue Nov 27 19:07:37 2018 +0800

    Max background jobs (#3810)
    
    * Fix `CompactFiles` bug
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * add max_background_jobs for raftdb
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>
    
    * minor commit
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit e027881abc09c1f6ec2c034b6cbc71c44c724147[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Nov 27 17:52:18 2018 +0800

    fix apply typo error (#3837)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 88fbf0b7e19ae2fc9bbcf5230dc2d201e396d2d4[m
Author: niedhui <niedhui@gmail.com>
Date:   Mon Nov 26 19:46:05 2018 +0800

    implement SubstringBinary2Args & SubstringBinary3Args (#3813)
    
    * implement SubstringBinary2Args & SubstringBinary3Args
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 2c1e9ce66bcbd0cc1803f3ad8f6a5d7d7b815023[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Nov 26 17:07:25 2018 +0800

    raftstore: add more seek and seek_for_prev test (#3722)
    
    * add more seek and seek_prev test
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 38a4c6daadb1a68a3eab4c89a03cea257c750332[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Nov 26 12:14:21 2018 +0800

    fix test_follower_slow_split (#3797)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 1da35d90c352e7266eac2c6d396738fd7c66813f[m
Author: disksing <i@disksing.com>
Date:   Fri Nov 23 18:57:23 2018 +0800

    update master version to 3.0.0-alpha (#3802)
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit 789007eb8819a16faae5d6f1ca1c728192202441[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Thu Nov 22 17:28:02 2018 +0800

    readme: add TiKV logo and CNCF announcement (#3812)
    
    * readme: add TiKV logo and CNCF announcement
    
    Signed-off-by: lilin90 <lilin@pingcap.com>
    
    * readme: address the comment
    
    Signed-off-by: lilin90 <lilin@pingcap.com>
    
    * readme: update the TiKV logo
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit edee5af317396a46867522f31ef7269070a7861f[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Nov 22 16:19:02 2018 +0800

    Check conf version for split. (#3807)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 68869ea6e7765b99b3ecabf598492f972608d94a[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Wed Nov 21 18:28:51 2018 +0800

    benches: move unrelated benchmarks into individual directories. (#3809)
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>

[33mcommit 3fba374fd5df78d0ddbea0e901abfa1f45ddf071[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Nov 21 15:21:55 2018 +0800

    Normal Index Scan Benchmarks (#3814)
    
    * index scan benchmarks
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 8da9b31c38d68d587fa10b0fa12b9217a5d6e37f[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Nov 20 22:48:48 2018 +0800

    tests: stable test_delay_split_region (#3806)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 7c8ed8fcdbbf91d81b5e7836cbac959b2fb229ec[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Sat Nov 17 14:57:02 2018 +0800

    Types for Batch Execution (#3660)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 54bb8543c916c64e3c7dea6441a79966c33365b6[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Sat Nov 17 01:14:13 2018 +0800

    Copr: Add day_name, day_of_month, day_of_week, day_of_year (#3774)
    
    * Add day_name, day_of_month, day_of_week, day_of_year
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>
    
    * Fix format
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>
    
    * improve implementation and test
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>
    
    * Fix test format
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>
    
    * Extract error handling code
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit a6822c0841161ada165c5f1f5c7302031a9c6cc2[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Nov 16 21:42:06 2018 +0800

    More table scan benchmarks (#3776)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit edc6081810833a7ed6563276f096825ddac02821[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Nov 16 19:23:21 2018 +0800

    Support ambiguous time (#3786)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit c78b06957c3203c26a0c6794c42423e80d8185a5[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Nov 16 17:01:50 2018 +0800

    omit some logs about compact-log. (#3798)

[33mcommit 4b5efd4c29ac6783aa88eb5de64a8ab5ac91e5db[m
Author: Connor <zbk602423539@gmail.com>
Date:   Fri Nov 16 01:26:39 2018 +0800

    test: make sched_too_busy more stable (#3719)
    
    * make sched_too_busy more stable
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * fix
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * fix
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * clean code
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * use pause
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * tiny change
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * tiny change
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit f93d851c3e7fbe174d9f123c8d32bd79bc71c12f[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Nov 15 19:54:32 2018 +0800

    raftstore: avoid large write batch during raft log gc (#3788)
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>

[33mcommit 30251412e909acce59f0a829892453d92bd01922[m
Author: kamijin_fanta <kamijin@live.jp>
Date:   Thu Nov 15 18:47:48 2018 +0900

    storage: Support reverse raw_scan and raw_batch_scan (#3724)

[33mcommit 04a99fb5316dc3d83ab6ef8a74dbbcb90614ecdd[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Nov 15 15:47:00 2018 +0800

    Remove `Storage::start()` and `Storage::stop()` (#3769)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit c4e4bb4b3d5c1c658d755b1eb23bab3717804a83[m
Author: Tong Zhigao <solotzg@163.com>
Date:   Thu Nov 15 14:20:40 2018 +0800

    Add args ldb to tikv-ctl (#3743)

[33mcommit 369bd211d42bc005ee506fcd1afed36a4e03ddbc[m
Author: niedhui <niedhui@gmail.com>
Date:   Wed Nov 14 19:51:38 2018 +0800

    expression: implement ToBase64 and FromBase64 (#3716)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit b518d785664cb7904a75d480e9f652ef7648553b[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Nov 14 09:45:55 2018 +0800

    raftstore: use an optimized method to ingest snapshots (#3775)
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>

[33mcommit 991c466264f1d7de6d9650f557f2a4bbfa1b6f50[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Tue Nov 13 16:07:21 2018 +0800

    src/storage: add a new BTreeEngine for local tests (#3723)
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>

[33mcommit 1f1926037d644a645e245f9e3aded2b6b9e476ab[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Nov 13 13:16:28 2018 +0800

    Prepare for Coprocessor Executor Benchmarks (#3689)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit f3f495a49fbcc0f22ae103317c3f25466423d9f9[m
Author: niedhui <niedhui@gmail.com>
Date:   Mon Nov 12 19:27:49 2018 +0800

    implement Substring2Args & Substring3Args (#3742)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit cf258bf86bdd1197431b30de2ef3099f82a3d8d5[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Nov 12 15:30:34 2018 +0800

    Makefile: add tikv-ctl make rule (#3751)

[33mcommit e5a8469837c1f762615a882d6c9a013d38ca4c22[m
Author: A. Hobden <operator@hoverbear.org>
Date:   Sun Nov 11 19:21:18 2018 -0500

    Use a block strategy for the file logger (#3755)
    
    * Use a block strategy for the file logger
    
    Signed-off-by: Hoverbear <operator@hoverbear.org>

[33mcommit 5306b877c6c4862bfd3410cadc2f8676eeaaa084[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Sat Nov 10 13:40:27 2018 +0800

    expression: add builtin_time - hour/minute/second/micro_second and improve tests (#3753)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit c1e98f36a5bf3b5d0816d9b2aeeac683e6261dd6[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Nov 9 13:03:20 2018 +0800

    fix raftstore_cases::test_conf_change::test_server_split_brain. (#3760)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit be3bae00b9737e52d1a053d63331863dab9b6db8[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Nov 8 15:48:43 2018 +0800

    A cleaner way to create Storage or Engine for tests (#3757)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 81b0c1f279beec1e914722bbc53da7e314f5fa86[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Nov 8 14:46:24 2018 +0800

    Refine Coprocessor Type Definitions (#3651)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 0008f2c8e26871083c29ba6e40baf0701e6368b8[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Nov 8 10:33:38 2018 +0800

    Implement Mock Scanner (#3685)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 50e5cea8ed61a6aa0db32f177497172d566f1de4[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Nov 7 19:11:53 2018 +0800

    hide use-delete-range configuration (#3752)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit b04e03ffef639aa324d7957f08ac90bc444b0318[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Nov 7 17:11:03 2018 +0800

    Polish Config (#3729)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 46888818eda94c17689b4cb3973c79d63a475068[m
Author: disksing <i@disksing.com>
Date:   Wed Nov 7 09:47:04 2018 +0800

    mvcc: record start_ts in write conflict error (#3740)
    
    * mvcc: record start_ts in write conflict error
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit 7ee13c3475e6dd2a2b5f1a14f069a618924a4100[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Nov 6 16:30:48 2018 +0800

    service/kv: Add end_key limit to kv_scan interface (#3720)

[33mcommit 933c70362d9a766300f854f2b62af671a4c86a91[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Nov 6 15:44:02 2018 +0800

    add panic mark file (#3725)

[33mcommit f336a5e9962d49db9ee181fffcaadcde334a30ce[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Mon Nov 5 15:56:34 2018 +0800

    Add builtin_time - month_name (#3735)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit 289ce2ddac505d7883ec616c078e184c00844d17[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Nov 2 20:12:56 2018 +0800

    endpoint: log errors (#3731)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 405a99ae8eff3854a5c4cfda196fb71b3fa4bab2[m
Author: niedhui <niedhui@gmail.com>
Date:   Fri Nov 2 08:18:11 2018 +0800

    implement builtin SubstringIndex (#3717)
    
    * implement builtin SubstringIndex
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit de47be5e889da2f7fa47659df0cb839346cc48f6[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Wed Oct 31 18:15:47 2018 +0800

    fuzz: use number maker to produce numbers of a specific type. (#3690)
    
    * fuzz: use number maker to produce numbers of a specific type.
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>
    
    * fuzz: add licenses & use macros.
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>
    
    * update copyright & optimize imports
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>

[33mcommit 49272b316d11b83aa078003d3864b72669208d40[m
Author: Tong Zhigao <solotzg@163.com>
Date:   Fri Oct 26 16:13:04 2018 +0800

    Add on_stall_conditions_changed to EventListener; (#3712)
    
    Signed-off-by: Tong Zhigao <tongzhigao@pingcap.com>

[33mcommit 54d0cddba3dddcab1468c686cb9dd5d7f64472ad[m
Author: disksing <i@disksing.com>
Date:   Thu Oct 25 17:46:48 2018 +0800

    mvcc: avoid unsafe mutation to scanMode (#3696)
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit 2077be14ba321cbea779cbb175424111806306e4[m
Author: dennis zhuang <killme2008@gmail.com>
Date:   Thu Oct 25 14:09:17 2018 +0800

    Supports day format in ReadableDuration (#3687)
    
    * Supports day format in ReadableDuration
    
    Signed-off-by: dennis zhuang <boyan@alibaba-inc.com>
    
    * Fix typo in parsing ReadableDuration
    
    Signed-off-by: dennis zhuang <boyan@alibaba-inc.com>
    
    * fix test case failure: test_serde_custom_tikv_config
    
    Signed-off-by: dennis zhuang <boyan@alibaba-inc.com>

[33mcommit bbb0926cffa0b4cfcfa90fed2a9efbef662718d6[m
Author: niedhui <niedhui@gmail.com>
Date:   Thu Oct 25 10:16:07 2018 +0800

    drop rustc-serialize dependency (#3713)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 84c83e8baebf87abdbd9782d89b2cae69db93564[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Wed Oct 24 16:39:43 2018 +0800

    docs/op-guide: fix two broken links (#3710)
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit 52ffb2d14deaae6b524428b5a53e5f1a770904c8[m
Author: niedhui <niedhui@gmail.com>
Date:   Wed Oct 24 14:29:01 2018 +0800

    expression: add builtin trim (#3698)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit cd27c81944e034d734df5846bc3070a4d8c78bad[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Oct 23 20:08:44 2018 +0800

    *: Unify name of test mods (#3699)

[33mcommit 7315140a1a6b29b724d362c3b0f64ea8e19424c9[m
Author: Greg Weber <greg@gregweber.info>
Date:   Tue Oct 23 00:42:40 2018 -0700

    produce an Alpine Linux image (#3697)
    
    I am trying to make our docker runtime uniform.
    Note also that the docker-compose repo already uses Alpine with glibc.
    https://github.com/pingcap/tidb-docker-compose/blob/master/tikv/Dockerfile
    This final image matches our production image other than that it uses UTC for TZ instead of /etc/localtime.
    
    Signed-off-by: Greg Weber <greg@gregweber.info>

[33mcommit d9576104ccbbd2e5c23c77e3edb67ec2003d0194[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Oct 23 14:24:33 2018 +0800

    rocksdb: update to release-5.15 (#3661)
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>

[33mcommit 1c15ae395fa22c374f982152499861cf0fb6284b[m
Author: niedhui <niedhui@gmail.com>
Date:   Tue Oct 23 11:08:48 2018 +0800

    expression: add builtin conv (#3691)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit d046faecf56a11e526ce4f0211fe76ac5f1c7296[m
Author: Balaji R <rbalajis25@gmail.com>
Date:   Mon Oct 22 17:52:49 2018 +0530

    codec: move timestamp append to key type. (#3692)
    
    Signed-off-by: பாலாஜி ஜின்னா <rbalajis25@gmail.com>

[33mcommit 47fc40c13aaff2359643a1d149096252d26798d9[m
Author: Ryan Leung <rleungx@gmail.com>
Date:   Fri Oct 19 15:52:45 2018 +0800

    bin: add the version info for tikv-ctl (#3662)
    
    Signed-off-by: rleungx <rleungx@gmail.com>

[33mcommit 6ff5c91e08d2bad9cf3d4ffbb4120459d814585a[m
Author: niedhui <niedhui@gmail.com>
Date:   Thu Oct 18 17:48:23 2018 +0800

    expression: add builtin exp  (#3686)
    
    * expression: add builtin exp
    
    Signed-off-by: niedhui <niedhui@gmail.com>
    
    * fix ScalarFuncSig::Radians args length
    
    Signed-off-by: niedhui <niedhui@gmail.com>
    
    * return overflow error when result is a invalid f64
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit af2d5e99495a09aaeaa7619656517fd98022d6e3[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Thu Oct 18 11:36:11 2018 +0800

    docs/tools: update pd-ctl command health and topsize (#3684)
    
    * docs/tools: update pd-ctl command health and topsize
    
    Signed-off-by: lilin90 <lilin@pingcap.com>
    
    * docs/tools: update ellipses
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit 183d572bb80cdfd773618b910a93251c72673a4e[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Oct 17 17:14:44 2018 +0800

    config: remove stale config (#3681)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit d71da0322cd08ad8a24aceac2ff50820b70ed259[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Oct 17 14:18:31 2018 +0800

    use implicit project layout (#3674)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 1f24a09b0a64c705aaa2f1ba641d4efc8de22402[m
Author: niedhui <niedhui@gmail.com>
Date:   Wed Oct 17 09:37:56 2018 +0800

    expression: add builtin radians (#3683)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 4ecc41ab66b5905a05c7ceca4c03af8c171733f5[m
Author: niedhui <niedhui@gmail.com>
Date:   Tue Oct 16 13:23:36 2018 +0800

    Introduce eval_func and eval_func_with helper (#3670)
    
    * Introduce eval_func and eval_func_with helper
    
    Signed-off-by: niedhui <niedhui@gmail.com>
    
    * add some rustdoc
    
    Signed-off-by: niedhui <niedhui@gmail.com>
    
    * fix doc format
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 95d8350884ee8c6c783f03cfaca623c6d1a999ac[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Oct 15 20:57:00 2018 +0800

    Extract panic_hook (#3666)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit e02e15756d6c675a86fd19433feb0e1697fab9fd[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Oct 15 12:46:27 2018 +0800

    util: export ThreadCollector to use it later. (#3672)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit b8f5e5a6e84a09a14df7c896af7262d0df629681[m
Author: Tong Zhigao <solotzg@163.com>
Date:   Mon Oct 15 11:26:06 2018 +0800

    Add tikv_raftstore_event_duration to metrics; (#3657)
    
    Signed-off-by: Tong Zhigao <tongzhigao@pingcap.com>

[33mcommit 8b649eba7388fb878301b5ae92062c1c90f7d4aa[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Sat Oct 13 15:56:19 2018 +0800

    fuzz/fuzz_targets/codec_number: add fuzzing for codec number. (#3668)
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>

[33mcommit 415a74cfa9149d89c148c5c4bd60bb944d483967[m
Author: niedhui <niedhui@gmail.com>
Date:   Fri Oct 12 22:05:35 2018 +0800

    expression: add builtin truncate_decimal (#3637)
    
    * expression: add builtin truncate_decimal
    
    Signed-off-by: niedhui <niedhui@gmail.com>
    
    * more corn cases
    
    Signed-off-by: niedhui <niedhui@gmail.com>
    
    * fix format issue
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit d1cd2eeccc5374693ecbd5e965f68c739718d188[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Oct 12 18:17:53 2018 +0800

    *: upgrade grpcio to v0.4 (#3650)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 8d1a22e9f1cf352b1ab9921cf8b4225c3296b642[m
Author: Ryan Leung <rleungx@gmail.com>
Date:   Fri Oct 12 13:57:23 2018 +0800

    coprocessor/dag/expr: add un-pushed builtin UDFs(InetAton, InetNtoa) (#3659)
    
    Signed-off-by: rleungx <rleungx@gmail.com>

[33mcommit 98498942f5b2bd6169f82e735a61865717b71c8a[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Thu Oct 11 21:33:04 2018 +0800

    coprocessor/dag/expr: make md5 & sha1 a little bit faster. (#3644)
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>

[33mcommit 84fac9310ced9b40eaac55198b89281d32482081[m
Author: Ryan Leung <rleungx@gmail.com>
Date:   Wed Oct 10 21:26:07 2018 +0800

    coprocessor/dag/expr: add un-pushed builtin UDF(Right) (#3653)
    
    Signed-off-by: rleungx <rleungx@gmail.com>

[33mcommit 06b3adb7c6b0a4343200083f8887021f7c541936[m
Author: crazycs <crazycs520@gmail.com>
Date:   Wed Oct 10 17:26:16 2018 +0800

    coprocessor/dag/expr: add builtin concat function (#3654)
    
    Signed-off-by: crazycs <crazycs520@gmail.com>

[33mcommit d0929ade78e9b5aaca9e15def9b67588b0bfa256[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Tue Oct 9 16:47:02 2018 +0800

    docs/op-guide, images: add three TiKV monitor files (#3642)
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit a49b80ebaa14531b44f572f208c82534b7d4e50e[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Oct 9 15:16:15 2018 +0800

    raftstore: Add RegionChangeObserver (#3634)

[33mcommit 5ac5a3372ac90a2359cd5d14cb5a28fdf73f8f2e[m
Author: Ryan Leung <rleungx@gmail.com>
Date:   Tue Oct 9 09:54:50 2018 +0800

    fix some tikv-ctl parameters (#3639)
    
    Signed-off-by: rleungx <rleungx@gmail.com>

[33mcommit dbde50b3bf9370b117a121d4ab7ac9635bd02894[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Oct 8 10:07:33 2018 +0800

    raftstore: check level 0 files before ingest (#3606)

[33mcommit b35f8e6e1ea32695c094e332f65adf58cd540595[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Fri Oct 5 16:02:26 2018 +0800

    coprocessor/dag/expr: add builtin function sha2 (#3649)
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>

[33mcommit fe10af9186718d315311e123bd0eb9b757ab8f9a[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Oct 1 01:20:39 2018 +0800

    enlarge max region size bucket (#3648)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit c683a06a563257c1efe16e1b94d0a7036934736e[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Sun Sep 30 20:40:56 2018 +0800

    change to codegen-units = 1 (#3646)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 4a9fe3ab1fa01ceea9b19baba4661a95ad32bc5b[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Sun Sep 30 17:03:43 2018 +0800

    Roadmap: improve and update (#3641)
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>

[33mcommit d642e43273850100ea6d37e2c292d164a0b0f355[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Sat Sep 29 19:23:29 2018 +0800

    docs/op-guide: add two lines to host network mode (#3643)
    
    * docs/op-guide: add two lines to host network mode
    
    Signed-off-by: lilin90 <lilin@pingcap.com>
    
    * docs/op-guide: address comments
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit e28fd32cfe08c21ae04295f548bf44db5e65d745[m
Author: shizy <shizy04@gmail.com>
Date:   Sat Sep 29 14:19:48 2018 +0800

    coprocessor/dag/expr: add builtin round function(RoundDec, RoundReal, RoundWithFracxxx) (#3621)
    
    Signed-off-by: shizy <shizy@cn.ibm.com>

[33mcommit 3ee21dca43d5fc9d16542e751c5961dceaf21e5f[m[33m ([m[1;33mtag: v2.1.0-rc.3[m[33m)[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Sep 28 16:09:08 2018 +0800

    Provide BufferWriter and BufferReader as alternatives to Read and Write trait (#3636)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 20d5f9e1455584f19dc67ccd00c0feb00b250cac[m
Author: niedhui <niedhui@gmail.com>
Date:   Thu Sep 27 19:57:11 2018 +0800

    expression: add builtin truncate_real (#3633)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 8eddb4c5199c3ce09cdc1517989db672cd388102[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Sep 26 15:47:20 2018 +0800

    *: remove async batch snap (#3552)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit b03492e4b9c38274ebc878351287a1ba64a75fda[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Tue Sep 25 22:46:56 2018 +0800

    coprocessor/codec/mysql/time: Fix parse datetime from string (#3589)
    
    Signed-off-by: spongedc <duchuangucas@live.com>

[33mcommit fbc18a100a60bb878f1c7819b4fcfabca2857834[m
Author: Wenlu Wang <kingwenlu@gmail.com>
Date:   Tue Sep 25 20:00:23 2018 +0800

    expression: add year buildin function (#3622)
    
    Signed-off-by: 王文璐 <kingwenlu@gmail.com>

[33mcommit 78eff19e811935bc4e6586cfc093b67a82753f7c[m
Author: niedhui <niedhui@gmail.com>
Date:   Tue Sep 25 10:25:30 2018 +0800

    expression: add builtin truncate_int (#3532)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 8458ce53ebbd434c48baac6373fe0f0a43a54005[m
Author: Balaji R <rbalajis25@gmail.com>
Date:   Mon Sep 24 06:59:51 2018 +0000

    raftstore: add invalid propose metrics (#3620)
    
    Signed-off-by: பாலாஜி ஜின்னா <rbalajis25@gmail.com>

[33mcommit eae3f9dcfeba8f3adba02eae361d13966049d26a[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Sun Sep 23 01:09:24 2018 +0800

    refactor Month by using new handle_invalid_time_error (#3615)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit b4198ff3ab6cf410137cc7ee72d29d9a58140095[m
Author: Qinxuan Chen <koushiro.cqx@gmail.com>
Date:   Sat Sep 22 14:09:41 2018 +0800

    coprocessor/codec/mysql/duration: Fix micro_secs of Duration (#3625)
    
    Signed-off-by: koushiro <koushiro.cqx@gmail.com>

[33mcommit 91dab794dfcfbd332c62b3187960a8cb10130bfe[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Sat Sep 22 11:56:49 2018 +0800

    Fix typo (#3628)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit c6b5a33f946510a44df7ed620b0a996e2033e106[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Fri Sep 21 17:37:19 2018 +0800

    docs/tools: add PD Recover user guide (#3626)
    
    * docs/tools: add PD Recover user guide
    
    Signed-off-by: lilin90 <lilin@pingcap.com>
    
    * docs/tools: address the comment
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit bcaa0f858017cd7eacf51ec7214e78dd62e7212b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 21 14:36:10 2018 +0800

    worker: make run as a default method (#3593)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 244b55a26626322ebdf4dcfed6ce33c423d4bfff[m
Author: haoxiang <linhaoxiang32@gmail.com>
Date:   Fri Sep 21 07:11:46 2018 +0800

    expression: add builtin sha1 (#3612)
    
    * expression: add builtin sha1
    
    Signed-off-by: haoxiang47 <linhaoxiang32@gmail.com>
    
    * update api result_str -> result
    
    Signed-off-by: haoxiang47 <linhaoxiang32@gmail.com>
    
    * revert sha1 api from result -> result_str
    
    Signed-off-by: haoxiang47 <linhaoxiang32@gmail.com>

[33mcommit dfdacc8df9a592b0676adb554cb7fb35d1a80933[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Sep 20 21:50:22 2018 +0800

    Move coprocessor to read pool (#3515)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit ad1d9f3684148c727d25b9cdf148fa535850b87e[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Sep 19 01:06:50 2018 +0800

    fix from_hex (#2873)
    
    Signed-off-by: zhangjinpeng1987 <zhangjinpeng@pingcap.com>

[33mcommit 2972f3e9002bc238717ffc41555756bfc17b3c33[m
Author: Malong <hello@sllt.me>
Date:   Mon Sep 17 22:28:07 2018 +0800

    coprocessor/dag/expr: add un-pushed builtin UDFs(Log1Arg, Log2Args) (#3603)
    
    Signed-off-by: sllt <hello@sllt.me>

[33mcommit e1b04eba6c0a2851fb4aab798bec2a06c3ae1ad4[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Mon Sep 17 14:43:30 2018 +0800

    docs/op-guide: add software and hardware requirements (#3580)
    
    * docs/op-guide: add software and hardware requirements
    
    Signed-off-by: lilin90 <lilin@pingcap.com>
    
    * docs/op-guide: add note and update number
    
    Signed-off-by: lilin90 <lilin@pingcap.com>
    
    * docs/op-guide: address the comment
    
    Signed-off-by: lilin90 <lilin@pingcap.com>
    
    * docs/op-guide: add a link
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit 397b4a6e9ea6b5dd244247f726d031a4b53d059c[m
Author: Connor <zbk602423539@gmail.com>
Date:   Sun Sep 16 21:25:29 2018 +0800

    more stable merge test (#3607)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 7fc4d1d6df89dc9903e243f8f6eab9484113e0de[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Sun Sep 16 11:56:01 2018 +0800

    Rearrange coprocessor tracker to a standalone file (#3610)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 1aa0d804df303a69c26f311fc0c7f739f26bd63a[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Sat Sep 15 23:24:37 2018 +0800

    refactor handle_invalid_time_error for all bultin-time (#3487)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit 57e684016dafb17dc8a6837d30224be66cbc7246[m[33m ([m[1;33mtag: v2.1.0-rc.2[m[33m)[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Sat Sep 15 01:00:46 2018 +0800

    cargo: update release version (#3614)
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>

[33mcommit 9f4ff2ceb399a927285fdc5d4ba0b583e604c397[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Sat Sep 15 00:19:31 2018 +0800

    CHANGELOG: release 2.1.0-rc.2 (#3613)
    
    * CHANGELOG: release 2.1.0-rc2
    
    Signed-off-by: Huachao Huang <huachao.huang@gmail.com>

[33mcommit 597b89ca86298dac2fd7bd369ac0f2f2eb9aabb7[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 14 20:04:36 2018 +0800

    storage: reduce scheduler msgs (#3583)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit f6d0e24aa28c5b5b5ef843313ed47ed1a1613d09[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Fri Sep 14 19:02:13 2018 +0800

    *: Implement destroy range (#3560)

[33mcommit 2b537ede70274f058e8ac8817d775da0d11f8a9e[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Sep 14 18:20:04 2018 +0800

    raftstore: fix a check about messages from merged region. (#3604)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 90d21a095b60f03657cbd791c4c77b8820e7d720[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 14 17:06:08 2018 +0800

    *: flush log before exit (#3594)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 10820882d264c0ef2598b15e49aa06cb6ba92a21[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Sep 14 15:19:38 2018 +0800

    Cop Readpool Prelude: Introduce Deadline and new ReqContext (#3599)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 1bf5b2945543e665ce49727ccaba61fab5899929[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 14 14:27:16 2018 +0800

    txn: split out process module (#3609)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 68165d7eb886b8a8a608377f5c7cfc562ff6af48[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 14 13:05:22 2018 +0800

    scheduler: use async snapshot (#3551)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 1b407db2f81e8ea96017d73ad8802663f023bdb2[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 14 09:53:19 2018 +0800

    raftstore: lazy remove ReadDelegate when peer is destroyed asynchronously (#3596)

[33mcommit f30f494d05156db45931a161bb26ea27f6f84fd2[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Thu Sep 13 22:27:23 2018 +0800

    raftstore: Suppress EntryCache's growing when a TiKV is down. (#3529)

[33mcommit 693bcbd564df0e9762713a98ec0194a37a74e893[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Thu Sep 13 19:43:45 2018 +0800

    docs/op-guide: add two scaling files (#3585)
    
    * docs/op-guide: add two scaling files
    
    Signed-off-by: lilin90 <lilin@pingcap.com>
    
    * docs: address the comment
    
    Signed-off-by: lilin90 <lilin@pingcap.com>
    
    * docs/op-guide: address comments
    
    Signed-off-by: lilin90 <lilin@pingcap.com>
    
    * docs/op-guide: address comments
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit 2174a98214e904dd9343817f001db1167614bd4c[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Sep 13 14:28:24 2018 +0800

    Remove Generic from DAGContext (#3598)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 2b4257a57983f0e8d6902afd899064561df22654[m
Author: Malong <hello@sllt.me>
Date:   Wed Sep 12 22:36:18 2018 +0800

    dag/expr: implement log2 && log10 (#3379)
    
    Signed-off-by: Malong <hello@sllt.me>

[33mcommit 24b8e0a78c470fe0d912bbd0a5c7d89560e1a2a7[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Sep 12 15:51:08 2018 +0800

    raftstore: bcast commit for urgent requests (#3592)
    
    TiKV disables broadcast commit by default to reduce messages, which leads
    to good overall performance. This option can also lead to delay apply on
    all follower nodes. Sometimes it's unexpected for urgent requests like
    split or similar. This PR enables broadcast commit for those requests
    temporary.

[33mcommit f9b35289653b53c31f7d9a7cad20225016631acd[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Sep 11 13:13:48 2018 +0800

    util/threadpool: add thread pool scheduler (#3582)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 66e306f17e711ba5535142666635ab5f65b1288b[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Sep 11 10:53:40 2018 +0800

    raftstore: update follower size and keys after merge (#3573)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 1f597c99e1a95196114fc7baf1f30f7257411a66[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Sep 10 13:47:03 2018 +0800

    Fix CI by installing tarpaulin from git, so that Cargo.lock is not ignored (#3590)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 5dd4f8a19077dd71cd313033fddff11c32f3c582[m
Author: Yongsheng Xu <chuxdesign@hotmail.com>
Date:   Sun Sep 9 22:04:39 2018 +0800

    feat: Month function (#3569)
    
    Signed-off-by: chux0519 <chuxdesign@hotmail.com>

[33mcommit 9af027f0e5dcccfa9acbd8b51281e172b4cffa25[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Sat Sep 8 23:11:54 2018 +0800

    ignore unknown options (#3571)
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit 227a90ffc19b5ce79901eb97d17fdd08179b0478[m
Author: bb7133 <bb7133@gmail.com>
Date:   Fri Sep 7 10:30:23 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDFs(Greatest*/Least*) (#3113)
    
    Signed-off-by: bb7133 <bb7133@gmail.com>

[33mcommit 89a8d2940086a2c26aac9381653ecf3817fe25ef[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Sep 6 21:53:42 2018 +0800

    Limit garbage cleanup speed to avoid blocking snapshot apply. (#3547)

[33mcommit 2b401797970b6d8daf78c495755fb675a922fc83[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Sep 6 15:18:24 2018 +0800

    raftstore: always update read delegate's region (#3565)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit c3d31b3c007a323f45068dddca4bafabf2c00280[m
Author: Shen Li <shenli3514@gmail.com>
Date:   Thu Sep 6 11:46:04 2018 +0800

    *: Update the tikv repo link (#3576)
    
    * *: Update the tikv repo link
    
    TiKV project has been moved from pingcap/tikv to tikv/tikv already. Some
    of the links are out-of-date.
    
    Signed-off-by: Shen Li <shenli3514@gmail.com>

[33mcommit 4aaeea57473f9727c9764f7742b1af3412a76a4e[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Sep 6 10:39:42 2018 +0800

    Prevent trace! body being executed when log level is smaller (#3538)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 21ec270f008d010d0ffaa7386674af469c959e9e[m
Author: Xiaoguang Sun <sunxiaoguang@users.noreply.github.com>
Date:   Thu Sep 6 09:04:58 2018 +0800

    Clean up unused #[allow] directives (#3553)
    
    Signed-off-by: Xiaoguang Sun <sunxiaoguang@gmail.com>

[33mcommit 355b8fcbfc8a89f426445ab94defd6053c5685de[m
Author: まきちゃん~ <intellild@outlook.com>
Date:   Thu Sep 6 03:31:11 2018 +0800

    coprocessor/dag/expr: add builtin function round_int (#3395)
    
    * coprocessor/dag/expr: add builtin function rount_int
    
    Signed-off-by: intellild <intellild@outlook.com>
    
    * format code
    
    Signed-off-by: intellild <intellild@outlook.com>
    
    * coprocessor/dag/expr: fix round_int tests
    
    Signed-off-by: intellild <intellild@outlook.com>
    
    * coprocessor/dag/expr: use EvalConfig::default_for_test
    
    Signed-off-by: intellild <intellild@outlook.com>

[33mcommit 40a3ebdc3e0e4b891efde261038da18f5803a179[m
Author: xiangyu0xf <xiangyu0xf@gmail.com>
Date:   Thu Sep 6 00:52:17 2018 +0800

    coprocessor/dag/expr: add some builtin UDFs(Rand, RandWithSeed) (#3415)
    
    Signed-off-by: xiangyu0xf <xiangyu0xf@gmail.com>

[33mcommit 0b501a9a6d3bc09f00d052fae6724803f1b8246f[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Sep 5 22:17:44 2018 +0800

    MsgRequestPreVote messages from new splited regions shouldn't be dropped. (#3557)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit be74226be633bbf4ddeb3d42fbc0173c665d24c0[m
Author: Tao Meng <mtunique@users.noreply.github.com>
Date:   Wed Sep 5 19:16:35 2018 +0800

    expression: add builtin cot, degrees (#3543)
    
    Signed-off-by: Tao Meng <oatgnem@gmail.com>

[33mcommit d9b0ce5391c79ee4a898dda8440fb110cab30381[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Wed Sep 5 15:05:02 2018 +0800

    docs: update directory, file name, wording (#3570)
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit a10cee1916b2ff02abd6a5ce0a731245565bc3c6[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Sep 5 14:05:55 2018 +0800

    raftstore: remove read delegate on conf change remove node (#3561)

[33mcommit 3d57a0701c0d4128f718ff9b91cbe0912f035a88[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Sep 5 11:20:40 2018 +0800

    tests: disable slow bench test (#3567)
    
    tombstone_scan is slow to start and it doesn't have to be run
    every time.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 195c90915a3725d96db6a099a9f6c7bf3c601219[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Wed Sep 5 10:45:26 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDFs(LTrim, RTrim) (#3400)
    
    Signed-off-by: spongedc <duchuangucas@live.com>

[33mcommit 036a1d265e4b029486191d4239753b4b0ce1bf43[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Tue Sep 4 21:28:30 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDFs(BitCount) (#3394)
    
    Signed-off-by: spongedc <duchuangucas@live.com>

[33mcommit 3d92943653d159b5d6ac259cb969b7b09a1e6dd2[m
Author: Ian Huang <ian.d2d@qq.com>
Date:   Tue Sep 4 21:01:30 2018 +0800

    expr/builtin_fncall: implement HexIntArg, HexStrArg (#3478)
    
    Signed-off-by: sweetIan <ian.d2d@qq.com>

[33mcommit 03ff8e967bf2a53e8d301f800c16a8934c0754d5[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Tue Sep 4 18:50:05 2018 +0800

    Restrict opening engine number (#3496)
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit 5a662bb3600f2dd2c19506e82d2f5306f2f17cf8[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Tue Sep 4 15:35:01 2018 +0800

    docs: add PD Scheduler config file (#3500)
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit 36fc42c2ef8db07031e5b71b8f38f141fa6a30aa[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Tue Sep 4 14:56:14 2018 +0800

    docs: add label config file (#3512)
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit 682b0c8434e61afdaff3784c0c68685ab78790de[m
Author: Ang Lee <malclee@outlook.com>
Date:   Tue Sep 4 14:10:56 2018 +0800

    coprocessor/dag/expr: add un-pushed builtin UDFs(Asin, Acos) (#3482)
    
    Signed-off-by: malc0lm <malclee@outlook.com>

[33mcommit 780351aeda196af32433f9c0ece5bad4cf479545[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Tue Sep 4 13:21:52 2018 +0800

    coprocessor/dag/expr: add un-pushed builtin UDFs(elt) (#3555)
    
    Signed-off-by: spongedc <duchuangucas@live.com>

[33mcommit 5c99713898257fb7802c454806ceeaa7d2834223[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Sep 4 12:51:42 2018 +0800

    reduce key clone in gc (#3558)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 854236ddb5a544cadff6e844c9add3859f635d34[m
Author: Caitin <34535727+CaitinChen@users.noreply.github.com>
Date:   Tue Sep 4 11:34:49 2018 +0800

    docs: Add TiKV storage config (#3525)
    
    Signed-off-by: CaitinChen <chenchun@pingcap.com>

[33mcommit 760ccae7832b0fe2a7a482d5991776c215acabec[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Tue Sep 4 10:44:59 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDF(CharLength) (#3461)
    
    Signed-off-by: spongedc <duchuangucas@live.com>

[33mcommit 75046a476216ad6c3b9c6983df2cfe1132b673fa[m
Author: Ian Huang <ian.d2d@qq.com>
Date:   Tue Sep 4 10:07:02 2018 +0800

    expr/builtin_fncall: implement Inet6Ntoa (#3519)
    
    Signed-off-by: sweetIan <ian.d2d@qq.com>

[33mcommit aa01f25437abd8c8f9a0b4d84e881a8fb976dd65[m
Author: Fuyang Liu <liufuyang@users.noreply.github.com>
Date:   Tue Sep 4 01:48:31 2018 +0200

    expr/builtin_fncall: implement math.Sin (#3406)
    
    Signed-off-by: Fuyang Liu <liufuyang@users.noreply.github.com>

[33mcommit 0faa80794c572f807c66cf648e41c541375d5151[m
Author: Penghan Wang <WPH95@users.noreply.github.com>
Date:   Tue Sep 4 01:07:16 2018 +0800

    coprocessor/dag/expr: add lastDay (#3556)
    
    Signed-off-by: wph95 <justwph@gmail.com>

[33mcommit 5aa87689383065752b5e432f3029ff4ead9093fb[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Tue Sep 4 00:15:24 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDF(Reverse, ReverseBinary) (#3435)
    
    Signed-off-by: spongedc <duchuangucas@live.com>

[33mcommit 730c63d24cd7e613d9b19ca002ffbbe41870a9ae[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Sep 3 22:52:34 2018 +0800

    Move coprocessor test utilites to test_coprocessor library (#3495)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit e5a2daff731bcc12230a07e8d12e98bb31556db5[m
Author: Hijiao <xiahaijiao@hotmail.com>
Date:   Mon Sep 3 19:36:02 2018 +0800

    coprocessor/dag/expr: add un-pushed builtin UDFs(md5) (#3554)
    
    Signed-off-by: Max <xiahaijiao@hotmail.com>

[33mcommit 8c6d689933a76794cbe3f36e76a89f7b7caee7e1[m
Author: Caitin <34535727+CaitinChen@users.noreply.github.com>
Date:   Mon Sep 3 16:25:41 2018 +0800

    docs: add gRPC config doc (#3534)
    
    Signed-off-by: CaitinChen <chenchun@pingcap.com>

[33mcommit 246fce6f830a552420a41089b667c907babe75b1[m
Author: Caitin <34535727+CaitinChen@users.noreply.github.com>
Date:   Mon Sep 3 15:27:39 2018 +0800

    docs: add securing TiKV cluster doc (#3536)
    
    Signed-off-by: CaitinChen <chenchun@pingcap.com>

[33mcommit 958981696dac581de38564b077f12aeffcf75f34[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Mon Sep 3 14:20:13 2018 +0800

    docs: add namespace config and PD Control guide (#3504)
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit 2db89c294aafd11751c957c428307c4ce769afae[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Sep 3 13:13:48 2018 +0800

    Allow configuring leader transfer max allowed log lag (#3507)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit e0c17ff84e9b4bf768aa4f83286e11853a12f7e2[m
Author: Connor <zbk602423539@gmail.com>
Date:   Sun Sep 2 01:39:11 2018 +0800

    storage/txn: reduce clone in txn scheduler (#3530)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit ffbfac0c204352db7b136f8a2d3899f5c56e7131[m
Author: Caitin <34535727+CaitinChen@users.noreply.github.com>
Date:   Sat Sep 1 15:44:24 2018 +0800

    docs: add TiKV Coprocessor config doc (#3535)
    
    Signed-off-by: CaitinChen <chenchun@pingcap.com>

[33mcommit 57f5824ed61de483945c725e6b0969f29b29eb5b[m
Author: Caitin <34535727+CaitinChen@users.noreply.github.com>
Date:   Sat Sep 1 12:28:04 2018 +0800

    docs: Add RocksDB option config doc (#3526)
    
    Signed-off-by: CaitinChen <chenchun@pingcap.com>

[33mcommit 01415feb1ba7c4f812ce13dbea083b74a783e5ab[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Aug 31 17:46:19 2018 +0800

    store/util: human readable expired time (#3545)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 2b1998eae20f15e691ff6a723920ace51f1da190[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Fri Aug 31 16:31:28 2018 +0800

    docs: add TiKV Control User Guide (#3502)
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit bad8960c0c1af6b1070e2b0e87290415182382aa[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Aug 31 14:40:59 2018 +0800

    raftstore: fix false stale peer alert (#3483)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 856be004f931aac4c49c334f8b4d015e906dbcf5[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Aug 31 13:02:04 2018 +0800

    config-template: add keepalive entry (#3533)
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 1d190dfd7d89e6e9fecfba12124daa5e907efe44[m
Author: Connor <zbk602423539@gmail.com>
Date:   Thu Aug 30 23:36:39 2018 +0800

    raftstore/coprocessor: use approximate way to split when meet large region (#3511)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit f33e0c84ed83721c7c04aec4820ec832935efa44[m
Author: opensourcegeek <3.pravin@gmail.com>
Date:   Thu Aug 30 11:42:32 2018 +0100

    added is_ipv6 to coprocessor expressions (#3479)
    
    * added is_ipv6 to coprocessor expressions
    
    Signed-off-by: opensourcegeek <3.pravin@gmail.com>
    
    * moved to concrete Ipv4addr/Ipv6Addr from_str method to check IP addresses and cleaned other utility functions as it's more readable
    
    Signed-off-by: opensourcegeek <3.pravin@gmail.com>
    
    * Removed unwanted imports
    
    Signed-off-by: opensourcegeek <3.pravin@gmail.com>

[33mcommit 3be7055f687272020f69a1697258e962cef8d944[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Aug 30 16:06:15 2018 +0800

    tests: stabilize test_batch_snapshot (#3544)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 2980f080d3f86f7dfecfdb4222feea3e01d0b1ef[m
Author: Observer42 <yishengxu@outlook.com>
Date:   Thu Aug 30 14:55:11 2018 +0800

    coprocessor/dag/expr: add un-pushed builtin UDFs(Atan1Arg, Atan2Args) (#3520)
    
    Signed-off-by: Observer42 <yishengxu@outlook.com>

[33mcommit 71ae81f6d6b625521e34c96bb4ac0de9d30b1c2c[m
Author: Chris Aniszczyk <caniszczyk@gmail.com>
Date:   Wed Aug 29 09:00:00 2018 -0700

    Add reference to CNCF (#3541)
    
    We require projects to reference CNCF in their README.
    
    Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>

[33mcommit c314167abd26912d66d4db977a5887cb602110b4[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Aug 29 20:30:20 2018 +0800

    raftstore: add a way to get approximate split keys (#3506)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 4666556aacfdce8d85543060d0cae9375c14839c[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Wed Aug 29 18:00:40 2018 +0800

    docs/*: add overview, op-guide, client (#3494)
    
    * docs/*: add overview, op-guide, client
    
    Signed-off-by: lilin90 <lilin@pingcap.com>

[33mcommit 6f3ffa9229fb1e604353e569b4d2ac663ace40da[m
Author: Observer42 <yishengxu@outlook.com>
Date:   Wed Aug 29 15:48:00 2018 +0800

    coprocessor/dag/expr: add un-pushed builtin UDFs(Sign) (#3518)
    
    Signed-off-by: Observer42 <yishengxu@outlook.com>

[33mcommit 3b1958297e8269ce745627766fa171f39dbc3c14[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Aug 29 08:32:48 2018 +0800

    update .dockerignore (#3540)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit fd6137cf04d7f6600a4f5669835e5363bc2a1aca[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Aug 28 15:38:49 2018 +0800

     raftstore: split store module (#3528)
    
    * raftstore: restruct store module
    
    This PR divides store module into two parts: one is for overall store
    operations, the other is for region related operations. It's very
    helpful for threaded raftstore experiment, as it can reduce the conflict
    a lot.
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit ad5a3f27ae0fba2556d9de553a5c0fc9c022a94f[m
Author: Xiaoguang Sun <sunxiaoguang@users.noreply.github.com>
Date:   Tue Aug 28 07:56:32 2018 +0800

    Print help message when starting tikv-ctl without argument (#3531)
    
    Signed-off-by: Xiaoguang Sun <sunxiaoguang@gmail.com>

[33mcommit 18f10b0f1968c442b8d5e807e0f81871e189e1af[m
Author: disksing <i@disksing.com>
Date:   Mon Aug 27 18:17:24 2018 +0800

    fix wrong changelog format (#3522)
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit ad0275a0c348d2040da68451a6786f96ed3f8d37[m
Author: Xiaoguang Sun <sunxiaoguang@users.noreply.github.com>
Date:   Mon Aug 27 16:13:06 2018 +0800

    Change get_region and get_region_info to use a common implementation (#3521)
    
    Signed-off-by: Xiaoguang Sun <sunxiaoguang@gmail.com>

[33mcommit 872f1c83e079c087c56ae177be1dda5ffee4bb5a[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Aug 27 13:57:19 2018 +0800

    *: escape batch split keys (#3489)

[33mcommit e7d1ce65fead7ab08a55dce3b54f450f4fcc9b58[m[33m ([m[1;33mtag: v2.1.0-rc.1[m[33m)[m
Author: disksing <i@disksing.com>
Date:   Fri Aug 24 21:10:30 2018 +0800

    release v2.1.0-rc.1 (#3514)
    
    * release v2.1.0-rc.1
    
    Signed-off-by: disksing <i@disksing.com>

[33mcommit bc2641bbca47c99bd043290f7755f94511324138[m
Author: Ian Huang <ian.d2d@qq.com>
Date:   Fri Aug 24 15:44:01 2018 +0800

    expr/builtin_fncall: implement Inet6Aton (#3480)
    
    Signed-off-by: sweetIan <ian.d2d@qq.com>

[33mcommit 235f3b1e47dcadc2962aa03d88b7162302e900cf[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Aug 24 12:50:05 2018 +0800

    raftstore: an efficient workflow for localreader (#3443)
    
    * Attach term to RemoteLease
    
    * ReadExecutor owns snapshots
    
    * raftstore: a new efficient workflow for localreader
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit acda036761f8d5ff703dae067eb7662f01d4817e[m
Author: niedhui <niedhui@gmail.com>
Date:   Fri Aug 24 10:07:03 2018 +0800

    upgrade denendencies (#3488)
    
    Signed-off-by: niedhui <niedhui@gmail.com>

[33mcommit 6e59dcc1a023c914ab5ec816cce2fd0da3758940[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Aug 24 08:41:45 2018 +0800

    tests/split_observer: fix defective kv flush (#3505)

[33mcommit bb84bdb737a80fcf5e726b3d6b604725f9cbe630[m
Author: kxu <kevin.s.xu@gmail.com>
Date:   Thu Aug 23 11:52:05 2018 -0700

    Update README.md

[33mcommit fa84ff38b5ed8882d1b4196812ed4594f3ec0dc5[m
Author: kxu <kevin.s.xu@gmail.com>
Date:   Thu Aug 23 11:45:58 2018 -0700

    Update README.md

[33mcommit 81e0bacf45f21d3e6b0fae8fe9c109fe35a4e8d2[m
Author: kxu <kevin.s.xu@gmail.com>
Date:   Thu Aug 23 11:45:21 2018 -0700

    Update README.md

[33mcommit 85df9279abe6f3c4ec759fcdc5b419388921540d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Aug 23 19:09:30 2018 +0800

    service: handle API error properly (#3450)
    
    Errors returned by storage API calls should be handled properly,
    instead of turning them into grpc errors, which will affect how does
    the TiClient choose retry policy.
    
    Note that ServerBusy is reported when the channel of scheduler is
    full from now on. And when threaded raftstore is landed, there may
    be more region related errors reported by the API calls.
    
    /cc pingcap/tidb#7354
    
    Signed-off-by: Jay Lee <busyjaylee@gmail.com>

[33mcommit 4d94bef4e0ed441914b7a4de4fa6a298f1194437[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Aug 23 14:51:48 2018 +0800

    Remove isolation level and scan mode option from MvccTxn (#3445)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 6de7caca695ca35451eab7323113a459532821f0[m
Author: Connor <zbk602423539@gmail.com>
Date:   Thu Aug 23 09:55:44 2018 +0800

    raftstore: update approximate size and keys after merge (#3497)

[33mcommit 19c58da81eb613f8f00a7a99c72fe188ce88b12e[m
Author: Vladimir Korenev <vkorenev@gmail.com>
Date:   Wed Aug 22 14:23:19 2018 -0700

    expression: add builtin cos (#3410)
    
    Signed-off-by: Vladimir Korenev <vkorenev@gmail.com>

[33mcommit 2d2b74466e765c811e820579a7cd43937971d58c[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Aug 23 00:26:45 2018 +0800

    Follow Rust Naming Guideline for Key encoded & raw interface (#3499)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 004e502c0eb002b157fad593b3218359ae6481dd[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Aug 22 14:45:46 2018 +0800

    associate a buffer to AggFuncExpr to reduce memory alloc. (#3490)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit eb3920386f58d6fe90690da0fda283e44c171c2a[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Aug 21 19:41:39 2018 +0800

    pd: try ask_split when ask_batch_split incompatible (#3459)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 208b9049978c3a5f4103ac2cd6eb6c553450a9f2[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Aug 21 17:03:30 2018 +0800

    endpoint: use async snapshot (#3485)
    
    This reverts commit ec53f365c07e78c086c9a73e216acce4c2c5c918.
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 7665ab9477e01eda897820cef638f178614295de[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Aug 20 09:08:41 2018 -0700

    coprocessor/codec: add comments and inline (#3457)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit 3a0ed310cc071604d165ab94f4d47fce10461c0d[m
Author: dongxu <i@huangdx.net>
Date:   Mon Aug 20 21:06:32 2018 +0800

    Fix CI badge URL (#3484)
    
    Signed-off-by: c4pt0r <i@huangdx.net>

[33mcommit 34cfc3e94f3677528e669c7f7be288ff6f506dcd[m
Author: Weizhen Wang <hawking.rei@gmail.com>
Date:   Mon Aug 20 18:42:54 2018 +0800

    coprocessor/dag/expr: add date (#3428)
    
    Signed-off-by: Wangweizhen <hawking.rei@gmail.com>

[33mcommit 9cf4e36ad6fbc82b3d356dd47795ca1c20365adc[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Aug 20 16:33:42 2018 +0800

    Accepts &self for Cursor::key() and ::value() (#3448)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit eec55a293ba72a63606d446f704b46bb366107fc[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Aug 20 14:12:20 2018 +0800

    New Forward / Backward Scanners (#3458)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 4db3b749c4b18c4cdd188af14bb8f82e991002f5[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Aug 20 12:47:30 2018 +0800

    Split-checkers support produce multiple split keys (#3464)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 4e93a8ef7d97fe21c6160fb79ffab23b9082cbb6[m
Author: smallyard <liuhongqiang@live.cn>
Date:   Sat Aug 18 14:29:15 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDF(Pow) #3411 (#3475)

[33mcommit aeeefa6d8e0364d53aacd66fa06bbfeb2932ce91[m
Author: Connor <zbk602423539@gmail.com>
Date:   Sat Aug 18 12:33:13 2018 +0800

    pd: return actual err from pd_client (#3473)
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit f72ce79db4a103037f04ae3ed0c3cec9d91c2b43[m
Author: Ian Huang <ian.d2d@qq.com>
Date:   Sat Aug 18 11:10:21 2018 +0800

    expr/builtin_fncall: implement UnHex (#3469)

[33mcommit 83951db7fba448b0ec693c2f37da1cd756cb54a1[m
Author: xiangyu0xf <xiangyu0xf@gmail.com>
Date:   Sat Aug 18 09:37:30 2018 +0800

    coprocessor/dag/expr: add un-pushed builtin UDFs(Sqrt) (#3476)

[33mcommit 3ec72e8bbc2c622a878f14ccc8e3a608357b911a[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Aug 17 20:51:17 2018 +0800

    create peer when pre-vote received if need (#3380)

[33mcommit 9e755008e39a63bd679305ca7a536315a16bdf53[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Aug 17 19:01:48 2018 +0800

    Set max-message-size to i32::MAX. (#3467)

[33mcommit 9d87f98de78a599d13b7d10879cbee6457115127[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Aug 17 16:59:09 2018 +0800

    support batch split (#3064)

[33mcommit 51e935dac483dd897a06cdd019b7d2be69e7821b[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Aug 17 14:50:57 2018 +0800

    coprocessor: decode string with given charset. (#3451)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit ed9db5f86f2ee942ce4ffd757804b70295141a48[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Aug 17 13:49:46 2018 +0800

    bench/test: add tests for the official lib of arrow. (#3437)

[33mcommit c75bb85cfc79833f7aa60fc45209bbcde0842ef6[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Fri Aug 17 12:33:57 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDF(Left) (#3413)

[33mcommit 25dbc2267b448a1ff3dfbb53b1738d87101f1609[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Fri Aug 17 10:45:35 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDFs(LeftShift, RightShift) (#3391)

[33mcommit 6b273cd2cf566de9dc4cc1a10ff90e12d355a8e3[m
Author: Tesla Ice Zhang <ice1000kotlin@foxmail.com>
Date:   Thu Aug 16 12:13:53 2018 -0400

    Make use of `EvalConfigBuilder` (#3354)
    
    Signed-off-by: ice1000 <ice1000kotlin@foxmail.com>

[33mcommit 326fd5b0327b9a919a0a75342a2e6a20c450bee3[m
Author: opensourcegeek <3.pravin@gmail.com>
Date:   Thu Aug 16 13:21:26 2018 +0100

    is_ipv4 expression implemented for coprocessor (#3460)
    
    Signed-off-by: opensourcegeek <3.pravin@gmail.com>

[33mcommit 9f6e85b246502cd4ffa072e1ae04eba3d96e0f03[m
Author: bb7133 <bb7133@gmail.com>
Date:   Thu Aug 16 16:58:20 2018 +0800

    mysql/decimal: fix bug in do_div_mod (#3336)

[33mcommit f95782a2c0ab60f9a4eacb6e8e1341fde804dfaf[m
Author: York Xiang <bombless@126.com>
Date:   Thu Aug 16 10:27:45 2018 +0800

    Fix missing paren in README.md (#3463)

[33mcommit 5af1bac519c3afd787ee2908da107456457f0dd9[m
Author: Andrew Pope <arosspope@users.noreply.github.com>
Date:   Wed Aug 15 19:57:21 2018 +1000

    expression: add builtin tan (#3456)

[33mcommit 552048477819908e1212807e95bf89cd4f525ad8[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Aug 15 13:34:35 2018 +0800

    Extract shared test library to avoid #[path] directives (#3365)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 9957d684fe60e29dc2274e3d9be58cefd8de8fea[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Aug 14 18:07:45 2018 -0700

    benches/coprocessor: add some benchmark cases (#3412)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit 918741c254b1fb91a020f7c1c3ca0dfdf35369c3[m
Author: Greg Weber <greg@gregweber.info>
Date:   Tue Aug 14 09:14:18 2018 -0700

    add detailed information to error logs (#3417)
    
    Signed-off-by: Greg Weber <greg@gregweber.info>

[33mcommit b2adfb2af23da9e1748897c40f45cdd5a946d949[m
Author: MyonKeminta <9948422+MyonKeminta@users.noreply.github.com>
Date:   Tue Aug 14 17:15:47 2018 +0800

    Optimize prefix_next (#3446)
    
    Signed-off-by: MyonKeminta <MyonKeminta@users.noreply.github.com>

[33mcommit deedb2393f204eadb9481e77993334ae50f5fd4b[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Mon Aug 13 23:56:46 2018 -0700

    tests: Relax some Prevote tests. (#3386)
    
    Signed-off-by: Hoverbear <andrew@hoverbear.org>

[33mcommit 39d1aabd37db228fec80fa5ee0e410f6b73ac681[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Aug 14 12:09:02 2018 +0800

    util: decode bytes inplace (#3427)
    
    * encode bytes in place
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * clean code
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * add comment
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * tiny change
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * address comment
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * address comment
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * address comment
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * fix format
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * improve test
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * tiny fix
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * fix maybe ignore wrong padding
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * add comment
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * fix format
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * address comment
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * clean
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit c76de4e3121f41c9c28b4f3e7ad9da27f65c8661[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Aug 14 10:55:48 2018 +0800

    Expose test utils for engine and mvcc (#3444)
    
    Signed-off-by: Breezewish <breezewish@pingcap.com>

[33mcommit 05b6295f3e1215964e8551170c727b9d4b3e0d9f[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Tue Aug 14 09:15:42 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDF(ASCII) (#3436)
    
    Signed-off-by: spongedc <duchuangucas@live.com>

[33mcommit eac990db90a15b1656d1ba08826bf63d0c667a78[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Aug 13 19:36:07 2018 +0800

    Use get/set to access peer_storage internal state. (#3438)
    
    Signed-off-by: qupeng <qupeng@pingcap.com>

[33mcommit 80f3cdd2dd6618473a0bdc6c611fc78ac43eaeaf[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Aug 13 16:09:01 2018 +0800

    mvcc: reduce value clone in prewrite (#3432)
    
    * reduce value clone in prewrite
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * fix
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit 3cd24e6959d09c59250d5bd4de60ff3eeff91604[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Aug 13 14:21:39 2018 +0800

    normalize file operate API. (#3430)

[33mcommit 1b0d761ccbb02c91fdd01740716092bfb081bfb8[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Mon Aug 13 12:03:21 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDF(Upper, Lower (#3433)
    
    Signed-off-by: spongedc <duchuangucas@live.com>

[33mcommit 4c743e8d63f019758563a0230ddcb2c0c6c88a39[m
Author: Greg Weber <greg@gregweber.info>
Date:   Sun Aug 12 01:42:51 2018 -0700

    use verb tense to indicate connection state (#3416)
    
    Signed-off-by: Greg Weber <greg@gregweber.info>

[33mcommit a69c68cd505042b0832514205cc337d8a38fc751[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Sat Aug 11 20:47:30 2018 +0800

    [add] adjust "dynamic_level_bytes" for existing column families (#3348)
    
    [modify] Use new rust-rocksdb version
    [modify] revert Cargo.lock
    [modify] revert Cargo.lock
    [modify] make checker happy
    [modify] set dynamic_level_bytes to true
    [modify] clean code
    
    Signed-off-by: DorianZheng <xingzhengde72@gmail.com>

[33mcommit 39823cd0f6c64a5addda0edd751df31468cc9349[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Aug 11 11:13:21 2018 +0800

    CONTRIBUTION: update Signed-Off-by (#3424)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit 1fa177486f5cea67acb7873a47b3f0902c20c1ee[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Aug 10 23:14:04 2018 +0800

    coprocessor/chunk: add comments and inline for chunk (#3419)
    
    Signed-off-by: siddontang <siddontang@gmail.com>

[33mcommit 71cc899edaf10080bfff485055cad6f89bd8b5d8[m
Author: Connor <zbk602423539@gmail.com>
Date:   Fri Aug 10 22:26:37 2018 +0800

    util: add from_encoded_slice (#3429)
    
    * add from_encoded_slice
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>
    
    * fix typo
    
    Signed-off-by: Connor1996 <zbk602423539@gmail.com>

[33mcommit e516dbda254add22df095e6f1e5481db4c7f58c9[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Aug 10 16:55:24 2018 +0800

    *: add local reader for read requests (#2639)
    
    Signed-off-by: Neil Shen <overvenus@gmail.com>

[33mcommit 5cb6355acb7c72db49b5eddbf612d69a63df74ed[m
Author: smallyard <liuhongqiang@live.cn>
Date:   Fri Aug 10 15:11:48 2018 +0800

    Output Unit "Byte" for tikv-ctl (#3421)

[33mcommit b28e09daa0c7b251f3b169910afb3bcd855d1c41[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Aug 10 13:37:57 2018 +0800

    Move read flow statistics to cursor (#3402)
    
    Signed-off-by: breeswish breezewish@pingcap.com

[33mcommit 419c92cac1e07d8ea64811590fdf73498521a233[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Aug 10 01:24:26 2018 +0800

    fix 2 test cases (#3399)
    
    * "RegionNotFound" reported by tikv should be retriable.
    
    * fix 2 test cases.
    
    * improve.
    
    * update some coments to make the test more clear.
    
    * simplify test_merge.
    
    * address comments.
    
    * address comments.

[33mcommit 003ccc65a548a9d881963f7185c6dd8d65ad612d[m
Author: Ian Huang <ian.d2d@qq.com>
Date:   Thu Aug 9 20:09:12 2018 +0800

    expr/builtin_fncall: implement PI (#3382)

[33mcommit e1f32ddf18a0de3539e1040cf4970f05b42ce052[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Aug 9 19:24:54 2018 +0800

    mysql/decimal:fix bug caused by overflow (#3343)

[33mcommit ca4814ab5cd40f33f1b0a831639c38abafb83973[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Aug 9 18:26:15 2018 +0800

    coprocessor/split_check: support split region by the number of keys (#3317)

[33mcommit 15552e51a822164821c621196d4f68eb24670084[m
Author: dongxu <i@huangdx.net>
Date:   Thu Aug 9 17:24:35 2018 +0800

    Update README.md (#3420)

[33mcommit 96022a982b6b34d9cd8b690cf6d4b0b85ffae247[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Tue Aug 7 07:51:19 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDF(Bin) (#3397)

[33mcommit e2e384cf5096381b3f10db164481fa1154e8fad0[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Aug 6 14:51:27 2018 +0800

    A clean up for functions of Key (#3396)

[33mcommit dbf6441cd1a9bc67e4a6484a69f95df7b65e0ff6[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Aug 6 12:08:12 2018 +0800

    Use ? operator in process_read (#3388)

[33mcommit 746e2e5336ac2a8891b108b5ce7ac0f2f16250f8[m
Author: bb7133 <bb7133@gmail.com>
Date:   Mon Aug 6 08:28:27 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDFs(Interval) (#3330)

[33mcommit bc1bfa3bd19b93f17b83a79484475cb0311afea7[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Sun Aug 5 08:05:13 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDFs(Length, BitLength) (#3376)

[33mcommit 323c76c5329ee177ff49cb78d76caa7f9d3be73e[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Sat Aug 4 11:03:50 2018 +0800

    Support specifying time zone by names (#3281)

[33mcommit 7fd6ec439c56b95a0f1cef6b18776cba0196599e[m
Author: 庄天翼 <zty0826@gmail.com>
Date:   Fri Aug 3 23:31:36 2018 +0800

    expression: add builtin crc32 (#3374)

[33mcommit ba968f1de0b9086a6733a2a9200ac97ee5277db4[m
Author: Connor <zbk602423539@gmail.com>
Date:   Fri Aug 3 09:42:56 2018 +0700

    *: reduce Key related memcpy (#3372)
    
    * reduce key related memcpy
    
    * reduce ralloc
    
    * reserve for append
    
    * fix format
    
    * impl custom clone

[33mcommit 55ec1099cc559e1fc33aaf29d102c78b5acf94b4[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Aug 3 00:03:33 2018 +0800

    Optimize scan_lock (#3350)

[33mcommit 2294a09d74d052a83cb31bcfb39bd221010743a9[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Aug 2 19:25:56 2018 +0800

    Executor/aggregation: refactor StreamAggExecutor and HashAggExecutor (#3373)

[33mcommit b757bdeebffa9dada360b13adb84fd5877fad988[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Aug 2 14:26:36 2018 +0800

    gc stale peers sending pre-vote messages. (#3369)

[33mcommit ecde5e3066538e86c1bab82b85768c309fc764a5[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Aug 1 18:27:47 2018 +0800

    dag/executor:refactor Row (#3359)

[33mcommit 09c275a3125653dd2a7d8c440d44273e2b1aec24[m
Author: MyonKeminta <MyonKeminta@users.noreply.github.com>
Date:   Wed Aug 1 15:26:08 2018 +0800

    storage/raftkv, raftstore: Export seek_region interface to RaftKv (#3107)

[33mcommit 6b4a8e00ae25ee281c8a12f75a2f8dee7134de7d[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jul 31 18:52:47 2018 +0800

    properties: use RangeProperties instead of SizeProperties (#3322)

[33mcommit eea962405a59bbd3f895494e77d1b1697108f544[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Jul 31 17:42:58 2018 +0800

    Generate build info from environment variable (#3368)

[33mcommit c24136a6eb62388ab15a35e2f683d07fae171cad[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Jul 31 15:34:44 2018 +0800

    bin: integrate fail to tikv ctl (#3364)

[33mcommit 7702e7a77ca0da6fba0df75cd46f14fcbf64cf8f[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Jul 31 12:13:02 2018 +0800

    accept &str instead of String for rawkv_cf (#3370)

[33mcommit e563ec0bfb280edd903d76fa0bbac75b90cbfff1[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Jul 31 09:59:12 2018 +0800

    scan_lock -> scan_locks (#3371)

[33mcommit 8f1124735e591d255bde6a24bb4907aab1aa9c41[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Jul 30 20:14:14 2018 +0800

    Rename threads (#3351)

[33mcommit 5acee7a4885b77c0b7ccbcbc0e70a3ca1a72b48f[m
Author: caojiafeng <funfriendcjf@gmail.com>
Date:   Mon Jul 30 15:09:54 2018 +0800

    raftstore: log duration after compact_range finished (#3340)

[33mcommit 38e082ba40bbbdf77a9195b4a611cb339e0c43c1[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Jul 28 00:20:01 2018 +0800

    update timer (#3323)

[33mcommit 4c368766130ccbd184d6c126b3a450eb210ee2c6[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Jul 27 22:50:24 2018 +0800

    tests: improve test case about raft learner (#3321)
    
    * tests: improve learner test case.
    
    * address comments.
    
    * can't add learners with same peer id.
    
    * add a comment.
    
    * fix.
    
    * disable add peer with less epoch on tombstone.
    
    * Add a test case for stale message to tombstone peer.
    
    * address commnets.
    
    * split it to 2 PRs.
    
    * address comments.

[33mcommit a859617152767a5b16c3ed2462f9bb635ec10557[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jul 27 20:59:06 2018 +0800

    mvcc: escape keys in Error (#3361)

[33mcommit 483f929d11f009f23d6d2e210af085739a13ffa3[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Wed Jul 25 19:02:59 2018 -0700

    ci: Use rustup provided clippy. (#3335)

[33mcommit b367351b637beed8988cbbf5c59e96a47b31c7a3[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jul 25 14:07:24 2018 +0800

    util/metrics: add threads IO metrics (#3338)

[33mcommit cfca603bc6d9028d91a3469a86847fd2a63ce995[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Jul 25 10:29:42 2018 +0800

    chunk:support encode/decode (#3332)

[33mcommit ee1096164707bcdbaf7f9f5522037a5a87ce8a06[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Jul 24 23:51:15 2018 +0800

    txn: stop searching ASAP in get_txn_commit_info (#3308)

[33mcommit 2d30cb475640703ed91bc15e5c37e7c333b402cc[m
Author: Connor <zbk602423539@gmail.com>
Date:   Tue Jul 24 10:37:25 2018 +0700

    raftstore: beautify task log (#3339)

[33mcommit 50161208d7756003e2fc913b28becf240de167bb[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Jul 20 16:51:39 2018 +0800

    tikv-ctl: add bottommost level compaction (#3273)

[33mcommit b13766c218858d298f75c00b09549c9512ded36d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jul 20 11:13:37 2018 +0800

    bin: check sensitive environment variables (#3329)

[33mcommit 68c2b45b015984bb505e23a85999af304c18e4e5[m
Author: ShuNing <nolouch@gmail.com>
Date:   Thu Jul 19 20:17:50 2018 +0800

    server: record version in node (#3319)

[33mcommit 9399b92ab056a24e322e509e091d1536053576a4[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Wed Jul 18 18:45:33 2018 -0700

    raft: Enable prevote by default (#3289)

[33mcommit 930948fbcc6772f9834601b229a6dd013f13758d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Jul 18 21:32:42 2018 +0800

    *: fix template permissions (#3328)
    
    Origin permission (755) is wrong for text documents that just for
    reading.

[33mcommit 2963e6e503e64e0377614ae52c0bc2964a216aae[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Jul 18 18:23:13 2018 +0800

    mysql/decimal: fix bug in from_bytes (#3240)

[33mcommit 1386079d3595e36b2154ce79cb7b4be59bff7086[m
Author: Guillaume Gomez <guillaume1.gomez@gmail.com>
Date:   Wed Jul 18 10:43:43 2018 +0200

    Remove useless unknown_lints (#3282)

[33mcommit 825aca784e6f933a94b5ca5730e0049ad397b6a4[m
Author: Connor <zbk602423539@gmail.com>
Date:   Wed Jul 18 13:53:35 2018 +0700

    pd/raftstore: support region half-split without scan (#3310)
    
    * add check policy for split region

[33mcommit 0cf1e1a6c5a09a70475893c5d1d8f0448a5902aa[m
Author: kxu <kevin.s.xu@gmail.com>
Date:   Tue Jul 17 22:53:50 2018 -0700

    Create MAINTAINERS.md (#3306)

[33mcommit 2e1b04eb3d149763944b7bb0ecf6b47343492f16[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jul 17 21:46:16 2018 +0800

    aggregation: handle non-integer input for bit related  functions (#3325)

[33mcommit 08dd5509f4f8af14cd218be7b2e546a3bdaf15ff[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Jul 17 11:08:33 2018 +0800

    Txn: collapse continuous rollbacks (#3290)

[33mcommit 3b5cc11066d42008fe9763865f9d91d482923cd0[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Mon Jul 16 11:15:07 2018 -0700

    Custom Log Formatting (#3269)
    
    * logger: Add customer formatter.
    
    * logger: Only show file name.
    
    * logger: Fix lint
    
    * logger: Add test for logger format
    
    * Remove unnecessary stack
    
    * fmt

[33mcommit d48308e3578041e37cee9d55e0a6e56b1bb125a0[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jul 16 16:02:34 2018 +0800

    util: support futures for mpsc channel (#3297)
    
    In the future, peer will be polled as a FSM, hence we need to implement futures support for channels. Note that this is a neither complete nor general implementation, as asynchronously sending is not supported. For loosely bounded channel it's not a problem as sending will never block.

[33mcommit 63f8b63aea391934af76061c285fa89794283f02[m
Author: bb7133 <bb7133@gmail.com>
Date:   Fri Jul 13 19:55:40 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDFs(Regexp) (#3196)

[33mcommit 765941eca6a5d3dcf794fb13a72e5553062be5e3[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Jul 13 13:32:18 2018 +0800

    *: use Engines (#3316)
    
    This pr cleans up the usage of Engines. First, it replaces all places that use both kv and raft engines with Engines. Second, it removes the redundant _engine suffix.
    
    The changes can also help simplifying Peer's constructor later.

[33mcommit 67c19b45f5b310010a729e39a1aaded9f6f8288a[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Jul 13 11:40:00 2018 +0800

    tests: remove redundant raft rpc case (#3318)

[33mcommit 60a5bbd205f3c53af3b210b8d862d6bb97aed302[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Jul 13 08:43:05 2018 +0800

    add store_id in Debug::get_metrics response. (#3309)

[33mcommit 4afbe7b35754bd78b5db59bafa2339eaed0b78c1[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Jul 12 20:05:35 2018 +0800

    unsafe-recover needs specify regions by default (#3125)

[33mcommit 3137a6316dd029024103070ea83c7f040253a1d0[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Jul 12 17:38:28 2018 +0800

    relax timeout check (#3312)

[33mcommit a8020dc46bb2cf9ec40dc42d9944db0be1f7bb79[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Jul 12 15:58:50 2018 +0800

    pd/client: report approximate_keys instead of approximate_rows (#3295)

[33mcommit a382d1c1740d38927ee5514f6f0e43541936051f[m
Author: Queeny <jinkun@pingcap.com>
Date:   Thu Jul 12 09:01:56 2018 +0800

    roadmap: fix a typo (#3313)

[33mcommit ff12a7485fcf04b28846d05dc385fa3c5d1e84e2[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Jul 11 19:31:45 2018 +0800

    *: update rustc and clippy (#3302)

[33mcommit 05780ceecf24fb1225ccbaf113a16ea7d62877d2[m
Author: Queeny <jinkun@pingcap.com>
Date:   Wed Jul 11 16:50:41 2018 +0800

    docs: fix some adopter links (#3307)
    
    * Change the project name
    
    * fix some links
    
    * docs: fix adopters format
    
    * docs: update table alignment

[33mcommit e4081a55b9a5c2a37567540746fded37852d3b0b[m
Author: Queeny <jinkun@pingcap.com>
Date:   Wed Jul 11 12:33:23 2018 +0800

    Change the project name (#3305)

[33mcommit 98a04929579241ae42946072330f65bf0b3464c4[m
Author: Queeny <jinkun@pingcap.com>
Date:   Wed Jul 11 11:44:15 2018 +0800

    docs: add TiKV adopters and Roadmap (#3301)
    
    * Create ROADMAP.md
    
    * Create adopters.md
    
    * Update README.md
    
    * Update README.md
    
    * Updated adopters.md with new format
    
    Reformatted table with a cleaner format and edits to industry category.
    
    * Fix a typo

[33mcommit 238a2fd59430366f122d93480bcc032826107a71[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jul 10 15:37:43 2018 +0800

    util: introduce loose channel (#3286)

[33mcommit 4f6147720060a240a86867ccdc71fc8027ba3d74[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jul 10 08:51:49 2018 +0800

    tests: transfer leader before merge (#3293)

[33mcommit 571aa662878bcafe4ad5ec0ebd63afe0baecff05[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jul 9 20:01:30 2018 +0800

    ci: enable clippy check (#3294)

[33mcommit 1e45270e93b31f24dfbc030691bcd49fb52cf19a[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jul 6 15:49:22 2018 +0800

    benches: add benchmarks for raftkv (#3245)

[33mcommit 6d8c7651bf2505f6a4a19d279dfe9d47860d1ae9[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Jul 6 13:50:34 2018 +0800

    Region properties middle key (#3260)

[33mcommit fe0ed3f9c45dde62d4bf36a7ce72c768cc1f74cd[m
Author: MyonKeminta <MyonKeminta@users.noreply.github.com>
Date:   Fri Jul 6 10:10:14 2018 +0800

    scheduler: Remove dead code of GC from scheduler (#3284)

[33mcommit 5862ed5289f7d00c1ad4c44bfcb43d8669c7bac7[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Jul 5 11:19:19 2018 +0800

    Enlarge the total slots of scheduler latch (#3283)

[33mcommit ca498b54ab0793e63809257186c51a623668b69d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Jul 5 02:02:59 2018 +0800

    *: update crossbeam (#3278)
    
    * update crossbeam
    
    * address comment
    
    * address comment
    
    * clean up
    
    * address comment
    
    * fix try_recv

[33mcommit a95dc9a122e91249bc7cffbe1d40cb6760d89297[m
Author: MyonKeminta <MyonKeminta@users.noreply.github.com>
Date:   Wed Jul 4 20:01:33 2018 +0800

    storage: Move GC out of scheduler (#3119)

[33mcommit 6ab6d49f5bb19a839ea332255d2800be1f1110a0[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Jul 4 14:28:00 2018 +0800

    split_check/size: fix bug when region_max_size=region_split_size (#3274)

[33mcommit a5773f00eeadc9ed0141f86eb94465e4e07ce59d[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jul 4 10:33:27 2018 +0800

    Separate mysql/time (#3276)

[33mcommit 1a173a2eac7312b17ed4ad75daf7adbcc45bcff6[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jul 4 09:08:30 2018 +0800

    Adjust CI cache order (#3263)

[33mcommit a508352140f8c35aa62b6b0e5761e5d9980c4ab9[m
Author: Guillaume Gomez <guillaume1.gomez@gmail.com>
Date:   Tue Jul 3 15:39:15 2018 +0200

    Wrap "unknown lints" into cfg_attr calls (#3279)

[33mcommit 2f44c7ff968c19842897979ad0eb75817a7b8255[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jul 3 16:57:56 2018 +0800

    Makefile: add command make expression (#3280)

[33mcommit 4e408e23a4899741868cced0ac68b9f7a38d5e9c[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jul 3 16:14:08 2018 +0800

    expr/builtin_fncall: implement MultiplyIntUnsigned (#3277)

[33mcommit f21722aca68dac806d4153f1f475e9316cabf41e[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Tue Jul 3 10:44:26 2018 +0800

    add option: restrict rocksdb log file num (#3259)
    
    * add option: restrict rocksdb log file num
    
    * add test case
    
    * tune default log size and num to 1GB * 10
    
    * add rocksdb info log options to conf template
    
    * modify initial value in conf template

[33mcommit 2b3f52d35adebd8d95fa052dd58b33338a44aae0[m[33m ([m[1;33mtag: v2.1.0-beta[m[33m)[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Jun 30 17:40:14 2018 +0800

    raftstore: disable PreVote (#3270)

[33mcommit 7ac771bcaaf5deffa60506b70e2a407c3fe0b701[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Sat Jun 30 15:56:21 2018 +0800

    Release 2.1.0-beta (#3264)

[33mcommit 6dbb51bbaef60494fe75111a0e2419cc49a1f705[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Fri Jun 29 08:09:46 2018 -0700

    Enable Prevote (#3133)

[33mcommit 2388e907dd2b7160c8b5a1083fc6efc73cf94e26[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Jun 29 19:25:47 2018 +0800

    Provide PerfContext Statistics in Coprocessor (#3236)

[33mcommit 088b0e7ee10244c4cf7c7e47b254d8f9beb2deda[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Jun 29 17:39:19 2018 +0800

    tikv-ctl: support split region by key (#3244)

[33mcommit 6b46aa53ef249e93bdab5774fb8d9cc9eff3453d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jun 29 11:05:56 2018 +0800

    raftstore: prevent stale read while merging (#3116)

[33mcommit 6bd93ca98afcbac67bcc1d9c425181ac8c4d12e0[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Jun 28 18:19:59 2018 +0800

    dag/expr: return unknown signature error for unimplemented signatures (#3246)

[33mcommit 7a37145a86b09ba308d025d0c5810a97dd09d6e7[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Jun 28 11:23:44 2018 +0800

    mysql/decimal: fix bug in do_sub (#3223)

[33mcommit 956e7e96061fc82ba94108843185fd806861cf4d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jun 27 19:32:33 2018 +0800

    raftstore: add RequestInspector to decide how to handle requests (#3193)

[33mcommit fe01bf9ba732e780639be01b8e346ed7ba1990d6[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Jun 27 15:52:08 2018 +0800

    executor/aggregate:adjust sum for aggregate functions (#3253)

[33mcommit b33e5fe928d50765f07b7de99628848731c98b20[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Wed Jun 27 13:58:39 2018 +0800

    README: reorganize and update readme of tikv (#3230)

[33mcommit a32ddaf514bb7ca01de2f1f44a102e12318b6eb8[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jun 27 11:56:10 2018 +0800

    Remove Box<> around Cursor, Snapshot and Engine (#3239)

[33mcommit 9bd756131997297ae16a022469d3223f62d75232[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jun 27 11:11:20 2018 +0800

    Improve CI performance (#3247)

[33mcommit 0515b9f03be0473125d9c34345de1cce3b94660c[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jun 27 09:48:47 2018 +0800

    Refine issue templates (#3237)

[33mcommit 3366fb723003b9baefbeeda42a5c26dd909d4a2d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Jun 26 20:13:00 2018 +0800

    util/metrics: collect threads state (#3173)

[33mcommit 472bc2fa94088af8cd00ca73bcb1a1feec0d9a86[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Jun 26 16:33:00 2018 +0800

    fuzz: fuzzing decimal (#3190)

[33mcommit ab69d21ac5319ce750dec6e7950df4a594f561a9[m
Author: disksing <i@disksing.com>
Date:   Tue Jun 26 01:26:39 2018 +0800

    doc: add change log for v2.0.4 (#3234)

[33mcommit 311da1badf0371acba7bc8245fb33d6909a9bb31[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Mon Jun 25 07:38:26 2018 -0700

    Bump Rust, Clippy, Rustfmt, and use Rust-toolchain (#3208)

[33mcommit 8ad40a71fbb75314e374045a9f15e77c9654f50c[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Mon Jun 25 03:39:55 2018 -0700

    circleci: Specify tarpaulin version (#3241)

[33mcommit c16849131716847a15b45d2353dda35d167035ee[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Jun 25 16:43:31 2018 +0800

    import: implement ImportKV APIs (#3228)
    
    - SwitchMode: switch the target cluster to normal/import mode
    - ImportEngine: import the data in the engine to the target cluster
    - CleanupEngine: clean up the data in the engine
    - CompactCluster: compact the target cluster to a specific output level

[33mcommit ee7da084c69f61d6aaca307ef5635a1dc25c7ff9[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Jun 25 14:22:40 2018 +0800

    raftstore: print split key as escaped format (#3233)

[33mcommit 9f392c05d7772284ab07130234b82bf0fe3286be[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Sun Jun 24 06:26:32 2018 -0700

    logger: Allow configuring timespan of log rotation. (#3219)

[33mcommit a0afdadc1e63fad86293362a1d4a898169ebc08e[m
Author: kxu <kevin.s.xu@gmail.com>
Date:   Fri Jun 22 19:35:04 2018 -0700

    Upload TiKV logo image (#3238)

[33mcommit d20854f082a85dc7486db46ca47f8c2fd29f4522[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Jun 22 22:52:57 2018 +0800

    Use static metrics for storage/mvcc (#3227)

[33mcommit 0910df733505481bc940dec4fa2c5533a916b36d[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jun 22 15:59:48 2018 +0800

    expr/*: do some rename to make it in correspondence with tidb (#3235)

[33mcommit d4d624d39297547b2e17b7c401f44db1e9f1368f[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jun 22 00:48:11 2018 +0800

    decimal:fix bug caused by do_mul (#3222)

[33mcommit e00044bacad00c2823edcb92d848e3c03cf1bd8b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jun 21 19:22:39 2018 +0800

    tests: tweak lease tests configurations (#3220)

[33mcommit bbbd5f0943380196d041eeedaffdc16624009156[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Jun 21 17:21:41 2018 +0800

    Use static metrics for storage/engine (#3225)

[33mcommit 380d4a83b1f981557fe91169118701012e2ff792[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jun 20 21:34:24 2018 +0800

    Upgrade prometheus-static-metric (#3226)

[33mcommit 92b058cff3e8b8b46bcf4ddd3e6cae6214773426[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Jun 20 20:22:46 2018 +0800

    coprocessor:share the Error struct in mod codec and expr (#3189)

[33mcommit fe60d6ce66d60bc25355bf98dfc872ca91761165[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Wed Jun 20 00:32:01 2018 -0700

    logger: Bigger channel and blocks on overflow. (#3191)

[33mcommit b20a3c1bc92198595022dc7fb60eeb924be02c77[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Jun 20 11:13:30 2018 +0800

    snapshot: change max buckets of snapshot size from 2G to 1T. (#3221)

[33mcommit 0270076708ed3f39fcfa7a8fc8f2d16623b9bb9e[m
Author: dorianzheng <xingzhengde72@gmail.com>
Date:   Tue Jun 19 21:55:59 2018 +0800

    *: add some metrics for rocksdb (#3209)
    
    * add ingest sst elapse metrics
    
    * add metrics for number of files at each level
    
    * modify a metric name
    
    * use format! instead of push for string concat and format the code
    
    * add {subsystem} for metric name
    
    * modified opt name && leave a blank line for new adding function
    
    * modify metric comment

[33mcommit ff3dd160846b7d1aed9079c389fc188f7f5ea13e[m
Author: Haibin Xie <lambdax.tyler@gmail.com>
Date:   Tue Jun 19 17:14:01 2018 +0800

    coprocessor: collect row count for each index prefix (#3206)

[33mcommit 9889895d9198e5fbd90d8a43fa3b41ae3f8d637b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Jun 18 23:11:09 2018 +0800

    raftstore/store: add invoke_batch_read (#3205)

[33mcommit b7c2ccd80206c40509953ac08b4a8c1975ca7edf[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Jun 18 21:48:53 2018 +0800

    tests: fix tracing test (#3204)

[33mcommit c2f348a7dcbc6da64bae960a738dbc6375b26eb6[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Sat Jun 16 17:06:26 2018 +0800

    tests: fix some tests (#3214)
    
    * tests: fix some tests
    
    - Allow more one snapshots to be sent to fix `test_learner_with_slow_snapshot`
    - Enlarge the timeout for `query_leader` to fix "can't get leader of
      region xxx" in some tests

[33mcommit f16a2eb29f6787f79c58c9ebae328e7df1f93e28[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Sat Jun 16 00:32:58 2018 +0800

    fix the test case. (#3213)

[33mcommit 1c4ba5cf817c59da33bb653cbf40fde9282eec79[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jun 15 13:55:51 2018 +0800

    codec/table: refactor encode_row_key (#3207)

[33mcommit d87a84813cc852c5a6f5934fdc78f34f89729f08[m
Author: maninalift <maninalift@gmail.com>
Date:   Thu Jun 14 12:24:58 2018 +0100

    fix README typo - fixes #3134 (#3135)

[33mcommit 524b4abc2aa9a4d2f84fadc8d5925cd23ae1386e[m
Author: Zhang Yuning <codeworm96@outlook.com>
Date:   Thu Jun 14 18:16:24 2018 +0800

    ci: add code coverage using tarpaulin & codecov (#3115)
    
    close #3012

[33mcommit 3e97c269e545778112a0024c8dcb71dedc2cf137[m
Author: Kevin Choubacha <chewbacha@gmail.com>
Date:   Wed Jun 13 08:35:00 2018 -0700

    util/unescape: Escape \xFF sequences to a byte. (#3182)
    
    When using the unescape function, strings within the format '\xFF' or
    '\xff' will be converted a single byte.
    
    resolves #3149

[33mcommit e344a31034d7adb3997f259db4314fca686ce0b0[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Jun 13 21:48:12 2018 +0800

     import: rename Switch to SwitchMode (#3199)
    
    "Switch" is a reserved word in Java, we can't use it.

[33mcommit d3385ed3949b79d9ed981af4bcc44f4a3ae7eb88[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jun 13 18:32:43 2018 +0800

    Output a log when GC found too many versions for a single key (#3178)

[33mcommit f40a1c6e3d8fc08d6a88c838d35441621232cd7c[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Jun 13 16:24:06 2018 +0800

    Utilize static metric macro (#3175)

[33mcommit 2f3e09eeab1e0ac51f112670483f6ead17a7d0d2[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Jun 13 13:31:22 2018 +0800

    shrink pending command queue in apply delegates (#3106)

[33mcommit 6d39688f3779e5c655d232b0be409fa8e9e4162f[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Jun 13 10:34:48 2018 +0800

    make compact region tombstones percent threshold configurable (#3155)

[33mcommit 188ae4c84c347eb20ac49c7ec770ad13c274a6d4[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jun 12 21:56:31 2018 +0800

    *: remove unnecessary configs (#3192)

[33mcommit cb08ed491f38129af217868c86d39fc94b490608[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Jun 12 14:02:50 2018 +0800

    raftstore/store: move check functions to util (#3136)
    
    * raftstore/store: move check_epoch from peer to util
    
    * raftstore/store: move validata_store_id from peer to util
    
    * raftstore/store: add check_term and check_msg_peer

[33mcommit 24fde132bc3d3fbca3d60eefbbe4ac2fca08e0c5[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Jun 12 12:46:26 2018 +0800

    Upgrade protobuf and grpcio (#3142)

[33mcommit ada60e5da000ba17456ba269a482975154e97e89[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Jun 12 10:12:42 2018 +0800

    import: implement Switch and Compact APIs and remove the import mode (#3040)
    
    * Implement Switch and Compact APIs
    
    - Switch: switch to normal/import mode
    - Compact: compact the specific range for better performance

[33mcommit 1965c02dbac8765cc29579b5e65800cdec913478[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Jun 11 19:00:06 2018 +0800

    dag/expr: adjust error (#3184)

[33mcommit 3cd0f324f5f65efa5c6897d89320aa3a6dbdab66[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Jun 11 16:42:01 2018 +0800

    improve test_generate_snap test case. (#3131)

[33mcommit 29ca0d85773d73b266ca4e4f7641fbce9aa309ee[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Jun 11 15:53:18 2018 +0800

    Support init-empty-region in tikv-ctl (#2781)

[33mcommit eaa7b7c3ea530fb2fa8ce7e6d2a1f75573c7f8f1[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Jun 11 11:42:13 2018 +0800

    pd/heartbeat: report the number of rows in region (#3159)

[33mcommit 7e0db6c9278f0b1e2ef75cfc0a174fbd06c68b37[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Jun 11 09:43:31 2018 +0800

    raftstore: add ReadExecutor to execute Get/Snap commands (#3161)

[33mcommit fe23f0ade2dd19dbb6d0be96bbeced284fc3b98d[m
Author: csmoe <35686186+csmoe@users.noreply.github.com>
Date:   Sun Jun 10 22:33:42 2018 +0800

    Move non-bin mod into subdir (#3170)

[33mcommit cabd6e16e347730d5ea9d3a7cd4ed8e6e1dcf6d4[m
Author: Zhang Jian <zjsariel@gmail.com>
Date:   Sun Jun 10 13:25:09 2018 +0800

    add pull request template (#3154)

[33mcommit d43b77d3d06ceeada71fbc891db09b316c268fe7[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Sat Jun 9 09:57:44 2018 -0700

    Make MessageTypeNotifier generic (#3181)

[33mcommit d0c409dafe17b9ffa39236d86474e66399b8ad29[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Jun 9 15:39:40 2018 +0800

    raftstore: getter/setter for region (#3168)
    
    Add a getter/setter for peer's region, also un-pub the region
    field in PeerStorage.

[33mcommit 445a15d3922a5222ef27e0dd6dd2d6446d059a26[m
Author: Jack Yu <yusp@pingcap.com>
Date:   Fri Jun 8 19:53:40 2018 +0800

    util/metrics: fix some typos in threads metrics (#3177)

[33mcommit 0facb8515ee3857637ba9f1853c92a9bb45cb998[m
Author: bb7133 <bb7133@gmail.com>
Date:   Fri Jun 8 17:36:05 2018 +0800

    coprocessor/dag/expr: add some un-pushed builtin UDFs (#2918) (#3030)

[33mcommit 1f545ee217be2c22497b793e6aeeb19ce977054b[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Jun 8 14:06:17 2018 +0800

    Make README more verbose about contributions (#3164)

[33mcommit c4133d3ef0f099f8716a916c198390b26293ec00[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Jun 7 15:23:21 2018 +0800

    Fix potential back and forward iterating for reverse seek (#3124)

[33mcommit 1a3f1badd17c50730132249a4408bb97970dfbfe[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Jun 7 13:18:48 2018 +0800

    Add `max-tasks-per-worker-xxx` and remove `end-point-max-tasks` (#3093)

[33mcommit 9e41d7206c673b15292234caa6fdd711a31159d1[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Jun 7 09:16:46 2018 +0800

    decimal: fix bug in do_sub (#3145)

[33mcommit 2ec24e36e8acee9e3c7b8ed738b5cdf20b437278[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jun 6 15:24:44 2018 +0800

    circleci: mute the noise from ntp (#3144)

[33mcommit 4c1f6e6e96d3402ea9aadf16ac858b286f386191[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Jun 6 14:08:58 2018 +0800

    store/util: get the approximate number of records in region (#3126)

[33mcommit da92958c0bda6543cbfde9433063d34ab740ab42[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jun 5 19:02:45 2018 +0800

    dag/expr: implement flag DividedByZeroAsWarning (#3117)

[33mcommit bf560e84e27b86be25431fd4e6560280c5c26000[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Tue Jun 5 00:18:05 2018 -0700

    Fix C++ 8.1 build errors. (#3143)

[33mcommit 0af164e5d24bb68f6f46d1595279a76237d5455e[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jun 4 19:12:52 2018 +0800

    use fxhash (#3137)

[33mcommit 9dbf171ab2bf768e55522dffb1196716a6935aa4[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Jun 4 16:12:55 2018 +0800

    tikv-ctl: add region-properties (#3122)

[33mcommit 9b6c6e81689e4d6ea714335f514414d573fd620a[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Sun Jun 3 07:56:23 2018 +0800

    increase snapshot send/generate metrics. (#3132)

[33mcommit 301e6a855bc3208a11fc0b6885f21a9584eaf9a1[m
Author: disksing <i@disksing.com>
Date:   Fri Jun 1 09:23:17 2018 +0800

    import: add document. (#3120)

[33mcommit 14703d357461de79069ba33cb6115eca012aa9fb[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu May 31 20:45:03 2018 +0800

    CHANGELOG: changes for 2.0.2 and 2.0.3 (#3127)

[33mcommit ba05db2996da9a59dbb731d4445749cbd79410af[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed May 30 20:51:32 2018 +0800

    raftstore: fix wrong peer meta (#3112)

[33mcommit 14b7b535607df10db7801c7bdb59911f8586f8a1[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed May 30 16:13:20 2018 +0800

    codec/number: remove trait NumberDecoder (#3108)

[33mcommit 97951ea26b90e670a0155a97b799f4e1f1be704a[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue May 29 13:54:29 2018 +0800

    ci, store/util: try to capture clock jump (#3068)

[33mcommit 2f291dc12b0e05d71eb8873881c3ed11d343d6e6[m
Author: bb7133 <bb7133@gmail.com>
Date:   Tue May 29 08:35:38 2018 +0800

    mysql/decimal: fix a bug in do_div_mod when divisor/dividend is 0  (#3099)

[33mcommit 2204c2776cca29443f361eda7a2292565de76e02[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon May 28 11:54:31 2018 +0800

    fix test log time format and tag prefix. (#3096)

[33mcommit c1cdef538616ece622530c67eefd32827159ce54[m
Author: iamxy <kenneth.liu.xy@gmail.com>
Date:   Fri May 25 15:48:46 2018 +0800

    docker: upgrade rust dockerfile (#3110)

[33mcommit 67642f2726b662085caab0d0e34d3af5dd595fbe[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri May 25 13:39:55 2018 +0800

    Fix grpc compression configuration template (#3109)

[33mcommit 67874a7a635900e28a3bc018789cbac813df71de[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu May 24 14:34:59 2018 +0800

     codec/bytes: remove read trait from decode function of bytes (#3062)

[33mcommit 82fc5d344e587d7f671deaeaa2fe1ba864398ff5[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed May 23 18:32:00 2018 +0800

    mysql/json:access slice directly instead of read to vec (#3081)

[33mcommit 674cdd6be930799cb042e1801a9ca9878553de1d[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed May 23 14:49:36 2018 +0800

    service/kv.rs: reset conflict error to retryable for compatibility with older versions. (#3102)

[33mcommit c37538faad10be632e81c29ca09f2ed16cbab582[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed May 23 10:51:30 2018 +0800

    coprocessor/codec: implement encode && decode for arrow (#3001)

[33mcommit 706a08cf29ebb5e976d47e7974712d026bd503aa[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue May 22 11:49:24 2018 +0800

    service/kv: adjust WriteConflict error in KeyError (#3095)

[33mcommit 2545182799d119c931f26bfea1e28fb9f7c0be6f[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon May 21 19:54:06 2018 +0800

    mysql/decimal: remove read trait from decode (#3071)

[33mcommit 9a59e1a511b4caba65d63c17d2ea45872c814d15[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon May 21 17:00:59 2018 +0800

    Snapshot can only remove tmp files created by itself. (#3094)

[33mcommit 4e299e445fb300875d9864422494fdadb9c9268b[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon May 21 15:27:15 2018 +0800

    raftstore: gc stale learner automatically (#3091)

[33mcommit a109781c26db1315780efc8117e323110ee4597d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon May 21 09:22:52 2018 +0800

    *: update log dependency (#3087)

[33mcommit 841025cf965f1b73e49305646068262bc9e6cd50[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon May 21 01:37:45 2018 +0800

    raftstore: support configure election range (#3089)

[33mcommit 21094448f8304e44047a20f3c35de0b7889c1ac8[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon May 21 00:02:44 2018 +0800

    server/snap: make transport configurable (#3086)

[33mcommit 88f7c5db09e34eeaa605b95d11ee16aa9f9c201e[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sun May 20 19:27:17 2018 +0800

    *: add grpc compression (#3088)

[33mcommit 7a719f048c0dbb9e724e2c9c7a4e7713ed6ecec8[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Fri May 18 11:12:31 2018 -0700

    README.md: Refactor the README.md (#3009)
    
    * README.md: Refactor the README.md
    
    * README.md: Talk about dev target and check more
    
    * README.md: Correct dependency reasons
    
    * README.md: Correct spelling & use better link.

[33mcommit 96e8b3b275ac292a64c0fcca71d8d335c63d476b[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri May 18 16:21:14 2018 +0800

    expr/*: add log for debug && add more details when arguments unexpected (#3082)

[33mcommit 544bac2e9ec5e41178115cfcff1b29b1f9666e38[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu May 17 16:07:18 2018 +0800

    Update prometheus to 0.4.1 (#3053)

[33mcommit a89b0219c807283a42c4d00c403ad6c0f9c11b8c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed May 16 03:01:59 2018 +0800

    Update CHANGELOG.md (#3078)

[33mcommit 001ba7bbe35ef35e4c74be3b725027492d16df6c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed May 16 02:18:12 2018 +0800

    raftstore: enhance local read and read index while splitting (#3045)

[33mcommit 9a0ca49a0fe22f781d5968115d7868b368d92a9b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue May 15 23:21:03 2018 +0800

    tests: prepare stale read tests (#3074)

[33mcommit 5859f8e6c9b8896d411db52b76de25fd3b6da162[m
Author: MyonKeminta <MyonKeminta@users.noreply.github.com>
Date:   Tue May 15 22:08:01 2018 +0800

    raftstore/apply: Temporarily skip delete all in range (#3046)

[33mcommit 7aadf37555bde8ba0325f549adb973a5361a699c[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue May 15 20:42:47 2018 +0800

    Fix default configurations of cop read pool (#3058)

[33mcommit 3694206b0a107ea235876aaa688cf1118879920d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue May 15 18:38:31 2018 +0800

    store: apply all changes before advancing apply (#3072)

[33mcommit 7a2026308bb8ee75ebcfdfe2952a3983c226fa22[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue May 15 01:30:55 2018 +0800

    storage: a better place for the fail point async_snapshot_finish (#3063)

[33mcommit 12af29d3f4f5ff52682325c941833eae12c641d5[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue May 15 00:28:45 2018 +0800

    *: update raft (#3069)

[33mcommit 50ffd29d1593ec546f03503b2acb84ff4754f9d0[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon May 14 17:56:48 2018 +0800

    coprocessor/codec: remove read trait from datum and table in decode f… (#3060)

[33mcommit 4b7e3066bfa9660aa3f193d95503a0e70441c692[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon May 14 16:01:08 2018 +0800

    release: reduce codegen unit (#3057)

[33mcommit ed3768ef4aca9ba6fa65418076df5ee3e4a7dad5[m
Author: A. Hobden <andrew@hoverbear.org>
Date:   Sun May 13 21:52:05 2018 -0700

    *: Use slog (#3010)

[33mcommit 393fbf492717f7e810a46143ffcbb00acac98265[m
Author: Liqueur Librazy <im@librazy.org>
Date:   Sat May 12 03:55:35 2018 +0000

    ci: migrating from CircleCI 1.0 to 2.0 (#2993)

[33mcommit 6b9b28a14f0d32e0f0ed0de82e0a0dff702b891a[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri May 11 16:32:43 2018 +0800

    Extract RequestHandler trait (#3050)

[33mcommit 1912292b68aa37a3d36b5c33ccc73b5f96512eeb[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri May 11 13:52:06 2018 +0800

    storage: support reverse scan (#3033)

[33mcommit 1d8cf7c3255d69ac90470ebce11aa0c00e673c58[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri May 11 09:52:25 2018 +0800

    codec/number: decode number by access slice directly (#3028)

[33mcommit 32888f6484333a0bdced47eaf70fd0cca49b6314[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu May 10 15:25:53 2018 +0800

    Move errors from coprocessor mod (#3048)

[33mcommit 7574fbe8a488a3a4bb2cfb942cf73b397648a9d9[m
Author: UncP <uncp@pingcap.com>
Date:   Thu May 10 13:31:43 2018 +0800

    tikv-ctl: speed up compaction using multi-threads (#3029)
    
    * speed up tikv-ctl compaction

[33mcommit afffe307b7bf5778f2e5807b5b202d082661440c[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed May 9 17:29:58 2018 +0800

    tune gc versions metrics (#3016)

[33mcommit 7bdd89542b39c551eb0e082fd309cf761413eecd[m
Author: csmoe <35686186+csmoe@users.noreply.github.com>
Date:   Wed May 9 16:30:12 2018 +0800

    bin/tikv-ctl: wrap from_hex into result (#3036)

[33mcommit ad7bcee10904623d6239271479123d285af7bc01[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed May 9 12:23:07 2018 +0800

    tests: fix adding raft logs (#3043)

[33mcommit 3d5dbdaf6f3e65b50c26cfb02d534339bb67e705[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue May 8 12:01:49 2018 +0800

    Use AtomicU64 instead RwLock for tracking snapshot size. (#3020)

[33mcommit b8ec5c8f87ab045a01245e6461ac8be0cf73514a[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue May 8 00:07:34 2018 +0800

    Show wait time and reverse scan in slow log (#3017)

[33mcommit 5a949efe37a9e3a023ee5140859e76570c9e1c88[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon May 7 21:26:19 2018 +0800

    Extract ReqContext from Endpoint (#2891)

[33mcommit aca63c4cb5262e48ac73978660992eaa1bffd058[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon May 7 19:15:47 2018 +0800

    Split importpb into import_kvpb and import_sstpb (#3026)

[33mcommit 6c469d7482fca7214a34ca7be5ff2e352e23c3f3[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon May 7 15:20:46 2018 +0800

    coprocessor/endpoint: show client's ip in slow log (#3002)

[33mcommit b605387ce23e34c6ecea58fe88e366f05e183e91[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon May 7 14:43:58 2018 +0800

    mvcc/reader: ignore Lock when lock's type is Lock (#3011)

[33mcommit 49b4dd3ffbe3ff747108a69a40cb4e40faad2c40[m
Author: UncP <uncp@pingcap.com>
Date:   Fri May 4 18:59:36 2018 +0800

    tikv-ctl: support compaction whole cluster (#2945)

[33mcommit 2ebe02d7a7c093d63f3f273b2c336e1a09edfe6e[m
Author: ShuNing <nolouch@gmail.com>
Date:   Fri May 4 17:44:21 2018 +0800

    pd: heartbeat record the time interval of report (#2965)

[33mcommit 604faf292118ef6cdc244f31c9b3b96b9ddfb560[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri May 4 14:06:48 2018 +0800

    Add an optional argument `regions` for remove-fail-stores. (#2897)

[33mcommit 1be621a6486858b06320a0930842f0ec1a884555[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri May 4 12:37:05 2018 +0800

    util/panic_hook, test: panics as aborts (#2994)

[33mcommit d90bc6d00234069e58308406d832f4d2f617f8ac[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu May 3 21:32:09 2018 +0800

    observer/split_check: clean up (#3014)

[33mcommit 6b7aa6d962a0213ab5b2f7f931bef93aaef1ca81[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu May 3 16:22:31 2018 +0800

    Add logs for manual compact. (#3018)

[33mcommit 47679f5cbef84bba48abeaa90c7ed9ec265ca1c6[m
Author: Lilian Lee <lilin@pingcap.com>
Date:   Thu May 3 12:32:07 2018 +0800

    changelog, readme: update wording and format (#3005)

[33mcommit abd2d4ecd55bfb06228c739b8615c4ffbb1c50d1[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed May 2 17:31:20 2018 +0800

    Extract utility functions from endpoint (#2888)

[33mcommit a3bbb387f5f29eedd900c4eca12edf7ac068f5c4[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed May 2 15:00:07 2018 +0800

    Open nightly feature gate for crossbeam-channel. (#2995)

[33mcommit 40168fbb1db9e39043bf5e56a7ed7ac941e0e282[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Apr 28 14:07:09 2018 +0800

    *: update development version (#3004)

[33mcommit 053d1e25f7c655e84e9374b0026465b24c07b991[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Apr 27 19:04:46 2018 +0800

    *: bump to 2.0.0 (#3003)

[33mcommit b0f6e3efcb846d8cccfe5fcd46c495f684107368[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Apr 27 18:37:46 2018 +0800

    add change log for TiKV. (#2952)

[33mcommit 63211a3b9ed1833248fb72f8b235915ff5dd1cd2[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Apr 27 11:51:50 2018 +0800

    logger: collect raft's log (#2996)

[33mcommit ae28e9c863fc6ef9479d9869b1d659bf64c2d40f[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Apr 26 16:37:31 2018 +0800

    fuzz: fuzz testing (#2942)

[33mcommit 9c75a26ca3e99e58e055a0de6835ea0a7364cd51[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Apr 25 19:51:48 2018 +0800

    raftstore: gc log cache eagerly (#2962)

[33mcommit 0809d521d1fd2c78b17094349d247f791f2c379c[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Apr 25 16:08:19 2018 +0800

    tikv-ctl: improve scan and fix a bug for mvcc (#2964)

[33mcommit 1a37a9e928080a0a37750bf5d61b1fe8e3e9d869[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Apr 25 14:58:30 2018 +0800

    merge (RAW)KV_COMMAND_COUNTER into COMMAND_COUNTER (#2973)
    
    * merge KV_COMMAND_COUNTER and RAWKV_COMMAND_COUNTER into COMMAND_COUNTER

[33mcommit ce53c8ec29c7f26e8cc46dce5839737707c3b2d0[m
Author: UncP <uncp@pingcap.com>
Date:   Wed Apr 25 11:07:28 2018 +0800

    raftstore: adjust clean_stale_peer_delay (#2990)
    
    * adjust clean_stale_peer_delay

[33mcommit afc333cf48f1de4140be83dcb304d083461b1e95[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Apr 24 23:39:19 2018 +0800

    *: mute useless log (#2985)

[33mcommit 16b300dd8da2efb9b9035d24f7df3402042b53a8[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Apr 24 20:36:12 2018 +0800

    raftstore: move variable definition close to usage (#2987)

[33mcommit dc6b74f75860d70f22ea1b5cdb0d02984e421758[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Apr 24 19:20:21 2018 +0800

    coprocessor/endpoint: log table_id in slow log (#2988)
    
    * coprocessor/endpoint: log table_id in slow log
    
    * address comments
    
    * address comments

[33mcommit b2fda5e799e48099c3f457b3a5e5237ed6e925c5[m
Author: disksing <i@disksing.com>
Date:   Tue Apr 24 14:43:34 2018 +0800

    tikv-ctl: add command to recover mvcc data corruption. (#2915)

[33mcommit 8dadba3e1cf04b860c5f8b9cba0bf1d9e477693d[m
Author: UncP <uncp@pingcap.com>
Date:   Tue Apr 24 10:16:08 2018 +0800

    use DeleteFilesInRange to delete region (#2736)
    
    * use DeleteFilesInRange to destroy region

[33mcommit 2d16a4cda83894df4b4d7f92881efddebff2168e[m
Author: Andrew Hobden <andrew@hoverbear.org>
Date:   Mon Apr 23 03:02:24 2018 -0700

    docker/release_dockerfile: Update Rust Version (#2981)

[33mcommit f0ef2dcf26af4134bef454475049ed82a6df0d40[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Apr 23 15:06:58 2018 +0800

    Use futurepool for coprocessor streaming (#2827)

[33mcommit fdc3806052ae5cea3357ee3a95535169d7f24890[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Apr 23 08:52:22 2018 +0800

    adjust config position (#2978)

[33mcommit 3b7c1c78111be62e0681af180ff279a120803134[m
Author: disksing <i@disksing.com>
Date:   Sat Apr 21 13:34:06 2018 +0800

    storage: support cf for rawkv. (#2852)

[33mcommit aaf36920b330178b245ce5598a3d18be5f68c9c1[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Apr 20 17:00:37 2018 +0800

    Fix 2 test cases for snapshot and raft-learner. (#2967)

[33mcommit 8a26db057eca3435533d5a9dbf3a26bed6b6cdcc[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Apr 20 11:05:44 2018 +0800

    *: clean up (#2980)

[33mcommit 405543846a3130b3fe0163ef52fbfba5c30f2ea8[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Apr 19 20:00:27 2018 +0800

    coprocessor: process the flag PAD_CHAR_TO_FULL_LENGTH (#2953)

[33mcommit 328375894e5ccb8788d6fc05f0f77b7a0afdaa42[m
Author: Andrew Hobden <andrew@hoverbear.org>
Date:   Wed Apr 18 22:42:11 2018 -0700

    Upgrade the Rust & Clippy versions (#2922)

[33mcommit 72e2e9883e29b131e1ffb3ef8ea1c3dbbff8d545[m
Author: UncP <uncp@pingcap.com>
Date:   Thu Apr 19 10:36:04 2018 +0800

    rocksdb direct io fix (#2974)

[33mcommit 948e1e9fe70ea4c808a00eb50140767b9203974a[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Apr 18 20:38:01 2018 +0800

    Bump to 2.0.0-rc.6 (#2972)

[33mcommit 133d34e3c0e6ed405c731d1cbf7ffea750aed369[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Apr 18 08:32:50 2018 +0800

    util, server: remove unnecessary serde implementation (#2963)

[33mcommit 280c3828cb555323f8e5ed3802586cb5e9d78f24[m
Author: Zhang Yuning <codeworm96@outlook.com>
Date:   Tue Apr 17 23:25:55 2018 +0800

    impl Clone for Box<Engine> (#2914)

[33mcommit c9c076f5f757b543f8c2d5d8f1f18bab902a9cde[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Apr 17 22:28:03 2018 +0800

    Reduce lock contention in Worker (#2933)

[33mcommit 2c1593cbc408e211f69c49538a400788bcec6a06[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Tue Apr 17 16:15:40 2018 +0800

    Add metrics to the FuturePool (#2932)

[33mcommit 27b8bfee4bdc97cc56da87d6399332dee9545a9f[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Apr 17 14:41:53 2018 +0800

    endpoint: add a test case and comment code more clearly (#2956)

[33mcommit 51fef85518b5962640b6ce7a5dcef8dbccd44bac[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Apr 17 13:19:26 2018 +0800

    tests/pd: tidy up (#2934)

[33mcommit 28bca4bf67e69175dc98f3502022c48e9da0dc92[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Apr 17 11:55:27 2018 +0800

    fix coprocessor metrics collect bug. (#2951)

[33mcommit 58a85867012c1bdc386e613f524a909ffa9f3427[m
Author: Andrew Hobden <andrew@hoverbear.org>
Date:   Mon Apr 16 18:41:30 2018 -0700

    src/lib.rs: Bump recursion limit to 200 (#2958)

[33mcommit 2cb8ebcffa84c12bdfebfa89df9b2d00d74cbc21[m
Author: flipped <19flipped@gmail.com>
Date:   Mon Apr 16 18:28:50 2018 +0800

    cop/stats: add total column size (#2950)

[33mcommit 6ed64498143124eecae6f13e6fa86d02485ca8d4[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Apr 16 17:20:16 2018 +0800

    Fix test_kv_service (#2944)
    
    When we write to an unopened engine, the first chunk will fail with an
    error response, and the stream will be closed. Then if we send another
    chunk with that stream, we will get an error and the test will
    fail. So we fix it by sending only the write head when we just want to
    check the error response.

[33mcommit 7ed4f6a91f92cad5cd5323aaebe7d9f04b77cc79[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Apr 14 14:11:25 2018 +0800

    Bump to 2.0.0-rc.5 (#2946)

[33mcommit 5317cdbbadcb10745bd28aad19c171e6b161bef7[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Apr 13 21:04:04 2018 +0800

    raftstore: gc queues (#2943)

[33mcommit b8e503cb242cf2241928ab2d1520cf88a74958c0[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Apr 13 16:31:38 2018 +0800

    support raft learner in raftstore.  (#2726)

[33mcommit 21e93dccdf2537a31a191caf3fe370c3143669a6[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Apr 13 11:31:02 2018 +0800

    tests: run_node should retry when it meets gRPC bind fail (#2930)

[33mcommit 0b6c13f3f9673a6bbc0178217b104760e29ea27b[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Apr 13 09:10:57 2018 +0800

    expression:process flag overflow_as_warning (#2901)

[33mcommit 379df735df52b952c1886416cb76dc06776bf190[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Apr 12 19:05:35 2018 +0800

    Remove an misused rocksdb ticker (#2940)
    
    The TickerType::NoIterators is actually used as a Guage in
    RocksDB. When we require an iterator, the ticker increase 1, and when
    we release the iterator, the ticker decrease 1. So if we reset the
    ticker after we have required an iterator but before we have released
    it, the ticker can be negative. Since we don't care about this ticker
    yet, I just remove it here.

[33mcommit 8fa0ee2a140a42cdd167660d9ec2223ed808e3a4[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Apr 12 15:45:00 2018 +0800

    Fix a bug when generating snapshots (#2923)

[33mcommit 74287e026ad099f35d3a94c4341ef4f1ab4111c9[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Apr 12 13:24:31 2018 +0800

    use int counter (#2936)

[33mcommit 706210406971b6cd7d31c2573125282ab044d335[m
Author: Zhang Yuning <codeworm96@outlook.com>
Date:   Wed Apr 11 21:34:38 2018 +0800

    use IntCounter, IntGauge for metrics (#2928)

[33mcommit 137e7aad54e55823588645ef115845e67b3420a3[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Apr 11 12:01:50 2018 +0800

    fix build on MacOS (#2931)

[33mcommit 5b0250526bf9d980b3a8ef6f16045cb59f1056ce[m
Author: Haibin Xie <lambdax.tyler@gmail.com>
Date:   Tue Apr 10 21:09:12 2018 +0800

    coprocessor/dag: collect number of rows scanned for each range (#2878)

[33mcommit c385e5a10dd3622b2d524fffd3a27d92370c9f68[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Apr 10 18:46:40 2018 +0800

    Build tikv-importer as a standalone binary (#2919)

[33mcommit 834f4c02905196c78e48e21d898f9e0703f15001[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Apr 10 17:12:47 2018 +0800

    Disable DeleteRange by default (#2927)

[33mcommit d6463df62757792317398d4dc4f0cd12b3692106[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Apr 10 14:42:52 2018 +0800

    *: add keepalive (#2926)

[33mcommit 216c230661b5b7062fa118c0bb0e1ad3a9cdbef0[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Apr 10 10:45:07 2018 +0800

    engine: remove redundant mut reference (#2929)

[33mcommit 6dd9f0205bc5de5090f6ac25f9a35bc774fba3b3[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Apr 10 09:38:23 2018 +0800

    Simplify the process of ImportSST::Upload API (#2920)

[33mcommit 6b42a6a23117e38640fe7fd4912d0def21de4ad0[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Apr 9 21:20:29 2018 +0800

    tests: ignore timeout in query_leader (#2911)

[33mcommit 9f548b68128790af81d7de903db4fae67eb949d5[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Apr 9 13:16:08 2018 +0800

    util: rearrange metrics (#2924)

[33mcommit 9c94527195cb8605e86122ffe521a4e3e2927a96[m
Author: UncP <uncp@pingcap.com>
Date:   Mon Apr 9 11:11:09 2018 +0800

    tikv-ctl: dynamically modify rocksdb cache size (#2921)

[33mcommit d77c52fff712119ab08a8aeae44d5dec591447d7[m
Author: Shirly <AndreMouche@126.com>
Date:   Sun Apr 8 17:22:37 2018 +0800

    coprocessor/dag: return eval error in SelectResponse.error or StreamR… (#2885)

[33mcommit caf1f24bbdce6e61f0b7147a7add1a37118ae2ac[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Apr 5 00:02:49 2018 +0800

    Fix OOM when receiving too many snapshots. (#2879)

[33mcommit 5449957745d77c429d05359d9c17ddfb1d9315a1[m
Author: disksing <i@disksing.com>
Date:   Wed Apr 4 19:35:24 2018 +0800

    update mvcc debug structure.  (#2894)

[33mcommit 6f5e9d210efd0e76e979faaaf5a69f425b7ca667[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Apr 4 17:30:08 2018 +0800

    Add ImportKV service (#2881)
    
    Implement Open/Write/Close APIs to write key-value pairs to import
    server.
    
    `Open` opens an engine identified by an UUID.
    
    `Write` creates a write stream to write key-value batch to the opened
    engine. Different clients can write to the same engine concurrently.
    
    `Close` closes the engine after all write batches are finished. An
    engine can only be closed when all write streams are closed. An engine
    can only be closed once, and it can not be opened again once it is
    closed.
    
    After these three steps, the data in the engine is ready to be
    imported to TiKV, but the `Import` API is not included in this PR.

[33mcommit dc61022a5b081b13eb72619eb2d35c2e513fa598[m
Author: Xiaoguang Sun <sunxiaoguang@users.noreply.github.com>
Date:   Wed Apr 4 14:51:33 2018 +0800

    Add raw batch put/get/delete/scan (#2854)

[33mcommit 820b6c0d9d254a7eeb75c07971b98aa1e3f4bf94[m
Author: Matt Friedman <matt@friedm.com>
Date:   Mon Apr 2 23:04:04 2018 -0700

    tests: use mock FutureScheduler in tests instead of Option<FutureSche… (#2899)

[33mcommit 53dd6ea5f03b421c1cdfb02a43edf2f18d1b2c30[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Apr 2 22:54:18 2018 +0800

    bin: tikv-ctl support compact region (#2889)
    
    * tikv-ctl support compact region

[33mcommit a76bca49a57d3ddcbdb6dee54f13dfc620986e45[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Apr 2 18:31:45 2018 +0800

    tests: make merge rollback tests more stable (#2903)

[33mcommit 4a99da50e2207c6fe3f7c7dca118f71037cd25e9[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Apr 2 16:13:23 2018 +0800

    tests: increase snap gc timeout (#2904)

[33mcommit 8894a689c5fe8f721cc1185d251d33010c96bd1c[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 31 12:35:15 2018 +0800

    bump 2.0-rc4 (#2900)

[33mcommit dad050175f1e06fabf42d8d7faaa4c0edb3f17d4[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Mar 30 22:41:44 2018 +0800

    test: stable snapshot on resolve failure (#2893)

[33mcommit 8c18bab6b6270dab2b4066e3957ba5de1efeff79[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Mar 30 11:12:59 2018 +0800

    make send snapshots async (#2850)

[33mcommit 4c3b6e5df6b82d02cebda098dbc9a27049ee4cd5[m
Author: UncP <uncp@pingcap.com>
Date:   Thu Mar 29 12:13:36 2018 +0800

    remove redundant config (#2884)

[33mcommit 719aec200ee74162c9865e8d1cc02eea0067ee61[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Mar 28 17:11:44 2018 +0800

    tests: improve merge tests (#2857)

[33mcommit 79e2eb2b7e970fd3e2b78290e20986033254a64c[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Mar 28 16:09:43 2018 +0800

    coprocessor: set eval warnings in SelectResponse.warnings or StreamResponse.warnings (#2858)

[33mcommit 536fb4cc7bdfc5cea9741c81e096934e81567ce9[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Mar 28 14:02:17 2018 +0800

    Avoid passing CpuPool into OnResponse (#2841)

[33mcommit b458d617a4fedebf46e2654957f8891a9a11cfdb[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Mar 28 12:05:43 2018 +0800

     Add import-mode argument to tune configs for importing data (#2875)
    
    * Add import-mode argument to tune configs for importing data
    
    Some of these configs may be tuned without restart, but some of them
    are hard to be changed on the fly, this is the best we can do for now,
    but we will explore the possibilities in the future.

[33mcommit 26addeb467f71e06a524143d94558f3dab7ef37b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Mar 28 10:53:31 2018 +0800

    raftstore: relax abnormal leader missing check (#2867)

[33mcommit f4dfc4afc1745725f58263437e80c67b89090009[m
Author: MatthiasSchuster <shalokshalom@protonmail.ch>
Date:   Tue Mar 27 08:21:18 2018 +0200

    correct typos (#2869)

[33mcommit 6784cba0e41e6a0f501ff4ca30e7dbfe2a94e318[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Mar 27 10:34:03 2018 +0800

    raftstore: init half split region (#2790)

[33mcommit 1bbaf665f47326569ee743cf2a24bd306d186310[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Mar 26 19:29:08 2018 +0800

    Cleanup import SST files periodically (#2839)
    
    * Cleanup import SST files periodically
    
    The import SST process is divided into two steps:
    
      1. Upload an SST file to all peers of a region
      2. Ingest the SST file to the region with a Raft command
    
    However, since these two steps are not atomic, a lot of reasons can
    stop a client from ingesting an uploaded SST file to the region. In
    that case, the uploaded SST file will remain in the import
    directory. So we need a way to clean up these obsoleted SST files.
    
    Before we can delete an uploaded SST file, we need to make sure that
    the SST file will not be ingested anymore.
    We need to guarantee one of these:
    
      1. The epoch of the SST is staler than the local region peer
      2. The region information from PD shows that the SST does not belong
      to the store, and there is no stale peer of that region in the store too.

[33mcommit a6c08bcdbe747bfd2bc17048f991ed763db29bd7[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Mar 24 15:47:57 2018 +0800

    CI: cache build temporary result (#2865)

[33mcommit 3bc61e8a48cbb106138e93f7f4976e247c360095[m
Author: UncP <uncp@pingcap.com>
Date:   Fri Mar 23 16:34:37 2018 +0800

    util: refactor worker with crossbeam-channel (#2846)
    
    * refactor worker with crossbeam-channel

[33mcommit c3ce349f591a54c0f0d894d1909da613b76670de[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Mar 23 13:02:59 2018 +0800

    adjust pool size for coprocessor test. (#2864)

[33mcommit 8e78e3db1b5f10eabff31df25dfa111bb72a4241[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Mar 23 08:56:52 2018 +0800

    *: bump rc3 (#2861)

[33mcommit 2563b249142370417e4b2080e7874c5c8333c720[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Mar 22 23:38:35 2018 +0800

    apply/merge: use `mark_merge_done` (#2859)

[33mcommit 7afc3ef52e1e8d7691dacdf5348e94ca97baa574[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Mar 22 22:37:31 2018 +0800

    use delete range by default (#2806)

[33mcommit 645bcfe6a6998bdf92981d4c02673e8c3f43a481[m
Author: UncP <uncp@pingcap.com>
Date:   Thu Mar 22 21:09:57 2018 +0800

    tikv-ctl: dynamically modify tikv config (#2838)
    
    * tikv-ctl: dynamically modify rocksdb config

[33mcommit f3f226e0ec9c3027b51e24fe1e955a4afd3db6bd[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Mar 22 16:57:11 2018 +0800

    dag/expr:make EvalContext mutable (#2853)

[33mcommit 2b4ebd2c7b9f36fd124fba20f1d332801cee5479[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Mar 22 14:33:44 2018 +0800

    support unsafe recover for majority of replicas fail. (#2743)

[33mcommit 042261354ff34707550125a83e974b7fc27521b3[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Mar 22 12:29:00 2018 +0800

    Support region merge (#2502)

[33mcommit d59daa38426f954e4d4506a9fd01e83b424bfce2[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Mar 22 10:32:45 2018 +0800

    tikv-ctl: dump snapshot meta file (#2847)

[33mcommit ccdfa728263f81bbb4e1d1646a670580ec42b6f7[m
Author: csmoe <35686186+csmoe@users.noreply.github.com>
Date:   Wed Mar 21 18:46:41 2018 +0800

    server/service/kv: make_callback => paired_future_callback (#2849)

[33mcommit d5adb0616d3eaa7fbaaa5b482a73b9d3d9a71570[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Mar 21 16:37:48 2018 +0800

    Inform PD ASAP after new peers are not pending any more (#2786)

[33mcommit f3a1bedd3b726e6af42e05d4a4cc3d15b739251f[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Mar 21 13:46:36 2018 +0800

    Use a internal mutex to protect `get_fs_info` (#2848)

[33mcommit 8dcc5ab06930f0c5ad8dd078a5118c03412b352d[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Mar 19 20:35:36 2018 +0800

    Implement checksum push down request (#2822)

[33mcommit dfbef73d3524a6d2c6c18cf15abe4a5e84d1f10c[m
Author: wspsxing <biluohc@qq.com>
Date:   Mon Mar 19 15:51:27 2018 +0800

    fix build.rs: replace "%I" with "%H". (#2836)
    
    "%I" lose the information about am or pm, replace it with "%H".

[33mcommit 35fea7f7277f17d36cb254bce5c1f799d74a4af4[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Mar 18 12:42:29 2018 +0800

    raftstore: poll significate msg ASAP (#2830)

[33mcommit 5695d1b43960a951cfd902afe17e531455be7889[m
Author: Hugo Wang <w@mitnk.com>
Date:   Sun Mar 18 00:03:19 2018 +0800

    fix typo in readme (#2835)

[33mcommit f0b80c49066bf1786d2cb26e1a69f8fd027c10bc[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Mar 16 22:51:04 2018 +0800

    wal_bytes_per_sync use 512KB, bytes_per_sync use 1MB (#2818)

[33mcommit b2cb8b77d811335330372e94ab5019ac9db1eea8[m
Author: MyonKeminta <MyonKeminta@users.noreply.github.com>
Date:   Fri Mar 16 07:26:28 2018 -0500

    Add raw delete range interface (#2825)

[33mcommit b2b4bd2b024aa9873c3ae73730f5a86db7e369c8[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Mar 16 18:23:55 2018 +0800

    tikv-ctl: support dump metrics (#2824)

[33mcommit 220b5ad876c743b88c04f1a25ace9097d83c3b98[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Mar 16 15:36:37 2018 +0800

    transport: notify snapshot failure on resolving (#2815)
    
    * transport: notify snapshot failure on resolving
    
    When resolving a remote address, all messages will be dropped and
    report unreachable. However unreachable won't reset follower's
    progress if it's in Snapshot state. So trying to send a snapshot
    when the address is being resolved will leave follower's progress to stay in Snapshot forever.

[33mcommit 0c0a518a0179cff73c23d83349a51f8d9bffe6fd[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Mar 16 11:37:07 2018 +0800

    store: add assertion for error cases (#2793)

[33mcommit e332a713ab85df745edc05aa51e20f4540bbf9aa[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Mar 15 20:14:54 2018 +0800

    Add coprocessor streaming support. (#2478)

[33mcommit bdc4de789e31ae5fddac80f4575bd6058df1bde9[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Mar 15 18:04:57 2018 +0800

    tests: pd mock server ignore send failure (#2826)
    
    PD client updates gRPC client if it meets error so the
    RemoteStopped error may occur to the mock server. We should ignore
    errors instead of panicking.

[33mcommit c806611e5034e4864e08bd6f66dc17fdcb71563e[m[33m ([m[1;33mtag: v2.0.0-rc.2[m[33m)[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Mar 15 15:58:23 2018 +0800

    *: bump 2.0-rc.2 (#2831)

[33mcommit daf6711dd07933fd0643b6ab1179aa138f4c2265[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Mar 15 15:02:40 2018 +0800

    tests: poll HeartbeatResponse (#2755)
    
    In tests, the mock pd-server(TestPdClient::Cluster) does not push region heartbeat responses. This PR try to simulate pushing by polling responses in the background.
    
    It's part of region heartbeat cache #2701, for fixing tests.

[33mcommit a063e3d2aae73c64b30ba3d63de0e93506f560b5[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Mar 15 13:30:20 2018 +0800

    apply hot fix for murmur3 (#2828)

[33mcommit f5ba9e4276600905fb934bde6758e274beecabea[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Mar 15 11:43:24 2018 +0800

    reclaim disk space after data have been deleted (#2631)

[33mcommit d94db7b296027bcf68016552ae0787aeeae1710d[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Mar 15 10:18:02 2018 +0800

    Implement IngestSST API (#2712)
    
    * Implement ImportSST::Ingest API
    
    Client must guarantee that the SST file has been uploaded to the servers where
    the region's peers locate in, before issuing an ingest request to the region's
    leader.
    
    The SST metadata provided in the ingest request will first be replicated through
    Raft. Then when the log entry is applied, the coresponding uploaded SST file
    will be ingested to the local engine.
    
    To make sure that the region's range and peers are not changed on during this
    process, the region's epoch will be checked before ingestion.

[33mcommit 67711a6f5e951b74e61d357a52e6fc453730d8eb[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Mar 14 20:05:53 2018 +0800

    tikv-ctl: Add consistency-check sub command. (#2750)

[33mcommit 6f99309f82aeabf408e89916114b5f42428ac48a[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Mar 14 14:15:17 2018 +0800

    raftstore/config: support merge (#2819)

[33mcommit dc65d3c033c61bcf9a629cab07d67b2f4a76d4c9[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Mar 14 13:16:08 2018 +0800

    raftstore: make it possible to apply recursively (#2814)
    
    To apply recursively, use `stash` first, and then call
    `handle_raft_committed_entries`, finally `restore_stash`.

[33mcommit 0a991685770ed84f1e3db9b0f9870e5a77bf2778[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Mar 13 14:12:11 2018 +0800

    upgrade indexmap (#2816)

[33mcommit 0310c194d782995f42fc8ee10ca62579a3674dce[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Mar 12 21:57:49 2018 +0800

    remove raft module (#2774)

[33mcommit 1764f38f1eac75d78db9417f42a65a21b4d10d64[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Mar 12 18:44:52 2018 +0800

    server/debug: dump stats of rocksdb && malloc (#2805)

[33mcommit f67f1989bdba93de345d0932f0d10687bf468193[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Mar 12 16:32:54 2018 +0800

    separate read pool config and name_prefix (#2813)

[33mcommit 787cfcf0009b355785c6f0115239e42445f2ac40[m
Author: Greg Weber <greg@gregweber.info>
Date:   Sun Mar 11 09:52:13 2018 -0700

    document TiKV client operation. (#2811)

[33mcommit b73149c3fe3a72f2f3c0936faf1618cd9ca93513[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Mar 10 10:17:03 2018 +0800

    *: update version (#2810)

[33mcommit b455095a3367176bef5b281f86b36a60f8e382e8[m[33m ([m[1;33mtag: v2.0.0-rc.1[m[33m)[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Mar 9 18:47:16 2018 +0800

    config: create parent dir if missing (#2809)

[33mcommit 7eb3bf4fb249d292c8a2fc606507f3c8bc448ed1[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Mar 9 17:42:11 2018 +0800

    default snapshot io limitation is too strict (#2808)

[33mcommit c4391d4641bcd4d0ebdba02000b5945254b6d598[m
Author: iamxy <kenneth.liu.xy@gmail.com>
Date:   Fri Mar 9 10:08:48 2018 +0800

    docker: udpate tikv Dockerfile (#2788)

[33mcommit d3413e34c3032392139fa9b369d386043cbde1a5[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Mar 8 21:38:28 2018 +0800

    raftstore/apply: tiny refactor (#2789)

[33mcommit 2f700635e0d63fa4f1c0c503ef3cbc45a3286981[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Mar 8 12:50:25 2018 +0800

    config directory is readonly in normal (#2803)

[33mcommit 644a24ff600436c9401fba926b61cf7e88d1a463[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Mar 7 21:15:23 2018 +0800

    peer: add test for sync log check (#2804)

[33mcommit b1052762c80f1d8259d7c6ee4eb7f94b687e94d6[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Mar 7 18:49:33 2018 +0800

    util/config.rs: fix bug in test ssd (#2802)

[33mcommit 8b93bccf124de6342db3e91630f3c72eb7a9734a[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Wed Mar 7 14:17:04 2018 +0800

    Move Storage Read Operations into Readpool (#2713)

[33mcommit f626c17d80371bb585c93e05285eac68cb1afc10[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Mar 7 12:16:23 2018 +0800

    Config check ssd (#2747)

[33mcommit de584d3080319577e62472b77ac037c8aea31c8a[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Mar 7 11:10:52 2018 +0800

    debug: init api for metrics  (#2780)

[33mcommit ac71fe7b4a795bd9caddfa3d8a7677a76cb92fb7[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Mar 6 22:17:08 2018 +0800

    raftstore: add several util functions (#2792)

[33mcommit cef133ab753c1242259225fe1bd81b189638f044[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Mar 6 16:09:44 2018 +0800

    Update rocksdb: fix a segfault (#2791)

[33mcommit aea24b228d89cd8826238156dfb096c0f9493c39[m
Author: UncP <uncp@pingcap.com>
Date:   Mon Mar 5 21:42:27 2018 +0800

    coprocessor: adjust end point max handle duration use (#2776)
    
    * adjust end point max handle secs use

[33mcommit b1e3fe1faad1b09d2d26e35f8e854c7f28ed4bda[m
Author: XuWentao <30992981+wentaoxu@users.noreply.github.com>
Date:   Mon Mar 5 19:18:46 2018 +0800

    Add metrics and log for txn (#2746)

[33mcommit 73130b97c8677c9d09a555070406693c02ba5142[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Mar 5 17:30:08 2018 +0800

    pd: cancel unused region heartbeat rpc (#2784)

[33mcommit 897fa81dc07172aed39685160b7452a975281a1c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Mar 5 16:36:14 2018 +0800

    util/logger: include logs in tests (#2785)

[33mcommit b97d28a4d61c3eb2b7c06a595358b549ceaf2f4a[m
Author: iamxy <kenneth.liu.xy@gmail.com>
Date:   Mon Mar 5 14:18:02 2018 +0800

    docker: raise go ver to 1.10 in rust Dockerfile (#2787)

[33mcommit c96132f1eda06c4a304ddded4464d9a453f4ee5a[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Mar 5 13:07:52 2018 +0800

    check critical configurations when start (#2764)

[33mcommit b0ec5ddc9408341b8956f94afd6abaf1ef974a02[m
Author: Greg Weber <greg@gregweber.info>
Date:   Fri Mar 2 07:23:01 2018 -0800

    Rust dockerfile update (#2778)

[33mcommit 0db404570ba749415012bebad2bcb79b5c99712d[m
Author: Lynn <zimu_xia@126.com>
Date:   Thu Mar 1 19:30:04 2018 +0800

    *: update tikv version (#2782)

[33mcommit 50a14ca24a50d3797de750bc3fd71900ef5265c0[m
Author: july2993 <july2993@gmail.com>
Date:   Thu Mar 1 17:36:55 2018 +0800

    grpc: cache metrics (#2765)

[33mcommit def752095450c7ba319930d21dfe6303681b811b[m
Author: Lynn <zimu_xia@126.com>
Date:   Thu Mar 1 12:50:49 2018 +0800

    coprocessor/dag/executor: handle only one row in stream aggregation (#2762)
    
    * coprocessor/dag/executor: handle only one row

[33mcommit 34614fc6e0d8dda4911b95a21e9434e9d60d433a[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 1 10:41:54 2018 +0800

    server: add a raft messgae flush metrics (#2771)

[33mcommit a9e2e44104e0cce90e4f7d4cd1427c6d11fb6dba[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Feb 27 22:49:11 2018 +0800

    raft_client: rename a confused constant variable (#2775)
    
    * raft_client: rename a confused constant variable

[33mcommit 80de3d31d140109012a09231dd132c28fc79672c[m
Author: UncP <uncp@pingcap.com>
Date:   Mon Feb 26 16:04:02 2018 +0800

    make end_point_request_max_handle_secs configurable (#2769)
    
    * make end-point-request-max-handle-secs configurable

[33mcommit 10de328fa9310e088a01bdf0f1e5d68810a21dad[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sun Feb 25 12:27:19 2018 +0800

    pd: handle reconnect (#2757)

[33mcommit e4df31eef287217ca0e5bc833a8d31f943cdfdf9[m[33m ([m[1;33mtag: v1.1.0-beta[m[33m, [m[1;31morigin/release-1.1[m[33m)[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Feb 12 13:47:37 2018 +0800

    tikv-ctl: tombstone supports multi regions. (#2711)

[33mcommit 832eb199d261b7e0508d8e6ee7eecd6a931fa677[m
Author: Lynn <zimu_xia@126.com>
Date:   Mon Feb 12 12:37:13 2018 +0800

    coprocessor: support stream aggregation (#2714)

[33mcommit 93702491fdeed65510953f5b8c0eac7030cac13a[m
Author: Connor <zbk602423539@gmail.com>
Date:   Mon Feb 12 10:43:06 2018 +0800

    pd: add timestamp field for region heartbeat (#2728)
    
    * add timestamp field for region heartbeat
    
    * update kvproto
    
    * get coarse time
    
    * fix
    
    * use system time directly

[33mcommit dfb49087a4d1f4cc121b22702e1040ad5e5c3ac1[m
Author: Shirly <AndreMouche@126.com>
Date:   Sun Feb 11 16:24:56 2018 +0800

    Coprocessor: use local metrics (#2647)

[33mcommit 4ce7160cf8d56d77580574a0a2af8ecf1e97f9eb[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Sun Feb 11 12:22:30 2018 +0800

    Fix test_server_clear_stale_data (#2748)
    
    This test sometime fails in CI, I'm not sure why yet. But I think it may relate
    to the CF_RAFT, because CF_RAFT is writting while the test constructing the
    necessary SST files. So I remove the CF_RAFT and CF_WRITE (so we don't need to
    care about the SliceTransform).

[33mcommit 7670b7abe8fccb524dee859e5f8ef077349ecdc3[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Feb 10 23:21:52 2018 +0800

    util/logger: collect grpc logs (#2756)

[33mcommit 59ef7b4c04807d94d184237ea5b6c31cda83fedf[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Feb 9 17:18:38 2018 +0800

    raftstore: limit max snapshot total size. (#2632)

[33mcommit b98fadd01a01ed150ab5a37855176e6e3cce6071[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Feb 9 12:04:24 2018 +0800

    codec/table: check whether range.start<range.end (#2752)

[33mcommit 7e9218fd5d2d74d4e718e10fe11d47871c48933a[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Feb 8 17:28:42 2018 +0800

    add tag `stale_command` in ASYNC_REQUESTS_COUNTER_VEC. (#2745)

[33mcommit 862e38f23b6594ad241602495b6e44b6490e5a09[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Feb 8 09:36:14 2018 +0800

    raftstore: record leader miss (#2730)

[33mcommit 18ab0e5db93763675525e029533d8ca37f5d3eab[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Feb 7 16:57:27 2018 +0800

    Trace failed test cases on CI (#2721)

[33mcommit 77cbfdab581f641fc2576eb393c641a2eaf6ea34[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Feb 6 21:02:30 2018 +0800

    executor/topn: fix bug caused by limit=0 or without limit (#2744)
    
    * executor/topn: fix bug caused by limit=0 or without limit

[33mcommit 051d88c0237fb99ef06a99dc7a7ce0ea9f2a3ac4[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Feb 6 17:02:24 2018 +0800

    util: add file name and line number for box error (#2741)

[33mcommit 6f3d0af5051262712c248d4b0028ac479ef1e64c[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Feb 5 15:50:55 2018 +0800

    Add read pool (#2699)

[33mcommit 2f44c62bd1bb46b3ecb72ad4391d1e9202a957d0[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Sat Feb 3 12:53:21 2018 +0800

    Clear stale data using DeleteFilesInRanges (#2731)

[33mcommit c94561ebd9ae9a306273bebb778021ebf4d7241e[m
Author: MyonKeminta <MyonKeminta@users.noreply.github.com>
Date:   Fri Feb 2 14:49:46 2018 +0800

    bench/bin: Add some common utils (#2635)

[33mcommit 84ab8a9f97866f9708a13df8d047c7965e19830e[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Feb 2 13:34:51 2018 +0800

    Improve approximate size for small data in tests (#2738)

[33mcommit f0d5e2cf207374a46561f4feff1eab4329356172[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Fri Feb 2 01:31:16 2018 +0800

    Add future pool (#2725)

[33mcommit 544b24b7dacc49d9250b34bd866ec7db036244d7[m
Author: MyonKeminta <MyonKeminta@users.noreply.github.com>
Date:   Thu Feb 1 22:41:24 2018 +0800

    bench/bin: Support simple command line args (#2637)

[33mcommit 9a7c6a55bdc26d8d906129774dd161f0afe45b44[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Jan 30 19:44:03 2018 +0800

    fix cleanup for raw kv (#2724)

[33mcommit 1b972c0b3375e733970fe9382616962b9c109e8d[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Jan 30 15:45:28 2018 +0800

    Implement GetAllStores API (#2722)

[33mcommit 6a6e11dad1c18d51e46d1f781f4b843a66fc3681[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Jan 30 14:33:33 2018 +0800

    fix update region size (#2715)

[33mcommit c68d93bac37577156dbeb4d8569be43fdcbdfb5f[m
Author: UncP <uncp@pingcap.com>
Date:   Tue Jan 30 09:46:15 2018 +0800

    raftstore: remove sync snapshot file (#2723)

[33mcommit ba488de15f0ebeef2e95e39730ebe6216e9ad34a[m
Author: UncP <uncp@pingcap.com>
Date:   Mon Jan 29 15:16:11 2018 +0800

    sync snapshot (#2719)

[33mcommit 9291caad46f5a76cb1d5c01e0f8baecd0da3c284[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Jan 29 11:53:34 2018 +0800

    coprocessor/endpoint: check range for dag and analyze (#2698)

[33mcommit 63eb6fabc274dee82dce3e6effe6bb288ebeb748[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Jan 26 15:24:58 2018 +0800

    disable portable on MacOS (#2696)

[33mcommit 179dc3c4f7d4fa1cf94d9b9cca3c8eff04c2c5b5[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Jan 26 10:13:09 2018 +0800

    update region size by compaction event (#2636)

[33mcommit 3260f117acecfdc8996302fa58a7ef768cc1d3a5[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Thu Jan 25 21:20:16 2018 +0800

    Impl Debug Trait for Snapshot (#2685)
    
    * add Debug to Snapshot

[33mcommit 83b8c85f9840a4d48f3810d7fae9dae950fc1471[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jan 25 16:36:50 2018 +0800

    tests: move some helper functions to util (#2702)

[33mcommit a36b3694313758a90c75c8a32d8e45a2ee6106aa[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jan 25 13:26:46 2018 +0800

    bin: ignore prometheus encoding error (#2707)
    
    Cc: pingcap/rust-prometheus#131

[33mcommit 068c323f05f3ff584b56a4eb99c930fbe15f2018[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jan 25 12:40:10 2018 +0800

    tests: ignore stale cmmand while splitting (#2710)

[33mcommit e828ba592e34f7795a8bd925692354933d7eb84c[m
Author: july2993 <july2993@gmail.com>
Date:   Thu Jan 25 11:44:23 2018 +0800

    raftstore: remove schedule empty apply task (#2706)

[33mcommit 32457231faaa679510b199bee052e686026c8c2e[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Jan 23 18:58:07 2018 +0800

    import: Add ImportSST/UploadSST API (#2662)

[33mcommit aecb7ba32fb79cb15761b269b2dd477eb342ca3b[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jan 23 15:29:35 2018 +0800

    executor/aggregate: convert int to decimal in sum (#2694)

[33mcommit 0e524407ad5cfcf109680a994a656016667a9cca[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Jan 23 13:37:21 2018 +0800

    tests: call commands asynchronously (#2703)

[33mcommit 9e7e766f9529a2fd3e4f3d85037b70d8fba70c0d[m
Author: XuWentao <30992981+wentaoxu@users.noreply.github.com>
Date:   Tue Jan 23 09:20:55 2018 +0800

    Limit data size for scan lock (#2664)

[33mcommit 3ebb9cf637758be5b47412432ab7c8e3e6f0f8bb[m[33m ([m[1;33mtag: v1.1.0-alpha.1[m[33m)[m
Author: UncP <uncp@pingcap.com>
Date:   Fri Jan 19 15:11:33 2018 +0800

    Storage Scheduler: remove channel (#2672)
    
    * remove channel from Storage Scheduler

[33mcommit 4e4db1e6531395f2b88c3ab2b8468c646d105760[m
Author: UncP <uncp@pingcap.com>
Date:   Fri Jan 19 11:34:15 2018 +0800

    adjust Scheduler metrics (#2700)
    
    * adjust Scheduler metrics

[33mcommit 707eff2690dc20d1a3667340be50e82143318f4e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jan 17 21:54:28 2018 +0800

    time: fix test_instant, checked_sub may return zero (#2690)

[33mcommit 6e06c809a1f268d27d5eeb5b9c251f2f104aba95[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Jan 17 20:29:26 2018 +0800

    Remove unused rocksdb.backup_dir (#2697)

[33mcommit d52c3bbb33b3a444569acc39dfdbacbc51ef6fcd[m
Author: Andrew Hobden <andrew@hoverbear.org>
Date:   Wed Jan 17 12:19:03 2018 +0100

    src/coprocessor/codec/mysql/decimal.rs: Fix bad lint fix. (#2693)

[33mcommit b0740b9aa6662b22d34f95e2fb67fa669b4f3f90[m
Author: Andrew Hobden <andrew@hoverbear.org>
Date:   Tue Jan 16 08:21:48 2018 +0100

    Update Rust to Nightly 2017-01-12 (#2617)

[33mcommit 621978bfe082935f35fe98a1f97405599f3e86a9[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Jan 16 11:48:30 2018 +0800

    Refactor raftstore callback API  (#2625)
    
    Replace pub type Callback = Box<FnBox(RaftCmdResponse) + Send>; with an enum Callback, which has four variants: None, Read, Write and BatchRead.
    
    Now all writes and reads events take place at the raftstore thread, and they are controlled more precisely.
    Arc<Rocksdb> is no longer needed in the raftkv layer.
    It helps reduce heap allocations by replacing empty callback with None.

[33mcommit bc84f1bc471e429233ada195948ca44b463c8079[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Jan 15 19:30:37 2018 +0800

    Cargo: update hyper to v0.9.18 (#2686)

[33mcommit 69b5c8c2c364c36eabf5d9f48695f502d64e03d9[m
Author: UncP <uncp@pingcap.com>
Date:   Mon Jan 15 16:57:01 2018 +0800

    LimitWriter: test use TempDir (#2687)
    
    * LimitWriter: test use TempDir

[33mcommit 4c7ffae41728266a572e4ac38d42abd79a90e467[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Jan 15 15:11:48 2018 +0800

    Cargo: update prometheus to v0.3.7 (#2684)

[33mcommit 6a2a459f965c11404edae6c6a7d52985e268d0ee[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Jan 13 00:51:53 2018 +0800

    keys: make meta key return array (#2677)

[33mcommit bf9ffdaadf2a79443f6e6a39fce31306d804fd0f[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Jan 12 17:25:59 2018 +0800

    pd: cancel call when refreshing client (#2669)
    
    * pd: cancel call when refreshing client

[33mcommit 1dedabc5b5b1da9fb2179085fa7c39a5f00f8c16[m
Author: july2993 <july2993@gmail.com>
Date:   Fri Jan 12 14:12:01 2018 +0800

    tikv-ctl: dump ConfChange type raft log entry (#2661)
    
    * tikv-ctl: dump ConfChange type raft log entry

[33mcommit 02174cfb2b5c718204672ea76f8c25c3b3ff2099[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jan 12 11:43:12 2018 +0800

    Enable Link Time Optimization (#2671)

[33mcommit 9556474d6bc35168e02c86bd4387398901c4ec89[m
Author: Lynn <zimu_xia@126.com>
Date:   Thu Jan 11 19:18:04 2018 +0800

    coprocessor/dag/executor: rename AggregationExecutor to HashAggExecutor (#2673)

[33mcommit 65f8525a45c916c55476cffc5882bd379bb59b27[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jan 10 21:55:16 2018 +0800

    Enable epollsig on Linux (#2667)

[33mcommit e70f24b67280397724d34f5dc09a417d07388081[m
Author: UncP <uncp@pingcap.com>
Date:   Wed Jan 10 09:18:55 2018 +0800

    src/storage/engine: fix storage task name error (#2663)

[33mcommit 7ade6f01f69c9036d1e728e13349e6fdc38607d8[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Jan 9 21:19:16 2018 +0800

    Specifying gRPC event engine (#2656)

[33mcommit 6b042752fa922c1c56d4a74fb9569b01249f2217[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jan 9 14:17:58 2018 +0800

    *: change version (#2658)

[33mcommit 417572559f13c004bf608254433e5ce21d42a53c[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Jan 8 17:30:45 2018 +0800

    Optimize write type parsing for mvcc properties collector (#2654)

[33mcommit 1de37670ee601deba5d88609dcd7d848de2a11e3[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jan 5 17:38:35 2018 +0800

    coprocessor/endpoint: init runtime in response (#2638)

[33mcommit f542feb9d19a6478778b08dd4bf815c273f8f15a[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jan 5 15:38:22 2018 +0800

    tests: remove redundant storage tests (#2646)

[33mcommit dab0a0c6e0b3b4fe0c5be139bf5ef1a3d21a6ae7[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Jan 4 22:36:04 2018 +0800

    timer: add timer and adjust worker. (#2564)

[33mcommit 9baba53f0d312438163381d849fcacd5ac31c305[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Jan 4 18:19:33 2018 +0800

    util: Rmove BatchRunnable and use Runnable instead. (#2645)

[33mcommit 847407b75d9cc44a32af3bc75864af33fe53c100[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jan 3 16:53:53 2018 +0800

    raftstore: add Lease (#2582)

[33mcommit 233ef8a93125294066eb2f15b39bed8e92d6a0b7[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jan 3 09:19:39 2018 +0800

    *: fix some failpoints name (#2634)

[33mcommit f5f9619a05efb21cbe22c501d93d56c57cec56f1[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Jan 2 16:01:36 2018 +0800

    tikv-ctl: add `bad-regions` subcommand. (#2624)

[33mcommit 9f1f926a3d00c03e3f8f9421eb75c52755eadab5[m
Author: Rain Li <blacktear23@gmail.com>
Date:   Fri Dec 29 19:15:15 2017 +0800

    Fix make dev compile error on Mac (#2628)
    
    * Fix make dev bug on Mac: do nothing when check_hard_link

[33mcommit 2249bdd04949dc2691d57e9ff2df4b199a1aea37[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Fri Dec 29 17:14:17 2017 +0800

    coprocessor: support builtin aggregation function `bit_and`, `'bit_or`, `bit_xor`. (#2510)

[33mcommit 8c785c6ca0d2719794cd5208fbd4398926d72f3e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Dec 29 11:59:39 2017 +0800

    Upgrade fail to 0.2 (#2620)

[33mcommit 9b96e4bd9ce6c7fcf2236e73ce85e95c0870fbea[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Dec 29 09:22:31 2017 +0800

    tests: make failpoints tests more stable (#2621)

[33mcommit 60b100bfe324d8dd8491982f14d7f95c71da9745[m
Author: disksing <i@disksing.com>
Date:   Wed Dec 27 18:19:28 2017 +0800

    config: enable table split by default. (#2575)

[33mcommit afcc131cfd73c2c47b390049df98cddd490f60d8[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Dec 27 17:21:45 2017 +0800

    Ingest SST with `move_files` option (#2600)

[33mcommit 585e5cffc36bb6a4ee1484aff2b04a79cf4950fd[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Dec 27 15:54:44 2017 +0800

    Add scatter region rpc (#2622)

[33mcommit 0fe3f22991a2da02afcd79d3676fdcd0346611aa[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Dec 27 15:07:56 2017 +0800

    Configurable delete range (#2573)

[33mcommit 1cd4894bf3fbba7635d445464d1346a6e9389dff[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Dec 27 11:24:49 2017 +0800

    tests: catch stale command in transaction error (#2619)
    
    * tests: catch stale command in transaction error

[33mcommit ddef0db7094c17d2b262e31de1f0baafc7e6f007[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Dec 26 17:08:04 2017 +0800

    coprocessor: fix metrics. (#2616)

[33mcommit 2aaf1f7f4a960ec6b92f710c064e29313d941882[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Dec 26 13:37:47 2017 +0800

    *: upgrade grpcio to 0.2 (#2545)

[33mcommit 5e6850efe25105bc0ffb814ba3ceb01ac80c4248[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Dec 26 10:17:33 2017 +0800

    coprocessor: clean up select interface (#2606)

[33mcommit 906fcf52a050516ac4d34e529eb0d540aad0835e[m
Author: Du Chuan <duchuangucas@live.com>
Date:   Mon Dec 25 17:05:17 2017 +0800

    coprocessor: Fix return type for builtin aggregation fuction 'AVG' and 'SUM' (#2589)

[33mcommit 7e4b3e332ceb2d92c2ec8b074f38e62d2dd5c8bf[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Dec 25 12:27:41 2017 +0800

    set raftstore thread priority (#2578)

[33mcommit c2261dd31b7f2ce21f875160b7f57dc5efb0d231[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sun Dec 24 13:00:44 2017 +0800

    update rocksdb with cmake confg checks (#2610)

[33mcommit b754c4fbeb4aecea4af16544b79c96daff678fac[m
Author: july2993 <july2993@gmail.com>
Date:   Fri Dec 22 20:29:54 2017 +0800

    raftstore: avoid call Raft status (#2601)

[33mcommit fc1cffcd44ad75358ab4cb7fe6d2fe18ce1b1981[m
Author: Haibin Xie <lambdax.tyler@gmail.com>
Date:   Fri Dec 22 16:57:30 2017 +0800

    coprocessor: collect output counts for each executor (#2607)

[33mcommit 8c1fe301298ff1141ee34c4d95adc17036308a4b[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Dec 22 11:34:16 2017 +0800

    coprocessor/scanner: set key_only=true if needed (#2580)

[33mcommit b2d62a7675c519bf644c8f42fed9ea4f061e1138[m
Author: disksing <i@disksing.com>
Date:   Thu Dec 21 17:57:15 2017 +0800

    test: use fail-rs for some tests. (#2592)

[33mcommit fdd99b754212a0158423865e4355647c1e8b44a8[m
Author: Andrew Hobden <andrew@hoverbear.org>
Date:   Thu Dec 21 07:14:57 2017 +0100

    Update `rustc_serialize` (#2604)
    
    Prior to this change, we were using `rustc_serialize-0.3.19` which
    doesn't build on the latest nightlies.
    
    This change updates us to `rustc_serialize-0.3.24` which does build
    against the latest nightlies.

[33mcommit 163762b41a361d36b42e2de3d73de3f18f6e070d[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Dec 21 11:14:49 2017 +0800

    more configurable args for column family (#2599)

[33mcommit 8577330ae1ddb9483068d0fae79343b88000b70a[m
Author: Jiahao Huang <july2993@gmail.com>
Date:   Wed Dec 20 18:18:22 2017 +0800

    tikv-fail: change addr arg to required (#2602)
    
    addr arg is required now,or it will just show a unwrap error msg

[33mcommit 3b63efd33d0869743b4b60553ef93f9ccbed4535[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Dec 19 22:34:05 2017 +0800

    store: change box err to stale epoch error (#2595)

[33mcommit d780a5f9ba18cdb2a7063172079ff9bfe27a06d4[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Dec 18 13:15:49 2017 +0800

    raft: add learner and tests. (#2491)

[33mcommit 8a2ea7648e95b40a21024e01c28ebbfc2699bc75[m
Author: Haibin Xie <lambdax.tyler@gmail.com>
Date:   Mon Dec 18 08:43:04 2017 +0800

    coprocessor: make test CM sketch faster (#2577)

[33mcommit 444b6b98f6eb354ae62d379a1dced17797979d7e[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Sat Dec 16 16:43:03 2017 +0800

    DateFormat -> DateFormatSig (#2576)

[33mcommit f3c4aecaba16338c91481db3c7b460139cff1577[m
Author: UncP <uncp@pingcap.com>
Date:   Thu Dec 14 14:25:02 2017 +0800

    storage/engine/mod.rs: fix comment error (#2584)

[33mcommit 77275ddb49b7b077727fa01c996d14a86a2a3052[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Dec 13 23:26:04 2017 +0800

    worker: add pending_capacity for Worker. (#2560)

[33mcommit 1c6d3679051f340c4e2d89f32748fbe2331d7d51[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Dec 13 16:56:33 2017 +0800

    Cargo: update prometheus (#2579)

[33mcommit 9648f88a6bf840087df9138b9967ff509a56f8be[m
Author: XuWentao <30992981+wentaoxu@users.noreply.github.com>
Date:   Wed Dec 13 09:16:37 2017 +0800

    Fix rocks db configuration for txn test (#2572)

[33mcommit a5036b8b33ad1a32521a9c5c29e2cc3b72b02646[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Dec 12 18:39:35 2017 +0800

    Add get_region_info for pd client (#2534)

[33mcommit 72dc2642158603b64ca67406a05cd70d3153ec95[m
Author: disksing <i@disksing.com>
Date:   Tue Dec 12 10:55:19 2017 +0800

    storage: add some failpoints. (#2569)

[33mcommit df5b2bf31aaefbadc86dbdae9ebe31dc63dccc29[m
Author: Wenxuan Shi <hi@breeswish.org>
Date:   Mon Dec 11 19:33:23 2017 +0800

    coprocessor: support date_format (#2503)

[33mcommit f8d010d35dd9e9b6f4955648f2f56ab3b5023193[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sun Dec 10 14:42:16 2017 +0800

    Add role observer (#2551)

[33mcommit 9cb6786b4d0010d765fa0437186043666e7e1d2c[m
Author: UncP <uncp@pingcap.com>
Date:   Fri Dec 8 18:35:51 2017 +0800

    config: set bytes_per_sync & wal_bytes_per_sync (#2555)
    
    * set bytes_per_sync & wal_bytes_per_sync

[33mcommit 0456d93d059ce0b33114dab10070ed518cf66e7a[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Dec 8 17:46:29 2017 +0800

    *: tiny cleanup (#2566)
    
    - change dev target to skip build target
    - fix typos

[33mcommit 8842e1762088f815bb3d66bbf88f008ef6dfa6d6[m
Author: Han Fei <hanfei19910905@gmail.com>
Date:   Fri Dec 8 16:21:29 2017 +0800

    coprocessor: support unique index scan (#2526)

[33mcommit 282715ac398f12c8fcc94570e1f0e194d341ac6d[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Dec 8 11:01:59 2017 +0800

    raftstore: add metrics APPLY_TASK_WAIT_TIME_HISTOGRAM. (#2552)

[33mcommit 28ece082e55854c69ee61c1bc87db438e9d9b6a6[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Dec 7 14:03:28 2017 +0800

    copr: call post_apply hook (#2561)

[33mcommit 3590ebbe80b0a97f7b6f39dfb79219ca8d0b92d3[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Dec 7 11:33:50 2017 +0800

    Refactor tests for rpc client (#2558)

[33mcommit 6b4f7db10cd752a0b2290f2fc2553d097769909b[m
Author: disksing <i@disksing.com>
Date:   Thu Dec 7 10:46:21 2017 +0800

    mvcc: reduce log. (#2550)

[33mcommit 120632c4fca4f8d34e3ec912c5666886b0184c88[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Dec 7 00:36:59 2017 +0800

    tikv-ctl: use the same config for rocksdb as tikv-server's (#2538)
    
    * tikv-ctl: use the same config for rocksdb as tikv-server's
    * Remove util::rocksdb::open

[33mcommit 60991d502d574c6922c056d50f9980dcde60b980[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Dec 6 17:41:59 2017 +0800

    improve scheduler metrics (#2522)

[33mcommit e15694519e369b4781c0e94991a2ca2884963db3[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Dec 6 16:55:51 2017 +0800

    Add config to disable block cache (#2554)
    
    This is mainly for test, so I think we don't need to add it to the template.

[33mcommit a104168b674331b888c726939a5a85883fbcbcf3[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Dec 6 10:31:50 2017 +0800

    raft: avoid copy prs (#2546)

[33mcommit c9d390c9c14376ebf7ec82e3210f642b3497f75e[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Dec 6 09:04:13 2017 +0800

    support lower_bound for iterator (#2504)

[33mcommit d9da6c35f144db5c796bd5f4eb207e6e8d5e7c4f[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Dec 5 17:26:54 2017 +0800

    use rocksdb with optimize ingesting sst (#2549)

[33mcommit caefcc3b7c643683fffedbf29ca6d13d230bc1f2[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Dec 5 16:16:05 2017 +0800

    mysql/decimal: fix bug in decode (#2547)

[33mcommit 908fa17d504825d821b9559eb98807d797edea28[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Dec 5 14:36:26 2017 +0800

    worker: add on_tick for BatchRunnable (#2524)

[33mcommit 0554e08db25861f3e48b8805898ca6ae4899b58d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sun Dec 3 10:45:17 2017 +0800

    fix default features (#2544)

[33mcommit bd02cf6eb049df7c89a394793b21dffb12dac73d[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sun Dec 3 07:47:50 2017 +0800

    use rocksdb release 5.8 (#2543)
    
    * use rocksdb release 5.8

[33mcommit 3aafc0b4223e26fab4da701f70bd004b134ac81c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sun Dec 3 06:54:24 2017 +0800

    Cargo: update prometheus (#2539)

[33mcommit 8728d5f82ce9ae093a41d207b14701df02f7abd9[m
Author: Shirly <AndreMouche@126.com>
Date:   Sat Dec 2 21:49:24 2017 +0800

    index_scan/test :fix bug in generate key range for index (#2527)
    
    * executor/index_scan:fix bug in generate key range for index

[33mcommit a89c33f4eb2ce66879a93c208b033e123d456fe1[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Dec 1 15:53:00 2017 +0800

    *: update rocksdb (#2532)

[33mcommit 5aac034c6c2fcfc579121a56c9ff2824ea7c0e0f[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Dec 1 10:39:41 2017 +0800

    *: support tls (#2506)

[33mcommit ecf816096a54226ae0ddafd500b4b5d1d760d87b[m
Author: disksing <i@disksing.com>
Date:   Tue Nov 28 16:31:20 2017 +0800

    scheduler: reduce slow log. (#2525)

[33mcommit 51b8876257dc1f3da1ceca7841d20c0beb340f25[m
Author: Haibin Xie <lambdax.tyler@gmail.com>
Date:   Tue Nov 28 10:19:14 2017 +0800

     coprocessor/statistics: implement count-min sketch (#2463)

[33mcommit 19ac05f858415834e3f229dcf01c1524e3decdfb[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Nov 27 16:28:27 2017 +0800

    endpoint: reduce slow log (#2523)

[33mcommit 1588931260f27556a13ecdd42e35d933c01fa554[m
Author: UncP <uncp@pingcap.com>
Date:   Mon Nov 27 09:06:26 2017 +0800

    limit region snapshot io (#2446)

[33mcommit 162631ef46bcb913832c153c5831fe8e50c3d433[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Nov 23 13:20:46 2017 +0800

    update to protobuf 3 (#2485)

[33mcommit 77cc82747b77ebb9248afc4b5756315a81d1ec48[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Nov 23 11:39:12 2017 +0800

    txn: rename ScheContext to SchedContext (#2500)

[33mcommit 3a872e3253f0c0041d106f58b6061851177720ad[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Nov 21 01:22:41 2017 +0800

    snap: delete stale snapshot immediately (#2429)

[33mcommit eb23416b0d4feec30c84560f3f2b79676d9404f6[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Nov 20 19:31:25 2017 +0800

    pd: fix a dead lock (#2489)

[33mcommit 8a512cd752c0dc9cc46f52be71e07d0585848beb[m
Author: disksing <i@disksing.com>
Date:   Mon Nov 20 10:26:25 2017 +0800

    grpc: adjust metrics. (#2488)

[33mcommit 37090b669db909e07258c28e89389e5c0402d423[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sun Nov 19 10:21:21 2017 +0800

    snap: shorten write guard lifetime (#2490)

[33mcommit 045f25b45f0066f8a510b91511ca2fff3d221327[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Nov 17 17:52:10 2017 +0800

     streaming: remove lifetime from dag && snapshotstore #2423  (#2441)

[33mcommit abf5b425cd4ef04305d1137d3dcd88701f0f5588[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Nov 17 16:43:01 2017 +0800

    raftstore: block message when applying snapshot (#2474)

[33mcommit 13fd995e6b2dce1c185124c954cceb09b6e57cbb[m
Author: Drogon <jack.xsuperman@gmail.com>
Date:   Thu Nov 16 15:06:10 2017 +0800

    Fix typo (#2482)

[33mcommit 2b1b49be929aa60b30734f519d24e0d427e89411[m
Author: disksing <i@disksing.com>
Date:   Thu Nov 16 14:21:46 2017 +0800

    raftstore: fix not leader response (#2479)

[33mcommit 33c4ae5ce168caac29a5da70b01cd749366053ff[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Nov 16 12:59:56 2017 +0800

    ci-build/test.sh: add execute permission (#2472)

[33mcommit 9cc2ed255f0a4445298b45a5fb8341dc6d81d5ac[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Nov 15 05:31:00 2017 -0600

    coprocessor/dag: fix bug caused by check meta in chunk (#2476)

[33mcommit 001056d1c4cb8b727d2db56b59d4d6563282c098[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Nov 15 18:55:46 2017 +0800

    resolve: fix potential dead lock (#2477)

[33mcommit 7a828edbee294bc84aa846dda83edc9599195bfb[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Nov 14 21:26:35 2017 +0800

    coprocessor: add more observer (#2458)

[33mcommit d5f857f6626fb7fa95329a657d48669e6be04f8f[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Nov 14 09:36:25 2017 +0800

     *: move mod debug from raftstore into server (#2470)

[33mcommit d93bf319bc2473d48311760a17af8a57bbd0a254[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Nov 13 20:37:34 2017 +0800

    store/debug: check mvcc range (#2464)

[33mcommit 8d936f1d418124d1ba60356279ab294b4b0dd536[m
Author: atmzhou <zhouningnan@gmail.com>
Date:   Sat Nov 11 12:55:50 2017 +0800

    tikv/resolvelock: resolve lock in a batch (#2389)

[33mcommit 3e1b3e93ef35b51b6a3a10e9cb3cc9cc9628507c[m
Author: xiaojian cai <mc02cxj@gmail.com>
Date:   Sat Nov 11 10:06:54 2017 +0800

    *: remove travis ci (#2459)

[33mcommit 619ee089b37a6d8f4acecbd00fdcf391ffec4812[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Nov 10 15:23:01 2017 +0800

    cleanup mustconsumevec (#2462)

[33mcommit 69a76042ff4aba4b308f36e869d59a7b586d5e95[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Nov 9 20:15:56 2017 +0800

    raftstore: unify applycontext and execcontext (#2457)

[33mcommit 0cb7a7dedba66cfe91e47e3df68facbbeceba8d2[m
Author: xiaojian cai <mc02cxj@gmail.com>
Date:   Thu Nov 9 01:18:28 2017 +0800

    coprocessor: fix do_div_mod bug (#2456)
    
    close #2453

[33mcommit 64207ef4743f5afd26e0d74915e06a260817526f[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Nov 8 16:30:56 2017 +0800

    *: support split table (#2378)

[33mcommit 405288a8cf0e9ddd3cffdaf055e897179e11c34a[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Nov 6 14:31:36 2017 +0800

    raftstore: check gc target (#2450)

[33mcommit 58a47de2bad496f3b130fc7e4119d5e7dc720081[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sun Nov 5 09:21:11 2017 +0800

    endpoint: add recursion limit check (#2432)

[33mcommit 5126bff32e8db3d05ab6cdac9f78ce4d8f5c0d24[m
Author: disksing <i@disksing.com>
Date:   Thu Nov 2 17:35:11 2017 +0800

    storage: limit key size. (#2445)

[33mcommit 1084f945cc1b6fadbf5e3f9553f123af5933c5d2[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Nov 2 13:12:48 2017 +0800

    *: refactor split check (#2440)
    
    Move size split check from SplitCheckRunner to CoprocessorHost.
    It also move region-max-size and region-split-size to coprocessor
    configuration.
    
    Ref #2378

[33mcommit 67125c8b2d6124fe2dbb453bed46c6690ef60d90[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Nov 1 14:54:55 2017 +0800

    coprocessor: fix LIKE behaviour. (#2442)

[33mcommit 7f43302db85bbe8ed1af6713fd952f7a6f72a523[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Nov 1 13:43:22 2017 +0800

    Reset RocksDB statistics periodically (#2443)

[33mcommit 9d9d4417ad27f693c1d1c754cb12e86bd9c2ca7c[m[33m ([m[1;33mtag: v1.1.0-alpha[m[33m)[m
Author: ShuNing <nolouch@gmail.com>
Date:   Mon Oct 30 04:54:31 2017 -0500

    mvcc/reader: fix read statistics (#2436)

[33mcommit b829f41d450e83e32eef69f659090e3af0832cbc[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Oct 30 16:04:41 2017 +0800

    coprocessor: remove useless log. (#2433)

[33mcommit 104424cbbf58f175a1d5b548bb19b8d698dbebfb[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Oct 28 12:12:06 2017 +0800

    threadpool, coprocessor: set stack size to 10 MB (#2430)

[33mcommit 3857ee60db755291ff2de1999ccb4ef9bc77af0f[m
Author: odeits <odeits@gmail.com>
Date:   Thu Oct 26 02:38:34 2017 -0400

    util: inline get_limit_at_size (#2401)
    
    removes need to use Iterator::count and allows to not call Vec::truncate
    if NO_LIMIT

[33mcommit 2853a3477161ba04879b45b35fa90f92cf68d98c[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Oct 26 14:02:40 2017 +0800

    raftstore: fix stale peer check (#2409)
    
    * raftstore: fix stale peer check

[33mcommit bc4a39e90046d0fa08a91865a38f88d023109703[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Oct 26 13:36:45 2017 +0800

    util/macros: update map doc (#2418)

[33mcommit b308c76e2ef9b965bd7b45980db687892148a3f5[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Oct 25 22:08:11 2017 -0500

    flow control using total writing bytes (#2408)

[33mcommit 4b06c49c4b6f44e1ee1dffca7aec73e2b5b1d385[m
Author: Yiding Cui <winoros@gmail.com>
Date:   Wed Oct 25 19:14:28 2017 +0800

     coprocessor, dag: implement `in` function. (#2411)

[33mcommit e4b8d6f04eb8c1485e735f3fa1f1afc4b397de44[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Oct 25 15:23:40 2017 +0800

    scheduler: fix snapshot metrics (#2412)

[33mcommit 1b764f191da88cae30a77beba2f0401c04972354[m
Author: odeits <odeits@gmail.com>
Date:   Wed Oct 25 00:52:43 2017 -0400

    Document defer macro LIFO behavior (#2415)

[33mcommit da9cc760996d181f18d5f9ca978fc22296d2a5fa[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Oct 25 08:08:45 2017 +0800

    util/macros: update count_args doc (#2417)

[33mcommit 716633c4c417da126b9d0ada9dd1ad6faec2d64f[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Oct 24 11:35:21 2017 +0800

    config: add wal bytes per sync (#2407)

[33mcommit 7763bca85ef76a719ed854ae09bdce8933bcd863[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Sun Oct 22 22:36:09 2017 +0800

    tikv-ctl: set a region to tombstone. (#2394)

[33mcommit 1267f95960245e4f5dace70dbe7b339693998f20[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sun Oct 22 14:51:10 2017 +0800

    util: fix misleading documentation (#2405)
    
    Fix #2398 and #2397

[33mcommit 3dadea7a6aeb01993cf67f38963d102b6551a8e1[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Oct 22 14:02:22 2017 +0800

    cargo: update version to 1.0.1 (#2403)
    
    * cargo: update version

[33mcommit 895b76ad0ccfc314fb7c02b99df8ace001a74e8d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Oct 19 17:53:00 2017 +0800

    raft: reduce allocation (#2391)

[33mcommit ac506d2dc656a9f61e38af73dc4c90f70c955a43[m
Author: odeits <odeits@gmail.com>
Date:   Thu Oct 19 02:56:42 2017 -0400

    Fixes typos in raft.rs (#2390)

[33mcommit 37bd96e684fb11132f04087c1f98e3c5a50a9956[m
Author: odeits <odeits@gmail.com>
Date:   Thu Oct 19 01:21:45 2017 -0400

    util/transport: Fix typos (#2396)

[33mcommit e57a49cd13b3ebb8dd6c0f38a34e77732b219050[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Oct 18 20:48:31 2017 +0800

    tikv-ctl: refactor with debug API. (#2377)

[33mcommit 5f7fc148bbf87660285307e1486f788a7e38295b[m[33m ([m[1;33mtag: v1.0.0[m[33m)[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sun Oct 15 23:22:34 2017 -0500

    Change badge to 1.0 (#2385)

[33mcommit 79e2cdd2fd53b316140791854ccb4fb839f3a1b5[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sun Oct 15 23:05:45 2017 -0500

    release 1.0 (#2384)

[33mcommit da90634b785bead8f543abbf40ea0fbb255715e1[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Oct 16 11:45:04 2017 +0800

    Cargo: update kvproto (#2383)

[33mcommit 7dae47ce2a86c048a14032b3d8ef72c911c9578a[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Oct 14 16:28:28 2017 +0800

    update grpcio (#2380)

[33mcommit d94f2465c84e34bb1341150e8b5480b652af4941[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Oct 13 22:45:56 2017 -0500

    scheduler flow control based on current writing kvs count (#2376)

[33mcommit a2c658260da6ddb31428a99069f73aa025370fdc[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Oct 14 10:07:21 2017 +0800

    tests: fix split check (#2381)

[33mcommit 89002f69d93c7ca8b483ad8b75feca6d2144d0d9[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Oct 13 21:32:03 2017 +0800

    *: support fail points (#2354)

[33mcommit c147f9499de9cc642b5b31fe12102670037c6042[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Oct 13 18:58:05 2017 +0800

    config: adjust label checks (#2372)

[33mcommit 18beaa321e63546bf008e4002f3f3d56818b87f3[m
Author: ShuNing <nolouch@gmail.com>
Date:   Fri Oct 13 02:06:55 2017 -0500

    *: directly report statistics to pd (#2337)
    
    * directly report statistics to pd

[33mcommit 1b3f0a8cb808d574353c923c8682bfd431f55797[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Oct 12 14:04:41 2017 +0800

    Optimize approximate region size for region heartbeat (#2375)

[33mcommit 464c161373473c132f542bfe3eafb38e36aa9a10[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Oct 12 13:10:48 2017 +0800

    debug: add scan_mvcc support. (#2335)

[33mcommit cfdb313afafabfeae422b38d52559ce4ccc5af64[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Oct 11 03:40:09 2017 -0500

    *: move significant send to raft router (#2363)

[33mcommit d60161f5b348a7348816f179c597deae1da7079a[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Oct 11 15:46:07 2017 +0800

    Add some worker metrics (#2368)

[33mcommit a1cbdd90b2eb13ec52c52fbb86e53a57f26e2184[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Oct 11 11:23:53 2017 +0800

    Add some PD client metrics (#2367)

[33mcommit 358d7bbe4cba50f83d1c15acc93d0e5ec0639167[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Oct 11 09:46:14 2017 +0800

    *: update rust-rocksdb. (#2369)

[33mcommit 34c4993d40dba2a1891b78ad5d16256962ab9414[m
Author: ShuNing <nolouch@gmail.com>
Date:   Mon Oct 9 17:55:28 2017 +0800

    *: move out pd work from raftstore (#2361)

[33mcommit b5ff43c7b5b48f89be88f406dbc1e305c30d4b6c[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Oct 9 14:55:24 2017 +0800

    *: use try shorthand (#2362)

[33mcommit 6b919c3b348a70baf8622dc47c6747409a5187c9[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sun Oct 1 18:18:57 2017 +0800

    *: fix potential unreachable drop (#2343)

[33mcommit 45f5515af6d9867f57112a5bc88a103cb6be15e8[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Sun Oct 1 14:37:08 2017 +0800

    debug: add a new API Compact. (#2357)

[33mcommit adfedc2b0458f9c28f86f3eab601de7cd3001ed2[m
Author: Shirly <AndreMouche@126.com>
Date:   Sat Sep 30 12:03:11 2017 +0800

    coprocessor/statistics: push down AnalyzeReq (#2340)

[33mcommit 5390cf1de2e18d68bfd602423eab1d966f1446c3[m
Author: Shuai Li <lishuaihenu@gmail.com>
Date:   Sat Sep 30 09:57:20 2017 +0800

    raftstore: sync_log for apply snapshot (#2353)

[33mcommit bac4e3de2ca5ea6796f7022346723da5d3887c6c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 29 16:45:38 2017 +0800

    Cargo: update kvproto (#2348)

[33mcommit 775f16a56fbbbdf4fc96482c2cb46d02cc51c23b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 29 14:47:47 2017 +0800

    *: unified region split message (#2355)

[33mcommit 81425f0ceacfc695739b121dca8a2dc6d510aafe[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Sep 29 10:32:24 2017 +0800

    default scheduler too busy threshold is too small (#2349)

[33mcommit 0c0912ea6109cd9169ccc9307e28e906a2c4e464[m
Author: Shuai Li <lishuaihenu@gmail.com>
Date:   Thu Sep 28 15:10:44 2017 +0800

    raft: add must_sync for ready (#2352)

[33mcommit 12f8a907f59f35abbf011fc3dbbc3a23e36b578a[m
Author: Priya Seth <sethp@us.ibm.com>
Date:   Thu Sep 28 08:35:31 2017 +0530

    First set of changes in support of ppc64le (#2334)

[33mcommit 7520ada33b59ab42e7a7dc2094ac2d493941dec4[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Sep 28 08:35:38 2017 +0800

    raftstore: flush leader message ASAP (#2345)

[33mcommit 18ffcab052b074422b3bd43b751a3dfebf30d659[m
Author: disksing <i@disksing.com>
Date:   Wed Sep 27 21:43:30 2017 +0800

    grpc: set buffer hint for snapshot calls. (#2350)

[33mcommit 3dcb691412034054fa014baaa961963d4326d5f4[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Sep 27 20:28:25 2017 +0800

    dag/expr: return other error instead of panic when expression is illegal (#2347)

[33mcommit a551563cc7f1caa1337e700c42ce00ba9c6bed98[m
Author: ShuNing <nolouch@gmail.com>
Date:   Wed Sep 27 18:38:16 2017 +0800

    *: report read statistics to pd  (#2307)
    
    * *: report read  statistics to pd

[33mcommit 6242686649574f6801bd4f1bf11586f004a01893[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Sep 27 17:16:13 2017 +0800

    engine/metrics: move CURSOR_OVER_SEEK_BOUND_COUNTER to CFStatistics (#2346)

[33mcommit 16ef9a6da25f6f6109e5238012db8e45a04a03d4[m
Author: Yiding Cui <winoros@gmail.com>
Date:   Wed Sep 27 03:47:05 2017 -0500

    coprocessor: select response of dag don't need row meta. (#2302)

[33mcommit 5f2a1b2ab0e41bb2a8cdd993955b514c5be73d3f[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Sep 27 15:32:52 2017 +0800

    Stop thread pool on shutdown (#2311)
    
    Shutdown without stopping thread pool may cause potentially
    coredump. However, stopping thread pool before shutdown may slow down
    the shutdown process, unless we can cancel the running task, which
    seems not easy to do.

[33mcommit 878c88ee07c67581896469d6f95d784bb478162d[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Sep 27 11:10:11 2017 +0800

    Fix some metrics (#2342)

[33mcommit 88730a3a04bcdf1c426e764460c7d9989576a340[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Sep 26 22:23:52 2017 +0800

    raftstore: add dropped raft message metrics (#2316)

[33mcommit 63be25d12d9d720bbe034408172266798281a5a0[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Sep 26 17:32:48 2017 +0800

    apply: update slow log place (#2333)

[33mcommit f417c14a4602b013dea7b7a90760417ee17252cb[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Sep 26 17:05:40 2017 +0800

    store: check if peers need to split after initialization (#2339)

[33mcommit 104bfd59e741940ab525b487b8e11b73c1feaf40[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Sep 26 14:28:09 2017 +0800

    statistics/histogram: init histogram (#2331)

[33mcommit 92949d0e991798f9de6a605aec8885d94f50cfca[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Sep 26 13:56:43 2017 +0800

    update grpc to 1.6.1 (#2336)

[33mcommit db0bbedfa3cb414e62aede3bae24608df3cf6478[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Sep 26 01:04:13 2017 +0800

    debug: impl size (#2329)

[33mcommit 667cbac605a1f313cecced58a313f8ddb5dcf7d1[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Sep 25 15:37:17 2017 +0800

    debug: impl region_info (#2332)

[33mcommit 76bfe014d5d4be741a2f51d967324e3148e12225[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Sep 25 11:57:58 2017 +0800

    coprocessor/dag: use expression in dag (#2261)

[33mcommit 216610b733be3a11c438dd254b1d017d862d5056[m
Author: Shuai Li <lishuaihenu@gmail.com>
Date:   Sat Sep 23 07:47:08 2017 +0800

    add sync_log for kv_rpc_request (#2289)

[33mcommit b7b6f4691cbb20d8a29aed890a2113352fa8529d[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Sep 22 20:20:20 2017 +0800

    benches: fix resource download and extract. (#2321)

[33mcommit 797b3a3e6d09cc60022bda57bc2ae3806177b800[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 22 15:30:29 2017 +0800

    *: add SplitRegion API (#2287)

[33mcommit 73fc9b0fd6f3c8d6a862d00c7c83d039bed6dfb6[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Sep 22 12:52:55 2017 +0800

    Fix some metrics (#2327)

[33mcommit 35367c6a9e1e4a410108027639d1982510f1d791[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Sep 22 11:59:04 2017 +0800

    Add `read-amp-bytes-per-bit` option (#2328)

[33mcommit 785c868f9a83f638f6d2d7468fbda6317a403412[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Sep 22 11:17:27 2017 +0800

    update futures (#2326)

[33mcommit 1c0d97e2aab3f92fdfe59ebfa1ffe6ad7cf97ed9[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Sep 21 21:09:28 2017 +0800

    debug: impl raft_log (#2325)

[33mcommit 1504db9c41077e688ee0d696a735dfd89aaf58a7[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Sep 21 14:01:07 2017 +0800

    codec/statistics: implement fmsketch (#2286)

[33mcommit 032513c65b09ec71d6821b6807fbdd4feb119be2[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Sep 21 11:34:04 2017 +0800

    Add some metrics (#2323)

[33mcommit 5e76055dc4365b7b990f6b8eb5eb2fb1cdcdd5e6[m
Author: UncP <uncp.xu@gmail.com>
Date:   Thu Sep 21 10:02:23 2017 +0800

    potential spell error (#2324)

[33mcommit 9136e2e0ad0aa6a06e42a248e7a3b9cdd5bd6894[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Sep 20 19:21:43 2017 +0800

    Cargo: update kvproto (#2322)

[33mcommit efb705e9d33981949f048522e2887339d9cc2628[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Sep 20 18:36:19 2017 +0800

    server: add Debug service (#2299)

[33mcommit b11c4152c75e6db25eb3d262a03736cff95ebb83[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Sep 20 10:57:52 2017 +0800

    src/*: use counter instead of histogram in scan details (#2319)

[33mcommit f9244e061cb211fe66d0cae99e7f3dced59ffbdb[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Sep 20 10:29:47 2017 +0800

    storage/*: add metrics for txn (#2312)

[33mcommit 61eb812de8df59a23a210df2776125af8ad5b6b0[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Sep 19 13:37:39 2017 +0800

    coprocessor: add benchmarks about Json binary codec. (#2285)

[33mcommit af5862c15811060adde0e17ff824beb31a163b5f[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Sep 19 12:48:10 2017 +0800

    tikv: use 96MB as the default region size (#2313)

[33mcommit 805630b50b76c4a3c158ba5af23aa14bb5a72907[m
Author: Shuai Li <lishuaihenu@gmail.com>
Date:   Tue Sep 19 09:24:01 2017 +0800

    enhance sync_log (#2308)

[33mcommit 3a9c68c8a1e722e4a6ebe695ef771f0556294415[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Sep 18 21:00:22 2017 +0800

    *: remove opp_neg (#2301)

[33mcommit 3d0a4d07de6e9d18c455e49651999d5ae103a36c[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Sep 15 22:47:28 2017 +0800

    rocksdb: fix metrics flush (#2306)

[33mcommit 70ef213cde41784c2a221eeaa56ff941734c5e46[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Sep 15 21:16:16 2017 +0800

    Remove two overflow statistics (#2304)

[33mcommit a776308c55ef1b9d71ba9f4a90511748728ba4d7[m
Author: Shuai Li <lishuaihenu@gmail.com>
Date:   Fri Sep 15 16:59:16 2017 +0800

    raft: check leader request when become_follower (#2294)

[33mcommit c079c849a8221520815163523a48a7ef046ef60b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 15 16:17:16 2017 +0800

    server: move grpc_service to mod service (#2300)

[33mcommit 3ef9f38d6a1aecec1903c44b15c9d5aae62f1c79[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Sep 15 14:26:22 2017 +0800

    expr/builtin_cast: fix bug in cast_str_as_int (#2296)

[33mcommit 296e447e171bc48a466ca0705e95ca5f7230dc9c[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Sep 15 13:37:34 2017 +0800

    copr/expr: optimize like (#2293)

[33mcommit b9024bc09f3407558026fe4dc8f15548928c9a2e[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Sep 15 11:55:55 2017 +0800

    Add metrics for compression ratio at different levels (#2297)

[33mcommit a84d3433ece6a8c6d1ea65bb020143dee51a7771[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Sep 15 11:08:38 2017 +0800

    storage/*: implement metrics for scan details in scheduler (#2291)

[33mcommit b7255921cec1c2362f5ae38f2ce4a5881298f69e[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Sep 15 10:31:13 2017 +0800

    coprocessor/*: use util:time:instant instead of std::time::instant (#2295)

[33mcommit c5878ef292bc72a9f0578b64420d6d3fe1c5ab53[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Sep 14 15:39:23 2017 +0800

    coprocessor/* : adjust metrics (#2280)

[33mcommit b67b69aa60fb6552927e561a73a16157fc920437[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Sep 13 19:03:01 2017 +0800

    pin level0 filter and index blocks (#2288)

[33mcommit 05f036250e78b7af1e094eb7ec1c2ad31f39762e[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Sep 13 15:43:21 2017 +0800

    raftstore: remove stale peer as soon as possible (#2281)

[33mcommit ab50acbd0a59efcdfdf6a18ac82539e902a5f540[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Sep 13 08:26:41 2017 +0800

    *: cleanup (#2278)

[33mcommit 09b6fea5c896bd678569451da0df8dd2259fc2d6[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Sep 12 20:15:41 2017 +0800

    tests: add tests for grpc services (#2244)

[33mcommit 17b449107e59e75a8e2f18f7f59d5cbd3d4998ae[m
Author: disksing <i@disksing.com>
Date:   Tue Sep 12 16:49:52 2017 +0800

    grpc: no need to check region id 0. (#2276)

[33mcommit 8c89a1a56030b5795826e3285d28dfbdbf0fb5c6[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Sep 12 13:34:58 2017 +0800

    roughly cleanup data between regions gap (#2273)

[33mcommit d64fd6ba5eb32fbe7628958a27ac3d0e11547a70[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Sep 11 21:03:06 2017 +0800

    util/panic_hook: speed up set_exit_hook (#2274)

[33mcommit fb282875d33097d4712b73df61516ae7e7790f13[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Sep 11 19:33:45 2017 +0800

    Stop thread pool before quitting scheduler (#2275)

[33mcommit a28e3606e8beeb4f81a3f5875ece0027dc805e91[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Sep 11 16:27:49 2017 +0800

    threadpool: fix race (#2266)

[33mcommit 60265ecf7cdda5a5c44663da37d7afaade60c450[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Sep 11 14:50:47 2017 +0800

    copr: optimisze json (#2267)

[33mcommit 7add611b57a6043be7328a027f29e043791b02d0[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Sep 11 09:07:25 2017 +0800

    util/panic_hook: cache elf sections for backtrace (#2265)

[33mcommit 580c3ed6d28ebf6f15cb93403087a56c99e18e25[m
Author: Shirly <AndreMouche@126.com>
Date:   Sun Sep 10 19:32:22 2017 +0800

    *: set no-cache from ctx (#2257)

[33mcommit b9c3c65d996629ddbbb9182b9c807f1291db6f52[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Sep 8 15:57:21 2017 +0800

    drop delete range (#2258)

[33mcommit ddce5ada191ccd4c37c7cbb79b678cc655662719[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 8 15:07:21 2017 +0800

    *: add tests for config sturcts (#2230)

[33mcommit 71dd468b7ef1e8036d1115d4b19e35a658e390ca[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Sep 8 14:15:47 2017 +0800

    bin: check if log is initialized when fatal (#2263)

[33mcommit e40d00778701b503507f480315de3d43f9fe4abc[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Fri Sep 8 11:15:30 2017 +0800

    coprocessor, dag: add IfJson, IfNullJson signature and some flags.

[33mcommit fbf6e28a7418eb2d3c2ac3490276141cccf38115[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Sep 8 00:32:59 2017 +0800

    *: remove external thread pool (#2262)

[33mcommit f7a1389b852d737884e8be03acb15704a50d3455[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Sep 7 21:12:13 2017 +0800

    coprocessor, dag: add like signature. (#2247)

[33mcommit 6bbbcccdd4429adcac1795036f917ffe5deb9662[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Sep 7 18:30:39 2017 +0800

    util/threadpool: cleanup (#2250)
    
    - clean up code
    - add a default context implementation, which will be used to help replacing all other threadpool in TiKV
    - adjust poll strategy, so it won't wake up too frequently

[33mcommit ce30d60b84ed4792040e6dfa4fed1b5432f59fcf[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Sep 6 22:08:33 2017 +0800

    add panic message (#2259)

[33mcommit caea4f10b4eb1d8bc49b6054ad1e1430e7453fe4[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Sep 6 19:21:18 2017 +0800

    coprocessor, dag: add json functions. (#2246)

[33mcommit 0fa48b089bf262644501bc697216580030f86c67[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Sep 6 14:06:54 2017 +0800

    expr/builtin_op: implement int_as_true, decimal/real_as_false (#2255)

[33mcommit b62899e69d7bec700a6d3e8ec2c4f8f34ec40887[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Sep 6 10:39:44 2017 +0800

    tikv-server: fix capacity parsing (#2251)

[33mcommit adf328c5da1e45eecbbe8af1f140685b2fa1e3aa[m
Author: Shuai Li <lishuaihenu@gmail.com>
Date:   Wed Sep 6 01:04:54 2017 +0800

    tikv-ctl: add short name for raftdb (#2249)

[33mcommit 4e129d9ab4e0e956b2d819edea66bf1a037fe763[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Sep 5 15:34:43 2017 +0800

    expr/builtin_op: implement bit operation (#2252)

[33mcommit 9c78b40b36d2ec6e0d08c22650e009c1b2466022[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Sep 5 09:59:54 2017 +0800

    txn/scheduler: fix unwrap panic (#2253)

[33mcommit fe1958b79f922aef0af879f3d41541e0c98d2026[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Sep 4 15:22:45 2017 +0800

    expr/arithmetic: implement div_real && div_decimal (#2243)

[33mcommit 45a000f5603cd2f64f36b46d9ad97ac54861d0a5[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Sep 2 00:30:09 2017 +0800

    util/threadpool: fix test_task_context and test_task_tick (#2242)

[33mcommit de6e6bee5b4fcc903cd03524e5891802aaefde09[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 1 23:49:01 2017 +0800

    util/time: fix test (#2245)

[33mcommit 3da148f32c264945977276d32cd1b934e687a8c1[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Sep 1 18:38:17 2017 +0800

    copr: adjust decimal parsing interface (#2232)

[33mcommit 1a873b0b215aa457f2a7803c694eb6be9041d6d5[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Sep 1 17:12:59 2017 +0800

    *: use FnvHashMap again (#2211)
    
    * executor/index_scan: use vec instead of map to keep order by key

[33mcommit d414435ae90c4282a2e7a4af01cede03b1c15877[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Sep 1 15:47:15 2017 +0800

    dag/expr: implement coalesce (#2239)

[33mcommit cb157adc345581e27b771ec727522cc139ddf83a[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Sep 1 14:42:41 2017 +0800

    dag/expr: implement case_when (#2241)

[33mcommit ee92941e04f03ede810faa38aabfa71a3a848d51[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Sep 1 13:59:46 2017 +0800

    copr: use macro to generate eval function (#2240)

[33mcommit c2bb426525b29352b85ca67843c2de00420cc8bf[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Sep 1 11:33:15 2017 +0800

    bin: make error message more friendly (#2235)

[33mcommit 0588d6db72a0c4d474cda4a0e63675c0382b0f7d[m
Author: Shen Li <shenli3514@gmail.com>
Date:   Thu Aug 31 18:44:00 2017 +0800

    README: update status badge to Pre-GA (#2237)

[33mcommit 3fba29850a22fdbd1c283863862ce07903d84b0f[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Aug 31 17:00:25 2017 +0800

    version 0.9.0 (#2236)

[33mcommit 1ed854011bfe2536c109d5e2246e5753c10f7695[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Aug 31 11:46:32 2017 +0800

    expr/builtin_cast: implement eval for expression (#2224)

[33mcommit 1ed57384c889388c22253dfde247b199e6f67232[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Aug 31 10:41:48 2017 +0800

    expr/builtin_cast: implement test_cast_as_real & test_cast_as_int (#2218)

[33mcommit 1d5c244b629eefebf7a02bc192d819dceccf1b76[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Aug 30 20:05:20 2017 +0800

    Add some write metrics (#2233)

[33mcommit 1994bb30a1b7d29e3d5e76d7dfc44c62e2bdb9c2[m[33m ([m[1;33mtag: Pre-GA[m[33m)[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Aug 30 17:39:55 2017 +0800

    upgrade rocksdb to 5.7.3 (#2229)

[33mcommit 89f80d157f2ad07261c0c2ab77b129fe3285eaa4[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Aug 30 17:18:14 2017 +0800

    use delete range to destroy a region (#1988)

[33mcommit 6eaf4dc7c2d0cdb251f60254e693066a2483ec11[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Aug 30 16:53:44 2017 +0800

    tests: clean up log (#2225)

[33mcommit a14087b5688a75834175b39c21e44ea3391b420b[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Aug 30 11:38:09 2017 +0800

    tests: make some cases more stable (#2226)

[33mcommit 41d612e2a95d4aa9b6bbe7e4cc0f0ea6065b2b96[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Aug 29 21:37:53 2017 +0800

    coprocessor, dag: add more math functions. (#2213)

[33mcommit fcc693c3be813c109a0a9dc295d2afd493ac1047[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Aug 29 14:57:13 2017 +0800

    pd: speed up reconnecting to a pd leader (#2207)

[33mcommit 3eb77f6f5b12b64f755a1b72970a2f5ba7a9fbf6[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Aug 29 11:42:15 2017 +0800

    copr: tiny cleanup (#2215)

[33mcommit deb394b5fb58311c0c29d8f54e5c4c5c97f2a623[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Mon Aug 28 10:35:53 2017 -0500

    endpoint: fix a divide zero bug (#2219)

[33mcommit 093a3083be82085c5ba7d697903631b931b92f5c[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Mon Aug 28 04:23:08 2017 -0500

    *: remove useless mut (#2217)

[33mcommit ba174ad54c8e2ff9d45979a4f6a65ca01901308a[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Aug 28 16:05:15 2017 +0800

    dag/expr: builtin_cast-III (#2176)

[33mcommit c8b8e637a1ca07d9514b6285e825008a78014f56[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Mon Aug 28 01:05:37 2017 -0500

    coprocessor: add statistics back (#2200)

[33mcommit 6c8eeb8f6c33dfa3315ff9652762abc3203435f3[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Mon Aug 28 13:06:35 2017 +0800

    coprocessor, dag: support decode Time from tipb.Expr (#2199)

[33mcommit 9f19a2af63b1a3b00946b2d0531bcaecbbd223a3[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Sun Aug 27 22:25:15 2017 -0500

    dag: implement builtin UnaryMinus* (#2202)

[33mcommit ffdc8352e6576a48f8e575c17a3fcf407b0e2723[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Aug 26 18:58:04 2017 +0800

    endpoint: make max tasks configurable (#2203)

[33mcommit b118bc1196c29c0cd38973be330d3f0ed47d9db4[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Aug 24 15:20:47 2017 +0800

    copr/decimal: support neg op (#2210)

[33mcommit 9379c42fcac837566b7e37cbd632e9ea92d27a0f[m
Author: follitude <follitude2017@gmail.com>
Date:   Thu Aug 24 13:44:05 2017 +0800

    use get_and_reset_statistics_ticker_count (#2206)

[33mcommit 41693861a646dd8f6b5d7452c82df2c1d84dcd2f[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Aug 24 12:47:29 2017 +0800

    coprocessor, dag: add arithmetic operations. (#2189)

[33mcommit d71f21badeb639a1b9d9c370302d99b50f8d6c93[m
Author: follitude <follitude2017@gmail.com>
Date:   Thu Aug 24 11:12:47 2017 +0800

    add more histograms (#2201)

[33mcommit df6fcae6efcf0231f8523e5c1ce100c445c80270[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Aug 24 10:25:37 2017 +0800

    Move heartbeat approximate size to worker. (#2205)

[33mcommit d2993d788c5612a3948f9405f83d4756ac2cb1fa[m
Author: Han Fei <hanfei19910905@gmail.com>
Date:   Wed Aug 23 23:28:13 2017 +0800

    coprocessor: fix bug about reverse scan. (#2204)

[33mcommit eb81d16f868497449ff1ff63b46f411016149885[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Wed Aug 23 07:45:40 2017 -0500

    copr/dag: add builtin conditions (#2198)

[33mcommit 94025355c6102882adb0df6aead5c33d995b4c8e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Aug 22 22:31:24 2017 +0800

    util: add release version info (#2196)

[33mcommit a08ed0db3f7ca8fecc143148c3da01ad15a943dc[m
Author: Shuai Li <lishuaihenu@gmail.com>
Date:   Tue Aug 22 19:20:54 2017 +0800

    raft cf use dedicated rocksdb (#2054)

[33mcommit 038bc18ee96618eca6d84350001a836e8dd2d5c0[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Tue Aug 22 04:54:47 2017 -0500

    dag: add builtin scalar func op (#2188)

[33mcommit 60952b16ef8cfe633e8c143e1cc8023064c1a438[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Tue Aug 22 01:25:08 2017 -0500

    coprocesser: refactor thread pool to pass contexts (#2152)

[33mcommit 9fceaf7434f11579313704d6abb167538770abcb[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Aug 21 16:35:35 2017 +0800

    copr: introduce try_opt (#2194)

[33mcommit 7f201e79ec4a6fac5db2df5865550fe961ddf16d[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Aug 21 13:59:31 2017 +0800

    dag/expr: builtin_cast-II (#2172)

[33mcommit d82059f140cb7350a87c3c3281f6bb87946fbbb7[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Aug 18 14:16:06 2017 +0800

    add rocksdb event metrics (#2181)

[33mcommit b906207c8a66fa1f580f422bba675b2be5c90db6[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Fri Aug 18 00:03:48 2017 -0500

    *: remove all unnecessary mut (#2187)

[33mcommit aa26b46bc9ab7b5f478b220e52bb2ec6d6242222[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Aug 18 12:24:59 2017 +0800

    ci: enable clippy check in circle ci (#2186)

[33mcommit b33503c67d0f4a87e813b5216e383fc17c318034[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Aug 17 23:17:21 2017 +0800

    coprocessor: improve compare code. (#2180)

[33mcommit 3d87896525c2f34e1b6e27aa9ff5583f575c16df[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Aug 17 21:00:45 2017 +0800

    *: use histogram coarse timer (#2159)

[33mcommit d5053786d917e432025c4f644039308c5fb42009[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Aug 17 19:43:40 2017 +0800

    cargo:update tipb (#2182)

[33mcommit 607941ecaf5ff15ad308fcb585b6a25a93c636ed[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Thu Aug 17 19:12:35 2017 +0800

    coprocessor, expr: add Constant and Column (#2179)

[33mcommit 3b811273280bd6bf4b289fa858c62c83dff25a29[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Aug 17 18:37:50 2017 +0800

    raft: bcast when has pending conf change (#2184)

[33mcommit 084254d8c412dfdc10847d098cedfb075d133116[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Aug 17 17:27:38 2017 +0800

    util/time: allow coarse error (#2178)

[33mcommit ec53f365c07e78c086c9a73e216acce4c2c5c918[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Aug 17 16:33:17 2017 +0800

    endpoint: batch get snapshot (#2148)

[33mcommit a0a5c8cd4dc2efb3104bd0b7e5b2caaccc5f0b5c[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Wed Aug 16 22:03:28 2017 -0500

    snap: merge pre-ga into master (#2168)

[33mcommit aa6df942ce25bb59e187f4ffe784b7788221d93b[m
Author: Han Fei <hanfei19910905@gmail.com>
Date:   Wed Aug 16 15:09:05 2017 +0800

    coprocessor: support mysql-time constant. (#2177)

[33mcommit 3769e93f2c889e31ab7f6225c8e50d977982fe7e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Aug 16 14:20:41 2017 +0800

    build: add git branch name in tikv log (#2170)

[33mcommit 164a00fe7eaa6ce7aa0297ab8a709d7b247f4f11[m
Author: follitude <follitude2017@gmail.com>
Date:   Wed Aug 16 11:50:33 2017 +0800

    refactor store heartbeat (#2157)

[33mcommit 6e3c779df2ecec4f447d24b595ed3fdf700b68b6[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Aug 16 10:13:53 2017 +0800

    dag/expr: implement basic structure of builtin_cast and some functions (#2144)

[33mcommit 4ccb9a8665be61f98aba2600cd5fa415cdbe7335[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Tue Aug 15 18:25:56 2017 +0800

    cop: add compare into new expression calculate framework. (#2151)

[33mcommit 0c26600afc2a0d44706416c0dbc7817374fa19a4[m
Author: follitude <follitude2017@gmail.com>
Date:   Tue Aug 15 17:06:57 2017 +0800

    add metrics flush thread (#2120)

[33mcommit 8b27de9c30b40caf6ffe92ece6a928bd3a63b85e[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Aug 15 11:23:21 2017 +0800

    *: format code (#2175)
    
    format code with rustfmt-nightly 0.2.1

[33mcommit 0e437512fe758e6e00c1c423355d963c86945288[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Aug 15 10:44:25 2017 +0800

    scheduler: batch get snapshot (#2111)

[33mcommit 94f776c508d2c79f368937f04186e26a7aab0d85[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Aug 14 23:05:45 2017 +0800

    collect only DBEntryType::Put (#2174)

[33mcommit 51f1aa78091f1f1db7b32ce26765b7dbbfa0e99f[m
Author: Shuai Li <lishuaihenu@gmail.com>
Date:   Mon Aug 14 20:40:49 2017 +0800

    change rate_bytes_per_sec type to ReadableSize (#2171)

[33mcommit 2fcd5b624b43fd23a70fb831ce809d2e7f86832b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Aug 14 13:27:55 2017 +0800

    util/time: use millisecond resolution for coarse Instant (#2165)

[33mcommit 66be7f10b75b97cfcede772c39772a9f12d2124d[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Aug 14 12:42:43 2017 +0800

    upgrade rocksdb to 5.6.2 (#2166)
    
    * upgrade rocksdb to 5.6.2
    
    * upgrade rocksdb in ci

[33mcommit 4e28f4a4825814681ebf8b7f7688b865d064ea53[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Sun Aug 13 23:18:27 2017 +0800

    Check approximate size before split check (#2106)
    
    * Check approximate size before split check.

[33mcommit f813eda737a03d85c208659769dbf1b480092943[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sun Aug 13 21:56:22 2017 +0800

    declare config for cf explicitly (#2164)

[33mcommit 515bf6b230553c8fb41d3ffa2d927073f1f77e5d[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Aug 13 16:56:19 2017 +0800

    fix lockcf compression config (#2162)

[33mcommit 3d75bf33897faadd0c945ec7142aaf93fdc09aa3[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sun Aug 13 13:10:59 2017 +0800

    pd: flatten pd mod (#2150)

[33mcommit 2e8382cabc5762418d295b73f20a6995b0345ac1[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Aug 11 18:46:11 2017 +0800

    *: refactor configuration (#2116)

[33mcommit 2ffadf78e87a6b40a5dcacc2c20361a801ce2d5f[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Aug 11 16:48:29 2017 +0800

    use a directory for rocksdb (#2156)

[33mcommit 0b2bb1a6a68f9948eca1af129fa479ed4c1c9275[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Aug 11 15:11:57 2017 +0800

    add rows properties (#2136)

[33mcommit 145808d22903cb5a799a969e8c06cd6a4edb39bc[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Aug 11 10:17:44 2017 +0800

    *: update rustc to nightly-2017-08-09 (#2146)

[33mcommit 349bdcf3e86ed38b375a0926126eca14b1187e98[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Thu Aug 10 19:58:41 2017 -0500

    threadpool: remove unused types (#2153)

[33mcommit b9da60f116b55d551861683f0fee6a10cce66f7c[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Thu Aug 10 06:45:58 2017 -0500

    tikv-ctl: add diff feature to check difference between two dbs (#2126)
    
    * tikv-ctl: add diff region

[33mcommit 68e8fda96c5a3f8f8bfece8a3bd3e43b34d1cba5[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Thu Aug 10 06:04:24 2017 -0500

    tikv-ctl: support hex <-> escaped converting (#2143)

[33mcommit 49c70a3fba6191259421ebb0a5cd2a7d4381f116[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Aug 10 15:14:40 2017 +0800

    expr/mod: update expression (#2149)

[33mcommit 0c6e080ec5c77793789f89cf9c4a787afa46c4a9[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Wed Aug 9 23:31:45 2017 +0800

    copr: basic DAG expression evaluation support (#2133)

[33mcommit 89821e2391da8a69817d1ae24c5ccab81620bb02[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Aug 9 21:37:04 2017 +0800

    use msg type instead of whole msg in log (#2142)

[33mcommit cb5d6cb3d9ebca083b5261bdc4e0da5a9deb724a[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Aug 9 20:19:44 2017 +0800

    prevent duplicated consistency check (#2140)

[33mcommit 03e9a4e2bf66d40e987d143ca1402039448f628d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Aug 9 16:51:06 2017 +0800

    util/time: add a custom Instant (#2139)
    
    use `Instant::now_coarse()` in `SlowTimer`

[33mcommit 13a8b89a94c0bda9f812df003d0d3a4455801034[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Aug 9 10:42:59 2017 +0800

    add approximate size (#2132)

[33mcommit f3b179388c6bdf0ea3c43ac713691049850c55b8[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Aug 8 21:42:21 2017 +0800

    raftstore: speedup clear meta (#2095)

[33mcommit 0aef87fb2cac52038f496c09dec3c8f52fdaef2d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Aug 8 17:24:17 2017 +0800

    util/time: gather time functions and structs (#2137)
    
    * util: move time_monitor to mod time
    
    * util/time: move more functions
    
    * util/time: move SlowTimer to mod time
    
    * util/time: move raw_now to mod time

[33mcommit af0a03eb3e57eadd63b375fb1c1d63fd5606567c[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Aug 8 11:03:16 2017 +0800

    support delete range kv command (#1983)

[33mcommit 3917fab48a48f5bf9a94d41cf5c81a416486860d[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Aug 7 19:50:11 2017 +0800

    coprocessor: fix bug caused by use box_try instead of try (#2130)

[33mcommit 7a40ad7bc9ded3be4b0e96c78bade69ed6118b7d[m
Author: disksing <i@disksing.com>
Date:   Mon Aug 7 18:50:22 2017 +0800

    grpc: fix error format. (#2129)

[33mcommit 15d028c0cddb56254828fccfb0fab59c17a20180[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Aug 7 17:08:41 2017 +0800

    *: reducing callbacks by batching RaftCmdRequest (#2107)

[33mcommit 5cd94f0ff8da18b9b18f4e6a8a3b6c23e78c6a76[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Aug 7 16:01:12 2017 +0800

    Add size properties collector (#2097)
    
    * refactor mvcc properties
    
    * add size index properties

[33mcommit e04427c2bc25cd07a9d082cf95105a6afbb4219c[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Aug 7 14:49:24 2017 +0800

    coprocessor/* : split dag and old select into independent mod (#2128)

[33mcommit c2d36f5b081339b24064c9630e876fcd8429746f[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sun Aug 6 21:50:29 2017 +0800

    raftstore: add consistency check log (#2127)

[33mcommit b7fa805a20d7f97b01e42409d0a1b307f00d2725[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Aug 5 15:52:12 2017 +0800

    pd: deny http prefix (#2101)

[33mcommit 9c8ed9ca7990fdf3c7d7479a4ce863809c305fde[m[33m ([m[1;33mtag: rc4[m[33m)[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Aug 4 18:54:47 2017 +0800

    coprocessor/endpoint:remove metrics for scan_details (#2122)

[33mcommit 06cc3341fdbd0ca43ecdb588fc2508cbbd1f3ced[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Thu Aug 3 10:17:18 2017 -0500

    tikv-ctl: print cf size (#2119)

[33mcommit 2f29c8f3638bf3497252b2814c6324f892f56582[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Aug 3 14:36:52 2017 +0800

    executor/*: fix bug caused by point_get and output_offsets (#2112)

[33mcommit 0bfe053d4ce16f6564c9a2b770906875ed5cf70f[m
Author: follitude <follitude2017@gmail.com>
Date:   Thu Aug 3 07:58:17 2017 +0800

    change default compaction priority (#2117)

[33mcommit 5e58e86e89c197e67484b9394135317a6a0eaff7[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Aug 3 01:39:52 2017 +0800

    util: remove unused code (#2118)

[33mcommit c72818d020490d5bc0ecedb454fbe9d15c6e3c84[m
Author: disksing <i@disksing.com>
Date:   Wed Aug 2 16:26:32 2017 +0800

    server: inc unreachable metrics when raft_client has error. (#2114)

[33mcommit 94e90300419e0f0b9ce7488d72b465d160b2a8f7[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Aug 2 11:54:05 2017 +0800

    disable mem-profiling (#2113)

[33mcommit 9615ff0b7dd412f6e214df83e0383a528c075fe9[m
Author: Rick Yu <cosmtrek@gmail.com>
Date:   Tue Aug 1 19:48:22 2017 +0800

    add ceil_real in coprocessor/xeval (#2105)

[33mcommit 027c864032a0178e80bbbee7561f8889f11580f9[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Aug 1 15:17:00 2017 +0800

    config: add more util methods (#2100)

[33mcommit 8c9572cb51dde3357106cad01a880350ebc88c4b[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Aug 1 12:37:39 2017 +0800

    storage/test_storage:fix bug in test_txn_store_gc3 (#2108)

[33mcommit d8fad9bd4296390203fdc754a5499b2f2aa664af[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Tue Aug 1 10:05:58 2017 +0800

    cargo: update chrono crate (#2099)

[33mcommit ae23ebdf2faf1616eb053c04c0fb92d0a8902ac8[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Jul 31 21:32:41 2017 +0800

    Refactor mvcc properties collector (#2096)
    
    * refactor mvcc properties

[33mcommit 884213e4d4577a74b32d4721730d8a8548d091d2[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jul 31 17:50:01 2017 +0800

    storage: rename configuration field (#2102)

[33mcommit c5a667ab2e9a720830512ab5045c6fee60056eba[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jul 31 16:29:32 2017 +0800

    resolver: stop thread explicitly (#2104)

[33mcommit 2477f80b2309049326d2998628a7954eed4f64ac[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Jul 31 14:50:46 2017 +0800

    coprocessor add priority thread pool (#2079)

[33mcommit 3168ff605bb1c586cd40576f090d672e65f06e14[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Jul 31 14:00:48 2017 +0800

    coprocessor/*:implement for json_remove (#2091)

[33mcommit 82747a7dbf133d8a08378ea279800b5ad22f0e99[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Jul 29 21:59:36 2017 +0800

    raft_client: avoid unnecessary clone (#2098)

[33mcommit 24edb729280e362ffa4349879caa37f6b6c6769e[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jul 28 16:47:44 2017 +0800

    coprocessor/dag:fix bug caused by use offset in expr (#2064)

[33mcommit 789278f3d15aa7df62aa1467bddef4779e832e81[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Jul 28 14:40:02 2017 +0800

    use release grpcio (#2090)

[33mcommit 9798531667c899b2b447714fc8e183f0ae49f38d[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Jul 28 13:37:50 2017 +0800

    transport: fix possible message delay (#2093)

[33mcommit aa04e34a86f7fd89460e454f01605501885525f9[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jul 28 10:29:03 2017 +0800

    coprocessor/metircs:init exponential buckets for duration (#2087)

[33mcommit 1d45a7bfd01c05b8e2660d017a11780fd1622f45[m
Author: disksing <i@disksing.com>
Date:   Thu Jul 27 22:57:16 2017 +0800

    txn: more detailed errors. (#2068)

[33mcommit 5919284db1ad65917e891173f44907b5f321868f[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Thu Jul 27 03:27:25 2017 -0500

    config: update max-background-jobs as in docs-cn (#2088)

[33mcommit 9fcf3e988435e1e42a4836c770a8f744b27e6116[m
Author: Shuai Li <lishuaihenu@gmail.com>
Date:   Wed Jul 26 23:27:53 2017 -0500

    add exponential_buckets for APPLY_PROPOSAL metrics (#2085)

[33mcommit 752b72a6b24de73e319e9ff0228be02a5ce2eca2[m
Author: CWen <cwenyin0@gmail.com>
Date:   Thu Jul 27 10:32:08 2017 +0800

    fix a spelling error (#2086)

[33mcommit e2d2867140cd84c3fa9dcbb10b72b33e1d586f5e[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Jul 26 19:35:40 2017 +0800

    config: impl serde for enum and readable types (#2073)

[33mcommit 02a7c6f14a86268964f12b3d16280547348a1939[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Wed Jul 26 04:09:40 2017 -0500

    upgrade to rocksdb 5.6.1 (#2082)

[33mcommit 5115f5c9402df646183b35d4fe4f713c23fa98ff[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Tue Jul 25 23:30:03 2017 +0800

    coprocessor/xeval: add handling for datum null (#2072)

[33mcommit ac0449108a11a27ccf2e1b97c52cc47e7c09c4cb[m
Author: bailaohe <bailaohe@gmail.com>
Date:   Tue Jul 25 18:26:03 2017 +0800

    coprocessor/xeval: add abs real function impl (#2063)

[33mcommit 94b5e0f21c0ed6e97e7686c477077bcff89a6f43[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Jul 25 16:02:59 2017 +0800

    fifo queue (#2076)

[33mcommit cf1e386df1fd73f1dfe4e0c026a01431067398d5[m
Author: follitude <follitude2017@gmail.com>
Date:   Tue Jul 25 13:50:37 2017 +0800

    refactor options (#2071)

[33mcommit f984022777e150af10ede8bf5c949dd3fb689d44[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jul 25 11:46:48 2017 +0800

    let gcc decide which compiler to use (#2074)

[33mcommit 4b9868d3a67bd25b95359333032a0a661fbcc298[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Mon Jul 24 06:59:31 2017 -0500

    *: Add grpc interfaces used by transaction debugger (#2012)

[33mcommit c32e6890d7073aed2d5b3e16e59d6d86e1e245b7[m
Author: ZHAO Yijun <recursion@null.net>
Date:   Mon Jul 24 05:28:26 2017 -0500

    coprocessor/xeval: add ceil int function impl (#2060)

[33mcommit efc132af0e8580753d821c87ac30abc9d72a6cea[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jul 24 08:34:45 2017 +0800

    *: tiny cleanup (#2066)

[33mcommit 5c58b50c62cbcc54d7b6c1207b9d9517dcb80acb[m
Author: follitude <follitude2017@gmail.com>
Date:   Sun Jul 23 19:22:46 2017 +0800

    add compaction priority (#2062)

[33mcommit a928d39a5b85055186bb81bbba20dcad1117b1ce[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Jul 22 19:09:27 2017 +0800

    util: fix shrink buf (#2065)

[33mcommit 0fce4b00876ffd3558b6d48b2f5a2531ab0ce010[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Jul 21 15:46:52 2017 +0800

    *: update rocksdb (#2061)

[33mcommit cf7b683daa1948e5b2239750dc99ee71db201e3a[m
Author: Shuai Li <lishuaihenu@gmail.com>
Date:   Fri Jul 21 14:16:16 2017 +0800

    batch send apply_proposals to apply worker (#2051)

[33mcommit 38547be23a1e039955d137d4426ed4d7de88f335[m
Author: qupeng <onlyqupeng@gmail.com>
Date:   Wed Jul 19 14:55:18 2017 +0800

    codec/json: add u64 support. (#2044)

[33mcommit a0f6b291973ef314a362bbc55a3b8d7af7a4c08b[m
Author: follitude <follitude2017@gmail.com>
Date:   Wed Jul 19 10:37:39 2017 +0800

    Support max_compaction_bytes (#2047)

[33mcommit 3c96a0ae13a39394e280e97dfba1542a1058d1e6[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Jul 18 20:17:53 2017 +0800

    add rate limit comment (#2050)
    
    * add rate limit comment

[33mcommit 560d6425dc79aac3c3e9a11b9d3a0053c63f7301[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jul 18 19:00:53 2017 +0800

    raftstore: get snapshot lazily (#2045)

[33mcommit ec4abaf793bb97e90a5b901ade49c42400bced1b[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Tue Jul 18 17:27:56 2017 +0800

    *: remove unnecessary use (#2049)

[33mcommit 631e41283e1407bd37253d374f1d4874dd29f43f[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Tue Jul 18 14:15:28 2017 +0800

    evaluator: impl json_object and json_array (#2025)

[33mcommit e243111fada1e43a4178d85b16df4bd415108dc3[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Tue Jul 18 13:25:35 2017 +0800

    coprocessor/xeval: add function signatures mapping (#2046)

[33mcommit 8574c82c31cbda9dc53faa6764f7b12c893dad7c[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Tue Jul 18 00:23:16 2017 +0800

    coprocessor: port dag executor to endpoint (#1975)

[33mcommit 7f49a4f389154a7e967b8b94b896ab2dedf65ad4[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Jul 17 21:52:22 2017 +0800

    optimize gc with user properties (#1971)
    
    * *: optimize gc with user properties

[33mcommit 3f52e67ff77de9314b01e82dfc218254fc44c083[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Mon Jul 17 17:44:05 2017 +0800

    coprocessor/xeval: add abs int function impl (#2033)

[33mcommit 8ddc288db2af8375b43c8abe46f6bd0ad1d78ef8[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Mon Jul 17 00:54:02 2017 -0500

    server: change MAX_GRPC_SEND_MSG_LEN (#2040)

[33mcommit d8098ff3ded8d80c64da997e9fd2537672f8d852[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Jul 15 12:44:10 2017 +0800

    raftstore: clean up metadata on start (#2041)

[33mcommit 15dc4bb2f726b0cb64b08e0fef995fc58d95310f[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Jul 15 11:08:38 2017 +0800

    endpoint: remove unnecessary hash key (#2042)

[33mcommit fed13542208b5ee6f3cd47f479115d1b2ba90b18[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jul 14 22:36:54 2017 +0800

    *: adjust metrics inefficiency (#2021)

[33mcommit 781ce7040649a55c11af67f09dc519afb6094b33[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Jul 14 19:22:21 2017 +0800

    set region size to 256M (#2017)

[33mcommit c04927b17facf0cace5dc04b78365d2f287005ff[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Jul 14 13:16:06 2017 +0800

    storage: make error cloneable when possible (#2035)

[33mcommit 779363f0fdb7707f5f87dc5519357e2bc1b9153b[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jul 13 19:22:31 2017 +0800

    raft_client: batch send raft messages (#2022)

[33mcommit 913a88654e5ceface742a7e026a3addd600a9297[m
Author: disksing <i@disksing.com>
Date:   Thu Jul 13 17:16:17 2017 +0800

    kvrpc: add raw scan. (#2020)

[33mcommit ee24b1b9c537f3e2c6f203d7497b47737e71f90b[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Thu Jul 13 16:31:37 2017 +0800

    coprocessor, util: reorganize xeval, codec dirs (#2029)

[33mcommit 95f366084712147aedfc48fa0bde2d94162d5300[m
Author: follitude <follitude2017@gmail.com>
Date:   Thu Jul 13 15:02:19 2017 +0800

    Enable pipelined write (#2031)

[33mcommit f81604b6931f172cc8e23a0c2a9de6660abfd0e7[m
Author: follitude <follitude2017@gmail.com>
Date:   Thu Jul 13 11:08:28 2017 +0800

    update RocksDB v5.5.1 (#2023)

[33mcommit 15c61a56786da55938cda887a01aaec136503c59[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Jul 13 09:45:23 2017 +0800

    coprocessor/metrics: remove type from labels (#2028)

[33mcommit 1ffa8c1c81e00b5789913123fc406d35de663239[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Jul 12 16:06:00 2017 +0800

    xeval/evaluator: add math function (#2024)

[33mcommit 4b19680fcc90fbafcb3c2f7d2eb9e2cc1e5e87a0[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Jul 12 09:58:26 2017 +0800

    raftstore: fix diff hint overflow (#2019)

[33mcommit f4a0bf6066d13777086e8b4932cb3030d4a4b67d[m
Author: disksing <i@disksing.com>
Date:   Mon Jul 10 20:48:53 2017 +0800

    raftstore: ignore admin command that removes the leader. (#2016)

[33mcommit 40ac748543539d4e92a1305263f7c1fb5bf79545[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Mon Jul 10 14:17:24 2017 +0800

    arrange coprocessor metric (#2009)

[33mcommit ba005706c16ae068189839620a8f36a7a5703c2c[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Sun Jul 9 20:27:13 2017 -0500

    *: make snapshot SST compression type separated to db (#2001)

[33mcommit f62f0b9b97a462b55ddc62077ddbba4b3298080b[m
Author: Shirly <AndreMouche@126.com>
Date:   Sun Jul 9 20:28:07 2017 +0800

    xeval/evaluator:implement json_modify (#1998)

[33mcommit 24ba6b0ba2b4245a98d99e6402711155243a9e7e[m
Author: disksing <i@disksing.com>
Date:   Fri Jul 7 19:11:20 2017 +0800

    *: fix test_peer_resove test. (#2010)

[33mcommit d4f0d1fd060b84c72e01b1824e7ea75f60f0ecec[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jul 7 14:42:50 2017 +0800

    xeval/evaluator:implement json_unquote (#1995)

[33mcommit d7d2660ef74db290fd9c78357a6f298888fb2604[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jul 7 11:13:34 2017 +0800

    xeval/evaluator: implement json_extract (#1997)

[33mcommit 44cbfd8feb312e76b3a8c4a1adc08b2c42fc9ec4[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Thu Jul 6 14:48:20 2017 +0800

    tikv-ctl: print region size (#2002)

[33mcommit 4b89e70211d6eacedbcd4b755fe0e75300ef309b[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Jul 6 10:50:24 2017 +0800

    xeval/evaluator:implement json_merge (#1994)

[33mcommit 87a2810d27510ea68479eb0e18dfbb529ed94e64[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Wed Jul 5 19:09:59 2017 +0800

    adjust coprocessor directory (#2005)

[33mcommit 061c15b89632a7248065c598e224458902511517[m
Author: disksing <i@disksing.com>
Date:   Wed Jul 5 14:28:29 2017 +0800

    grpc: turn buffer hint on. (#1989)

[33mcommit 8eafcbe87b94250244e7cbe0639f131ab72b6ce8[m
Author: Cholerae Hu <huyingqian@pingcap.com>
Date:   Wed Jul 5 13:58:58 2017 +0800

    clippy: remove todo about clippy#1586 (#1990)

[33mcommit 73ab4544c160439ccd02541b79ea5d10a7ba0290[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jul 5 12:31:51 2017 +0800

    pd: add a missing metric in async requests (#1974)

[33mcommit ea86495f62be98ff1dafe38123929208d3d2e32f[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Jul 5 09:35:41 2017 +0800

    update rocksdb and fix error (#2004)

[33mcommit 6512969cc9a104dd38029a1f23b0874c752f46ec[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Tue Jul 4 21:52:43 2017 +0800

    coprocessor:add aggregation executor (#1959)

[33mcommit 9d8a44777300b257ca41b2ed27146690e822c0a6[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jul 4 20:33:07 2017 +0800

    xeval/evaluator: implement json_type (#1992)

[33mcommit 07c6d3ca79784f997c5e5dcfa70f8fa860a0300a[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jul 4 18:31:13 2017 +0800

    codec/datum.rs:prepare for eval_json (#1996)

[33mcommit 2581ba566adbad72db623892728d2ffcfe798d39[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jul 4 16:30:53 2017 +0800

    raftstore: add entry cache (#1984)

[33mcommit d52f8659c4f4e498aa03cedabb4b18c8cf74d6e8[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jul 4 11:05:24 2017 +0800

    metrics: adjust buckets (#1999)

[33mcommit 132bf9f68f59751755f29a1a1c3f9b3dc4462ab6[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Tue Jul 4 08:52:33 2017 +0800

    sinal_handler: fix wrong fn definition (#1979)

[33mcommit 8f5cd5441b5f1dcf5c5ee5a363066220a4c009b2[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jul 3 16:58:24 2017 +0800

    raft: allow skip bcast commit (#1976)

[33mcommit 071c60e330668491c9ef026e945965caab8ccb9b[m
Author: SSHz <rzsh2003@gmail.com>
Date:   Mon Jul 3 09:04:45 2017 +0100

    Fix some typos (#1980)

[33mcommit 03c0946aed78588246e0189f5fde263994509c55[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Jul 3 14:49:19 2017 +0800

    mysql/json:refactor (#1991)

[33mcommit cbcdad2d6e5dd45f00ca21bf849943a5174cb640[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jul 3 13:46:11 2017 +0800

    apply: batch register proposal callbacks (#1972)

[33mcommit c2b0b9212dc0764a3aa86e2437ed5154e37e7461[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jul 3 13:11:30 2017 +0800

    pd: put store before start store thread (#1986)

[33mcommit f9afe920eb64085b8d94b79508b35d5e4beea499[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Jun 30 19:10:54 2017 +0800

    travis: fix fail cases (#1977)

[33mcommit fef6e3d6efc8fb520163cc1963137eca7d852476[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jun 29 09:19:06 2017 +0800

    Cargo: upgrade protobuf to 1.4 (#1969)

[33mcommit eefb82c5f79db1ba4d4563d5ebbc00b5035ef714[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Jun 28 17:07:04 2017 +0800

    util/codec: add modify function for json doc (#1964)

[33mcommit 7ee6460ffd91c906e7200473f9d47d80038228c8[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Jun 28 12:51:21 2017 +0800

    pd: bi-streaming heartbeat (#1888)

[33mcommit 86d36680d64d72ded7bdc96ffd580f7ec2a29824[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jun 27 18:06:41 2017 +0800

    raftstore: skip handling read only command (#1966)

[33mcommit e588ed83da3faaad76e3c4479dca7535d3c0696b[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Tue Jun 27 16:41:26 2017 +0800

    coprocessor: add selection executor (#1914)

[33mcommit fa63e204b9f3cb7bd3fc92535c3ce21f2c5b084a[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Tue Jun 27 13:21:00 2017 +0800

    circleci: check format before test (#1962)

[33mcommit 4f3bab16d942fe8381c430c303acdc46844aaf51[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jun 27 09:18:59 2017 +0800

    raftstore: generate snap concurrently (#1963)

[33mcommit 461154a20cdf4713e21d3ea9ccca06744018fa25[m
Author: ShuNing <nolouch@gmail.com>
Date:   Mon Jun 26 06:56:09 2017 -0500

    *: support read commit isolation level (#1958)

[33mcommit 08e5528edd582724c310697948f1fc6bc30ee4a7[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Sat Jun 24 21:44:55 2017 +0800

    util/codec: add extract function for json doc (#1949)

[33mcommit 2d107a8c8bf8e68ae972ce4f31ba8d57ff0f680d[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Sat Jun 24 11:44:04 2017 +0800

    util/config: fix #1956 config error printing (#1957)

[33mcommit 1974ab261292bdcb190966aaf1f69d5910a70acb[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jun 23 23:38:01 2017 +0800

    tests: enable pd test (#1935)
    
    * mock server uses dynamic ports
    
    * rename PD to Pd

[33mcommit bd9572172437e910cc98ac8b295cd1443a0cbfed[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jun 23 15:58:56 2017 +0800

    mysql/json: json_merge (#1951)

[33mcommit 8a9279c54792f4ad7f1898f42d03bde5fe243984[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Jun 23 14:16:47 2017 +0800

    mysql/json: split compare,serde,binary into independent files (#1936)

[33mcommit 28fc87b907bf9dc7c346759db5216f145ab986a0[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Jun 23 12:56:54 2017 +0800

    raftstore: remove uuid (#1953)

[33mcommit e0dbc7a3ddbb29276e95f4575b95c9193ab23b7c[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Thu Jun 22 22:44:56 2017 +0800

    server/server: avoid test case hanging (#1946)

[33mcommit 5c68940eee90bb6bc750b2190a3ea44f003bebe1[m
Author: disksing <i@disksing.com>
Date:   Thu Jun 22 16:25:57 2017 +0800

    server: direct send raft message to grpc client. (#1882)

[33mcommit 1c64715326a77ef4d86a056e50c96f8e4840d3c9[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Jun 22 14:36:16 2017 +0800

    scheduler use individual thread handle high priority commands (#1930)

[33mcommit 40ab23656aa419454429cd830d26be0277be6fba[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Thu Jun 22 13:04:33 2017 +0800

    util/codec: add unquote function for json doc (#1948)

[33mcommit 6bd8ce615a4db4f0ea613fa45c4d8f2fe836541c[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Thu Jun 22 11:35:43 2017 +0800

    DAG: add limit executor (#1952)

[33mcommit 793a12b4b8b7cccbf029d6312a5430038d8630e2[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Jun 22 09:42:57 2017 +0800

    datum:support json (#1932)

[33mcommit 777fc02d40e2e52bb41e89c4d1fca16b3c6d96fb[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Jun 21 21:33:50 2017 +0800

    util/clocktime: add assert message for test case (#1955)

[33mcommit ad81f4da459311f0fc36da747487f796e01b6249[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Wed Jun 21 20:12:01 2017 +0800

    DAG: add topn executor (#1939)

[33mcommit c37869f91457357708b34f94d649235f9d4c07cd[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Wed Jun 21 18:15:58 2017 +0800

    tests: ensure follower progress (#1954)

[33mcommit acf29c50539f387a4015e410b6b38e5db02f8c9c[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Jun 20 18:43:34 2017 +0800

    remove read_quorum (#1947)

[33mcommit 72916f1117de880e411552c3c7e5bb073e3653fd[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jun 20 14:22:34 2017 +0800

    tests: limit server case resources (#1943)

[33mcommit 7a72cf2edfc5b8155a42c76dd9d20912cf39a8e6[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Tue Jun 20 13:19:49 2017 +0800

    raftstore/peer: revise leader lease time log (#1945)

[33mcommit 4de852c605cfa4732b23b0af5bbef4ffd941036c[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Tue Jun 20 11:54:27 2017 +0800

    raftstore: suppress compact log (#1944)

[33mcommit 47712d1e00050fbdf007f1e81e7036581a7ef90c[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jun 20 10:55:45 2017 +0800

    store: log first vote msg and not return error. (#1928)

[33mcommit 59230ab9c98a4ead8f3b7ee3e111fb65639b23aa[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jun 19 23:46:43 2017 +0800

    fix release dockerfile (#1941)

[33mcommit 1babc2978b43311103b824c64117f6696666437e[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jun 19 21:15:26 2017 +0800

    test/raftstore: consider GC command in tombstone test (#1934)

[33mcommit 350f870f51016f1ba2b007a3cafcaac5458fe398[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Mon Jun 19 15:30:12 2017 +0800

    tests: remove redundant cases (#1942)

[33mcommit 1dd5cbd7d1464736032e353c1150c7dd988361b0[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Jun 19 12:18:17 2017 +0800

    mysql/json:support json_type (#1937)

[33mcommit 0b52dac55eea0246c8cdc5da58b9d61fa9f90b88[m
Author: disksing <i@disksing.com>
Date:   Sat Jun 17 01:17:40 2017 +0800

    grpc: use latest grpc-rs. (#1938)

[33mcommit 58ef80781abcbcd30116364b6556526817adf94b[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Fri Jun 16 11:31:06 2017 +0800

    util/codec: add submodule for json (#1933)

[33mcommit c80ac5969f45c102e8340c7a312853ca1b7e664c[m[33m ([m[1;33mtag: rc3[m[33m)[m
Author: disksing <i@disksing.com>
Date:   Thu Jun 15 21:18:15 2017 +0800

    grpc: update concurrency config. (#1931)

[33mcommit 5e0978602e3ad7e11bdd57da4d09026b46ef9328[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Jun 15 18:19:59 2017 +0800

    pd: better Debug format (#1926)

[33mcommit f463c32e5a1d901d2db25e91e14a6a20a3e5a3ed[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Jun 15 16:41:54 2017 +0800

    mysql/json: support comparison (#1893)

[33mcommit dc11fe3ec14b24709b02bcd754377b20f48b4eb7[m
Author: disksing <i@disksing.com>
Date:   Wed Jun 14 16:50:02 2017 +0800

    *: update kvproto. (#1927)

[33mcommit ee9721d4bd6219dc842f2daafd01f4c8b9e3574e[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jun 13 16:01:39 2017 +0800

    mysql:add type json (#1874)

[33mcommit 5e8dd9a4234595f4c9f79dfff10573f0ff132e39[m
Author: disksing <i@disksing.com>
Date:   Tue Jun 13 11:49:31 2017 +0800

    grpc: multi conns to send raft messages. (#1921)

[33mcommit 0c10332c296b2370fd4dc6f5f875c985ad5a70d3[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jun 13 10:08:58 2017 +0800

    endpoint: support indexscan executor (#1817)

[33mcommit 0766f6b47d43fcaad9e4aaa1dc1f0ae7f6b1baff[m
Author: ShawnLi <lishuaihenu@gmail.com>
Date:   Mon Jun 12 07:30:06 2017 -0500

    set grpc stream_init_window_size to 2MB (#1909)
    
    * set grpc stream_init_window_size to 2M
    
    * add initial_window_size for raft_client
    
    * add config for grpc-stream-initial-window-size

[33mcommit c322ef0aa0206a306d045e9eb170d611ab90d823[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Mon Jun 12 18:58:21 2017 +0800

    optimize seek write-cf (#1917)

[33mcommit ee259efa97e700da25b994e02a8584abdc671626[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Jun 12 17:01:59 2017 +0800

    tests:fix bug caused by gc with stale command (#1916)

[33mcommit 0ca5455e7b62710600d48552c04523b11c7ae41a[m
Author: Akihiro Suda <suda.akihiro@lab.ntt.co.jp>
Date:   Mon Jun 12 15:38:55 2017 +0900

    Dockerfile: use image digests for better determinism (#1919)
    
    Signed-off-by: Akihiro Suda <suda.akihiro@lab.ntt.co.jp>

[33mcommit dba65f12a5ead84c4de08687dc47c35bf02b6aba[m
Author: iamxy <kenneth.liu.xy@gmail.com>
Date:   Mon Jun 12 10:26:25 2017 +0800

    Iamxy/dockerfile (#1915)
    
    * docker: update rust_dockerfile
    
    * docker: update tikv dockerfile
    
    * docker: address comment

[33mcommit 7946bdbe340440c1ced3327326b13d505dc1f5b4[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sun Jun 11 00:18:06 2017 +0800

    dynamic calc block-cache-size for lock cf (#1901)

[33mcommit a5986ffc8c9186f6aad2030720bf096476c472b5[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Sat Jun 10 09:19:00 2017 -0500

    set message size for client (#1896)

[33mcommit 00cacf0aed6482fbd61a8f0c7c0e5a0bc06f8b5e[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sat Jun 10 15:42:36 2017 +0800

    remove bloom for raft cf (#1904)

[33mcommit f4a4bfa05b142d4487830f877bc7a136b348b492[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Fri Jun 9 21:34:42 2017 -0500

    update grpc (#1913)

[33mcommit 595bea9b637106272d124433fccfdc9f2b249fb9[m
Author: Shirly <AndreMouche@126.com>
Date:   Sat Jun 10 07:18:33 2017 +0800

    endpoint: avoid allocating a lot of memory at first in topn (#1897)

[33mcommit d3beb8ce3cdca89c5dcb25fef422d14e32373ca2[m
Author: Shirly <AndreMouche@126.com>
Date:   Sat Jun 10 00:16:22 2017 +0800

    mvcc:fix bug in get_txn_commit_info (#1911)

[33mcommit d9ef49fc6c0b4ebd86a88ee36cfe0065df5d3120[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Jun 9 19:52:33 2017 +0800

    fix compact lock cf test (#1912)

[33mcommit 650ea00f9bf084bbb708241a9634c1e60fc10c57[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Jun 9 14:56:25 2017 +0800

    use sst filter by default (#1900)

[33mcommit 8e9b3cb290552f5bf432272a6b5b5cd4e3cc1c9e[m
Author: disksing <i@disksing.com>
Date:   Fri Jun 9 10:58:49 2017 +0800

    grpc: restore scheudler busy reason. (#1903)

[33mcommit 193785aa14384d71b36cc713efdbf8f74aba2303[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Thu Jun 8 20:37:37 2017 +0800

    raftstore: enable sst format snapshot by default (#1898)

[33mcommit 51788361b76e35b4f677324fe63972a26bada380[m
Author: Jay <BusyJay@users.noreply.github.com>
Date:   Thu Jun 8 02:41:14 2017 -0500

    tests: speedup compaction tests (#1899)

[33mcommit b3cc787c400a2b3870cce78b2bb4f1c15ae63d14[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Jun 7 19:02:16 2017 +0800

    raftstore/snap: add lock guard for snapshot deletion (#1883)

[33mcommit 3050fef8565787a655e30de503b49149435fdeab[m
Author: disksing <i@disksing.com>
Date:   Tue Jun 6 21:43:27 2017 +0800

    grpc: add msg size config. (#1894)

[33mcommit 24726f72ad5af80e8010eee68c4be173bdf26b7d[m
Author: disksing <i@disksing.com>
Date:   Tue Jun 6 11:38:33 2017 +0800

    *: update grpc-rs. (#1892)

[33mcommit 77d03bd32c609e800260c76ca51aabbaa80a8ea9[m
Author: disksing <i@disksing.com>
Date:   Mon Jun 5 19:09:15 2017 +0800

    merge grpc to master. (#1890)
    
    * add grpc_service. (#1821)
    
    * server: add a SendRunner to send raft messages to other stores. (#1837)
    
    * pd: switch to grpc-rs (#1800)
    
    * grpc: update kvproto, remove kv/coprocessor from tcp server. (#1844)
    
    * grpc: replace tcp server with grpc server. (#1850)
    
    * grpc: update grpc-rs, remove server cpupool, update config. (#1865)
    
    * *: update grpc-rs.
    
    * server: share env and cleanup old rpc. (#1867)
    
    * grpc: add metrics. (#1868)
    
    * grpc: setup concurrent stream. (#1879)

[33mcommit 1e73bca1ef9b2193d851db0b452f3a708bbfcaf7[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jun 5 14:30:45 2017 +0800

    bin: capture SIGHUP (#1889)

[33mcommit d2f1cef80083c063de546295c7c1c16bddf70390[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Sun Jun 4 11:06:22 2017 +0800

    optimize raft log entry fetch (#1864)

[33mcommit 6d54feac64101fe0634f4b107c4d1c3845a38d79[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sun Jun 4 09:45:03 2017 +0800

    add bloom filter for lock cf memtable (#1887)

[33mcommit 2cf7c221cca683cae0a503b70133f650d4494919[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sat Jun 3 15:55:17 2017 +0800

    refactor rocksdb config (#1858)

[33mcommit e2217d0da3c3e9c5ea68ac1910b194d5623a14e5[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Jun 3 02:05:32 2017 -0500

    cargo: tiny clean up (#1886)

[33mcommit a2807b9f0ac04b18d0486b0e44a96f1042693792[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Jun 2 21:20:40 2017 -0500

    lib.rs: remove unused crate (#1884)

[33mcommit 99ed0c4d8c80450a7a39c05d16bcadd1c2cec8e9[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Jun 3 09:31:51 2017 +0800

    raftstore: fix check pending apply (#1885)

[33mcommit 24c252814b22ef7b06585caf9340a4c56e22c2bb[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Fri Jun 2 11:15:18 2017 +0800

    add direct io config (#1878)

[33mcommit edbdfc488e2efc4216170fd2a1409100990697d3[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jun 1 15:04:56 2017 +0800

    use forward mode for gc scan (#1880)

[33mcommit cbc8a763bedd64043040a3bd5c28c680c213f0ac[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Thu Jun 1 13:33:41 2017 +0800

    modify rocksdb cf default compression config (#1875)

[33mcommit 0b401da55b5ceef14e53585eb56b7b72d6de9883[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Thu Jun 1 09:25:38 2017 +0800

    tikv-server: check TZ setting (#1876)

[33mcommit 475292c528b5c42c47b831c75189c02c71ac691e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed May 31 20:48:01 2017 +0800

    bin: print allocation stats (#1877)

[33mcommit 31bf15e9d4d08e6c6f646d392faa928123d96d72[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed May 31 14:32:38 2017 +0800

    *: upgrade rustc and clippy (#1873)

[33mcommit 6dc2cdd11893b4c0505a3d3bc50cbfe57f250953[m
Author: iamxy <kenneth.liu.xy@gmail.com>
Date:   Sat May 27 19:06:56 2017 +0800

    Makefile: add static_unportable_release support (#1870)

[33mcommit 4df90a300c6385a0955925c95b86880144bd7c73[m
Author: ShawnLi <lishuaihenu@gmail.com>
Date:   Thu May 25 08:09:34 2017 -0500

    move region peer_cache to the peer cache itself (#1859)

[33mcommit 76a8cf41e2ec718de5a23c24c1552002f627d543[m
Author: ShawnLi <lishuaihenu@gmail.com>
Date:   Wed May 24 05:05:38 2017 -0500

    replace hashmap raft.prs with flatmap (#1861)
    
    * replace hashmap raft.prs with flatmap

[33mcommit e4d491cca90812277d6f8218b48554d5f0fbbf72[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed May 24 13:56:19 2017 +0800

    remove toggle profiling (#1862)

[33mcommit 4b999ea8d5c7cba91e340a46c37710fd904dd395[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue May 23 23:04:13 2017 -0500

    raftstore: increase region size from 64M to 96M (#1449)
    
    * raftstore: increase region size from 64M to 96M

[33mcommit 6e5660355179522e56c3b6d1a5292d3024f0f836[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 23 16:00:54 2017 +0800

    tikv-server: split toggle and generating memory profile (#1784)

[33mcommit 88a0ed525287fe9be3cfac8869e445c2e5b19e49[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue May 23 12:42:53 2017 +0800

    pd: check cluster id while connecting to leader (#1842)

[33mcommit 6d2c9574b5a43bce8974e5e8d19a964923323062[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon May 22 14:56:21 2017 +0800

    reuse timer (#1856)

[33mcommit 31bbdcae7e3769fc64d38a3e6b64200ce0cc5599[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon May 22 11:00:23 2017 +0800

    report written keys to pd (#1820)

[33mcommit d0ed667a8e314168a3c015017b87180bac099a3c[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu May 18 15:00:54 2017 +0800

    storage: enlarge histogram max duration (#1854)

[33mcommit 489bba0ac78389e633be8d2758e47cdd52d57e4e[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu May 18 13:01:54 2017 +0800

    write batch with capacity (#1846)

[33mcommit de38f8422d6138dccc378926d95f92ebb2f66476[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed May 17 20:39:57 2017 +0800

    support pre-apply (#1847)

[33mcommit 01fefb201f5934a327fa0b1e04b016d7130e1f55[m
Author: ShawnLi <lishuaihenu@gmail.com>
Date:   Tue May 16 09:56:34 2017 -0500

    sync raft log (#1840)

[33mcommit 7f0c3ef8e0522775d8eecec6ee9c399111370c90[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue May 16 18:36:49 2017 +0800

    endpoint: support tablescan with DAG (#1786)

[33mcommit fce1d669510473364fe3d4ad695c209669b5ffd4[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 16 16:31:06 2017 +0800

    copr: fetch snapshot lazily (#1845)

[33mcommit 43e8a96fc05053ce29f6cfea0a8e332d0b7412c4[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon May 15 19:12:45 2017 +0800

    endpoint:use `SmallGroupFirstQueue` as `ScheduleQueue` in threadpool (#1818)

[33mcommit fdcbe0021798d71d6709e190023f1d98b2f065cd[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon May 15 17:47:23 2017 +0800

    change rocksdb version in cache  (#1839)
    
    change rocksdb version in cache

[33mcommit 1159ac6e78ea8cec3cbcf25e0cfc192fc5c1a3d9[m
Author: iamxy <kenneth.liu.xy@gmail.com>
Date:   Mon May 15 16:24:40 2017 +0800

    Jenkinsfile: init adding Jenkinsfile (#1835)
    
    * Jenkinsfile: init adding Jenkinsfile
    
    * Jenkinsfile: fix slack channel name from tikv to kv
    
    * Jenkinsfile: take ci pipeline scripts extern

[33mcommit cb1369fe6a1c42c7a06d3c9b3e58346764e7c8fe[m
Author: ShuNing <nolouch@gmail.com>
Date:   Fri May 12 16:12:25 2017 +0800

    server/node: add cluster id mismatch reason in error (#1825)
    
    * server/node: add cluster id mismatch reason in error

[33mcommit b644e9958eafe29dc125b72c2b434f8ad8cfc5d4[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri May 12 08:50:51 2017 +0800

    store: add region metrics for ready. (#1832)

[33mcommit d3ae3caad2936ba9bf243941b3134a77c3d78570[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri May 12 07:08:25 2017 +0800

    server: add metric for conn send/recv bytes. (#1829)

[33mcommit 74c269e13504c01459c44cc76f505ef99eaca9d0[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu May 11 20:30:13 2017 +0800

    threadpool:init SpeedupSmallGroupsQueue (#1822)

[33mcommit 7864443a72615272f1dc53b79d7bec4a0d573c05[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu May 11 16:33:26 2017 +0800

    rocksdb: support ZSTD compression type (#1831)
    
    * support zstd compression type

[33mcommit adb46d532d56b535471386d4a5aca7bf39e52a1f[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Thu May 11 16:27:44 2017 +0800

    tikv-server: fix clap short argument bug (#1834)

[33mcommit 712f088063d2ef3a04a0d8beadaa76e4521fe570[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu May 11 14:23:59 2017 +0800

    raftstore: mark peer when trying to do async removal (#1826)

[33mcommit 83935751f3ad8f5ce690a86ed1525ec84a7a32f6[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu May 11 11:38:05 2017 +0800

    Cargo: enable prometheus process feature (#1830)

[33mcommit d95bb3d1d461413935ac53e73f9d20fb4405d3a7[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Wed May 10 20:07:29 2017 +0800

    tikv-server: use clap to parse command line options (#1806)

[33mcommit 5466c7cba5cf8d35f1635dbabe6912eead45ceed[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed May 10 15:44:18 2017 +0800

    worker: add log for delegate register and destroy. (#1823)

[33mcommit 094369ef04e49b3443bed9195c67b6e53273af63[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri May 5 17:09:31 2017 +0800

    make base-background-compactions configurable (#1814)

[33mcommit a9928465246e29c8e3595a005841b5f1cafae16c[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Fri May 5 16:01:27 2017 +0800

    add writable-file-max-buffer-size option (#1815)

[33mcommit 5823cd327c18bedb77f91c5477607ef66506c1d2[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri May 5 14:48:48 2017 +0800

    batch apply (#1763)

[33mcommit 24e25a83b14b169eddff92cb075c3203bfbfd383[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri May 5 10:59:36 2017 +0800

    downgrade manual compaction (#1813)

[33mcommit 610524134a5d68b7b47bd8a13f55d0138131dac4[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu May 4 22:54:01 2017 +0800

    threadpool:use channel to reduce lock in push new task && adjust test (#1801)

[33mcommit d16f69898c04be729775291c936df290b54c79d9[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu May 4 11:34:17 2017 +0800

    support sub compactions (#1811)
    
    support sub compactions

[33mcommit 885848551534ea31bc4fcd3cf7e50d11f13da286[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed May 3 21:01:52 2017 +0800

    store: fix wrong deletion (#1810)

[33mcommit 87d3e8c568b54d8470ab208dba0a180e41b5f48a[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed May 3 12:18:41 2017 +0800

    raftstore: remove checksum calculation when init snapshot (#1805)

[33mcommit 0a608a8bdc0df4bb780db425708eea083686eb88[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed May 3 07:32:49 2017 +0800

    util: fix cf disorder when creating cfs (#1798)

[33mcommit d7dcfb43ff5ba1ef6ea88b3e50c52927b79ab0f3[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sat Apr 29 09:24:24 2017 +0800

    upgrade rocksdb to 5.2.1 (#1802)

[33mcommit 80d8dad4685075a7f2b68f2671693fcfef4b53b5[m
Author: ShuNing <nolouch@gmail.com>
Date:   Fri Apr 28 21:14:02 2017 +0800

    *: fix node bootstrap not idempotent (#1774)
    
    * *: bootstrap cluster with prepare

[33mcommit 423b668c341fabdb8c788b4bc14afa0183d12b65[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Apr 28 18:07:07 2017 +0800

    pd: better sleep mechanism on retry (#1792)

[33mcommit 0953fb2c20112cfacf72a82982bfc7b2badb9972[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Fri Apr 28 14:12:55 2017 +0800

    tikv-server: deprecated --store, now use --data-dir (#1803)

[33mcommit 4badfbc73d0938791029e901db9efc5f5bdaf642[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Apr 28 11:21:10 2017 +0800

    tests: check snapshot in all nodes  (#1793)

[33mcommit d59ad36b35d6f4dfac29251db08760130b0b49b7[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 27 18:19:40 2017 +0800

    util: ignore computing size if NO_LIMIT (#1799)

[33mcommit 770d303143767ebb7071d2ddae3b1cd3a873e27a[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Apr 25 22:08:31 2017 +0800

    coprocessor:init tipb && trait for dag (#1788)

[33mcommit 9e5e1c1b57ed3696b74e953c8cb7347f7eb6d639[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Apr 25 16:28:12 2017 +0800

    tests: test handling normal entries (#1783)

[33mcommit 2f116ef5c2f21b4d32dc2a92fecb3ccd7d964115[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Apr 24 23:00:38 2017 +0800

    threadpool: throttled big group  (#1778)

[33mcommit a273d36105f6d68bacf5935b610ecee5e68c3d91[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Apr 24 17:53:19 2017 +0800

    support split v2 (#1747)

[33mcommit e09c8bbdafa688c83590fe4afdca9a58389ad7c4[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Apr 21 17:33:56 2017 +0800

    tikv-server: enlarge default write-buffer-size for lock cf (#1789)

[33mcommit 255ad8b31cca15ab00b2edcf89dfbe18506edba2[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Apr 21 15:05:05 2017 +0800

    use mio 0.6.6 (#1785)

[33mcommit 7104926f229cbc76f294134263725f6806affeef[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Fri Apr 21 13:36:31 2017 +0800

    perf: take ordermap instead of std hashmap (#1773)
    
    * *: move HashMap and HashSet to util::collections

[33mcommit 3af7ba9adcb8c2262a78b0bc0c3ae6dcb15fb56a[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Thu Apr 20 21:54:29 2017 +0800

    bench: add writebatch bench (#1772)

[33mcommit 16831dfd56b0f8e3d5f5b74e26432ab33fa1b004[m
Author: Li Shihai <oceanboshillee@gmail.com>
Date:   Thu Apr 20 20:23:59 2017 +0800

    bench: add serializtion bench case (#1767)

[33mcommit 41bae79e8f7471387ea6c8cd998c7c4de0c2b05d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Apr 18 14:47:51 2017 +0800

    update rocksdb (#1780)

[33mcommit a3731d58b523719f93b109b909d6b0b3ba946077[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Apr 18 13:48:22 2017 +0800

    pd: reduce RwLockReadGuard lifetime (#1781)

[33mcommit 6154a2d6da421cfcd68b58296f748a1146667990[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Apr 18 12:57:25 2017 +0800

    pd: better mod structure (#1777)

[33mcommit f264b9b4c4df1ac2650655f785a8f854581a2db7[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Apr 17 17:13:53 2017 +0800

    pd: refactor unary request retry future (#1770)

[33mcommit bfe4cd1e4f4c97820f19b08088696c6d6fe3bc2a[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Apr 17 15:04:15 2017 +0800

    Add reason for server is busy error (#1775)

[33mcommit 48a3d12e3424233f546f43df0d5c04634bf1247e[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Apr 17 11:53:32 2017 +0800

    storage/txn:add unit tests for store. (#1741)

[33mcommit 690595c65e4bb71ba052432368be726d961bec0f[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Apr 17 09:47:38 2017 +0800

    fix compact byte detection (#1769)

[33mcommit 06c69b2b44d2deeae7ca5e228fd3390d2acb3c31[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Apr 14 23:15:53 2017 +0800

    pd: always update client (#1759)

[33mcommit bcb7745e56f351946902d858df593a15faa9f76c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Apr 14 18:43:41 2017 +0800

    pd: fix a deadlock (#1768)

[33mcommit d68092a1612c4aa97b4ad1b63688d2f009dd1158[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 13 16:59:22 2017 +0800

    *: enable memory profile (#1723)

[33mcommit 3e63ba5e89d543826e5ddd054a5c29ba8e293b51[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Apr 13 15:25:10 2017 +0800

    add test for compact worker (#1738)

[33mcommit 3cf1bf7b23a4be01bb13923e9c144f99d38bc2d6[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 13 14:19:24 2017 +0800

    raftstore: add split unit test (#1742)

[33mcommit 3d3bff9ffc82822fe447603e394551caca7516e0[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 13 13:54:04 2017 +0800

    travis: limit compilation concurrency (#1764)

[33mcommit 8fe59e16186f5776083c703babda791f17f3ee06[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Apr 13 10:25:16 2017 +0800

    add test for gc raft log (#1737)

[33mcommit 0613eabdfa28ac18f39f3852bdca2c5ea8badc6d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Apr 12 22:08:08 2017 +0800

    *: asynchronous pd client, take 4 (#1753)
    
    This is the fourth part of using an asynchronous PD client. It contains the following changes:
    
     - Refactor PdWorker as AsyncWorker. (Address https://github.com/pingcap/tikv/pull/1712#issuecomment-290102625)

[33mcommit cc5f919d35e5b5f2a8a773bde76cbdc580517b83[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Apr 12 16:56:02 2017 +0800

    circleci: use precompiled rustfmt (#1758)
    
    * use precompiled rustfmt
    * update Cargo.lock
    * check diff after running tests
    * update circle message

[33mcommit 32d9f834af39f449f63feb27df1113ab25be0bbb[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Apr 11 19:06:58 2017 +0800

    *: asynchronous pd client, take 3 (#1752)
    
    This is the third part of using an asynchronous PD client. It contains the following changes:
    
     - [x] Add an AsyncWorker, it runs a tokio core. (Address https://github.com/pingcap/tikv/pull/1712#issuecomment-290088819)

[33mcommit 55a7b1dab2e10173be461512a43ee5a3aa1723eb[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Apr 11 15:57:09 2017 +0800

    circleci: fix rustfmt (#1755)

[33mcommit 366b2b0c8f153dd8d1169bbc06a8e48551f530ff[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Apr 10 19:37:47 2017 +0800

    *: asynchronous pd client, take 2 (#1745)
    
    This is the second part of using an asynchronous PD client. It contains the following changes:
    
     - Refactor trait PdClient.

[33mcommit ddcdc96220f02187952a9fed3eef8ffb940f31f3[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Apr 10 15:56:50 2017 +0800

    report store write flow to pd (#1743)

[33mcommit 84019159088cfdefeff342330cf06f34f1e5c562[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Apr 10 14:46:21 2017 +0800

    remove unnecessary .gitattributes (#1748)

[33mcommit abe2ddfcc180818b955ca85934c5d35be9e6d8d9[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Apr 10 10:47:31 2017 +0800

    monitor block cache usage (#1739)

[33mcommit e35da7f1be7edf4e275a78ff3220c35b2327833a[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Apr 7 20:47:24 2017 +0800

    tests/storage:adjust tests about test_store_gc2 (#1734)

[33mcommit 41796ac07b3114d1f89434fb6cd95129f7e5a71d[m
Author: disksing <i@disksing.com>
Date:   Fri Apr 7 17:17:38 2017 +0800

    server: abandon support for raftcmd from network. (#1725)

[33mcommit ce553423b8394667e75e924c5c851fe788bf5f9c[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Apr 7 14:32:58 2017 +0800

    tests: use channel in block_engine (#1724)

[33mcommit 965dab26d2fa8375a863276d4d2d9f8cd3c0d387[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Apr 6 22:21:21 2017 +0800

    pd: asynchronous client, take 1 (#1712)

[33mcommit 86f0d794fa5b8056158b7b168132833c112acbc4[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Apr 6 18:38:10 2017 +0800

    bin: log PD cluster ID (#1735)

[33mcommit 0fa3a1f57562d75c258d9520432a227f6931df10[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Thu Apr 6 16:37:11 2017 +0800

    storage/mvcc: add unit test cases (#1731)

[33mcommit faf2b85a8847cdd0917692f80cb0b5a648587322[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Apr 6 15:29:33 2017 +0800

    bin: replace unwrap with unwrap_or_else (#1736)

[33mcommit e3349e122d6bc1ff0ecc08b6ebdfbe218f6f40cc[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 6 12:51:15 2017 +0800

    travis: update kcov (#1730)

[33mcommit efbefb37b8238eb2635cbb94c9e303e63a9d84f8[m
Author: disksing <i@disksing.com>
Date:   Thu Apr 6 12:18:24 2017 +0800

    *: cleanup test. (#1727)

[33mcommit f82f35b6afc8c67ec60f4e486914479d93dd31ce[m
Author: disksing <i@disksing.com>
Date:   Wed Apr 5 10:59:07 2017 +0800

    pd: parse ALREADY_BOOTSTRAPPED error. (#1720)

[33mcommit 9917c96dc68b11999d61585f8d6dc450ac00b681[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Apr 5 10:12:08 2017 +0800

    prewrite_improve: abort Prewrite command after Rollback for the same txn (#1652)

[33mcommit 879ce10c3e5fb07d9d1936f929f3b549e9da1a59[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Mon Apr 3 14:26:16 2017 +0800

    raftstore: use readable format for leader lease in logs (#1722)

[33mcommit a4c8dfcb5b47bf5896c14102fc6bbd2a16529b0e[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Apr 2 11:08:47 2017 +0800

    support rocksdb info log dir (#1700)

[33mcommit 197bf3ec9ee3de48ed5056c72e3d7c884c33067e[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sat Apr 1 14:09:51 2017 +0800

    Add rate limiter for rocksdb compaction (#1379)

[33mcommit 4ce5c49a0db1a7909c444c9e4852a73aa9d37111[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 31 14:37:54 2017 +0800

    raftstore: add util test (#1718)

[33mcommit 846a45bb2a9db9dad20c9c1d8a64e566a161f2c9[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 31 08:26:37 2017 +0800

    raftstore: add bootstrap test (#1715)

[33mcommit a8848f96960f5d8f654c43f00285009174306f6a[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 30 21:49:43 2017 +0800

    *: add config validate test (#1716)

[33mcommit ce3bec951d9470ff52aff16b95acfc1ea84fa07e[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Mar 30 17:00:55 2017 +0800

    enlarge scheduler too busy threshold (#1717)

[33mcommit 083b54a39b69a81158f1946c5ebc89fb3d5a7807[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Mar 30 13:50:10 2017 +0800

    report region write flow to pd (#1707)

[33mcommit ac21224929c0bc45c853a4eb40d6b171c08fd7f1[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Mar 30 12:07:22 2017 +0800

    open rocksdb once (#1698)

[33mcommit 2178b4ab62f4c62ef08a3ab3787e9e119076dc75[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 29 19:56:57 2017 +0800

    update docker (#1714)

[33mcommit 6083940c53b5d4f554f3356e087703cd76cd1f7a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 29 17:28:57 2017 +0800

    *: upgrade rustc and clippy (#1713)

[33mcommit f86b9f9a153625356e576ccf7b994c429dacf19f[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 29 16:52:10 2017 +0800

    tests: sleep longer (#1710)

[33mcommit 8c43562dfe79f83cfad4fef36e04b7cc3cae834b[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Mar 29 16:06:36 2017 +0800

    report used space to pd (#1706)

[33mcommit e2b9e2aaf377f48df0805a368dbe5a8acf3bdcc2[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 29 13:21:57 2017 +0800

    *: upgrade mio (#1709)

[33mcommit 44dd49d4b57b64c775645ca647308be9e7aeceaa[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Mar 28 20:43:17 2017 +0800

    Introducing PD gRPC Client (#1591)

[33mcommit 9bbb312acd583aa8926ad0dfd5ac514bf2abbff1[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Mon Mar 27 20:15:09 2017 +0800

    add sst file snapshot impl (#1618)
    
    * raftstore: add sst file snapshot impl

[33mcommit 331a13d93e27ec0630d3e1aede4b75de501ee09b[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Mon Mar 27 19:28:34 2017 +0800

    tests/raft: add read index request test case (#1703)

[33mcommit bacd17e33c74fc65475a5486acdcc59f7f1150c8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Mar 25 18:51:16 2017 +0800

    *: drop bytes dep (#1702)

[33mcommit b65d0f60b4324cd66f3a55a489ce1aa5d9f1dccc[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Mar 24 11:20:48 2017 +0800

    raftstore: speedup transfer leader (#1696)

[33mcommit 7e083f598d2b8678065f46a2cab53a61e907a9e6[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Mar 23 14:20:11 2017 +0800

    travis: specifiy rustc version explicitly (#1699)

[33mcommit 73b6fa503281b256b620f56270448506ea82fd51[m
Author: Shirly <AndreMouche@126.com>
Date:   Thu Mar 23 08:13:22 2017 +0800

    check_commit_tso:return error when commit_ts < start_tso (#1690)

[33mcommit f1eb5de972369e8ab86f5cf7c3c0d56572b04f63[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 22 17:06:23 2017 +0800

    util: remove TryRead/TryWrite (#1692)

[33mcommit d7a5b96b8095cd40bc886bd977ee09dc73592b4c[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 22 14:53:37 2017 +0800

    update rocksdb and remove no need configuration (#1694)

[33mcommit 6dc5f0d047a2c4bfb7c2de34387f9f75f20a81d6[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Mar 21 17:37:17 2017 +0800

    raftstore: make SnapManager not sync (#1695)

[33mcommit afe996d1af8fa3c8e118a6586d990585d9bdf3f8[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Mar 21 15:50:56 2017 +0800

    make lock cf configurable (#1685)

[33mcommit 1794217900b5d014a95e361a7afa45efa6636a8e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Mar 21 15:09:42 2017 +0800

    scheduler: remove mio eventloop (#1691)

[33mcommit c0d53ec1db2af8d59da6ea07d8d39990284169c1[m
Author: Yann Autissier <aya@users.noreply.github.com>
Date:   Mon Mar 20 09:53:48 2017 +0100

    Add RocksDB options for in memory configurations. (#1679)

[33mcommit c46a0ca176782f3d203caeeb1b4a7690d67caaeb[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 20 12:36:55 2017 +0800

    don't use underline in TOML (#1686)

[33mcommit dae4a17e95e663a9a4877a5bcf55a7784e82e49d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Mar 17 18:10:43 2017 +0800

    raftstore: clean callback when peer is destroyed (#1683)

[33mcommit 4f1f62f2086305be154649a2701b5b660d4b402d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Mar 17 17:05:45 2017 +0800

    travis: update cache (#1684)

[33mcommit 3dc96a9eb808e075f0b14ef76b933424804d43cd[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Mar 16 18:09:21 2017 +0800

    raftstore: fix possible stale read (#1682)

[33mcommit 08d537107f5a6d118abb87620d09dbafdc622977[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 16 15:16:14 2017 +0800

    use SSE by default. (#1677)

[33mcommit 215bc9a7300ccbf02bf30f189d549fddfb2f45d9[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 15 16:16:51 2017 +0800

    tests: use a smaller interval (#1678)

[33mcommit 64a98712e05750de446c877d9aba88d9c3b95ce2[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Mar 13 16:52:22 2017 +0800

    raftstore: queue vote (#1670)

[33mcommit c158b487287cb325adf1a6833c7ef5862cf518ec[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Mar 9 15:04:56 2017 +0800

    endpoint: collect scanned key count (#1661)

[33mcommit df7cc8ae6bb3635c3908be3317c70962fc37b229[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Mar 9 10:29:05 2017 +0800

    reduce manual compaction (#1664)
    
    * add lock cf manual compaction threshold

[33mcommit 7a9a8d678edf632220f90fca75bda2d95340ce0d[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Mar 8 14:32:41 2017 +0800

    scheduler too busy (#1668)

[33mcommit 67c7f37ba24157aef9dd5c3871266dd5fa501258[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 8 11:03:51 2017 +0800

    iter: tiny cleanup (#1662)

[33mcommit d832accab46c04a5818da6cca9e341f6f7f2fa11[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Mar 6 10:50:09 2017 +0800

    metrics: compaction (#1657)

[33mcommit 8fae17a6ca6a21c7a3da4dccafed43bf3a8b589b[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 4 14:41:49 2017 +0800

    bin: add config for scheduler too busy threshold (#1666)

[33mcommit 54ca2b35e4261a9cd679b187289c08909513caaf[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Mar 4 11:07:03 2017 +0800

    tests: fix auto remove check (#1665)

[33mcommit c9fc4fc9c2028d73ec6eabdf0a4e19bd6a2832ad[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Mar 3 20:58:51 2017 +0800

    raftstore: use read index to serve read request (#1642)

[33mcommit 5c8afee70faac7d7be3cd7cdea175ac46beca799[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Mar 3 18:02:10 2017 +0800

    notify pd when leader ship changes (#1658)

[33mcommit 5501c5eb4bff7d89d9272275cdfa00ce03236448[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Mar 3 10:26:05 2017 +0800

    add metrics for scheduler is busy (#1660)

[33mcommit a64a0af172b53b9896c3ff7cc3ed5b24a4938b16[m[33m ([m[1;33mtag: rc2[m[33m)[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 27 09:44:31 2017 +0800

    use rocksdb 5.1.2 for docker (#1651)

[33mcommit 4df05a0e4800e7be1c08697326dadd50b4fd406d[m
Author: disksing <i@disksing.com>
Date:   Fri Feb 24 23:38:35 2017 +0800

    scheduler: add region id to slow log. (#1654)

[33mcommit e4e84b6cb17116443c3e0ad9118fe17892fb12d8[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Fri Feb 24 19:20:02 2017 +0800

    raftstore: make the campaign after split happen faster (#1640)

[33mcommit 898d5516a4193884013a8cfcbf17c64c3b8b9b2e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Feb 24 11:08:53 2017 +0800

    make apply atomic (#1648)

[33mcommit b4541379c1a12a4fe1f579f91ce42a66b3f3c20a[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 23 22:43:08 2017 +0800

    use rocksdb 5.1.2 (#1650)

[33mcommit 418c41265c2322a2ba2aebfb116430ffc3aeb0f1[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Feb 23 19:06:16 2017 +0800

    raftstore: adjust code (#1643)

[33mcommit a460149c564ddb105d15d7bcdffcf26ae72275c6[m
Author: Ewan Chou <coocood@gmail.com>
Date:   Thu Feb 23 16:40:17 2017 +0800

    coprocessor: support default value. (#1644)

[33mcommit 16440477e915ab631c264ae8dda8848c39c0455f[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Feb 23 14:32:38 2017 +0800

    increase the L0 slowdown/stop condition as rocksdb5.1 (#1645)

[33mcommit 67c508182b2e62ff2682081de087b16476321850[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Feb 22 12:53:58 2017 +0800

    raft: fix read index request handling for new leader (#1634)

[33mcommit edaeca6441eebada2039b462eaf4662415ade213[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Feb 22 09:54:22 2017 +0800

    *: clean assert (#1637)

[33mcommit 3c8dc2599032e79d1c78681703ebe678d517b52c[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Feb 21 22:13:18 2017 +0800

    metrics: do not reset rocksdb's counter (#1638)

[33mcommit d455e72fd7e54a7d6458d97921fda50af9c5479a[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Feb 21 19:18:48 2017 +0800

    tests:adjust test for test_txn_store_gc_multiple_keys (#1622)
    
    tests:adjust test for test_txn_store_gc_multiple_keys (#1622)

[33mcommit 4a1582396f9b804f12d066cd23d371b0888534ca[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Feb 21 15:11:24 2017 +0800

    metric: rocksdb statistics detail (#1606)

[33mcommit 6e1a95f6970b382b8494fb0ee22877556950a8a9[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Feb 20 17:09:42 2017 +0800

    Detect system's CPU/Memory to adjust TiKV's config automatically (#1605)

[33mcommit 6b06d53aea7c87408a884543473a8c110cfb1ed4[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Feb 20 08:15:34 2017 +0800

    txn:improvement for point get by unique key or pk (#1608)

[33mcommit d7dc4af49d9c1d43b7bdbbb7e0d4724816a8da51[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Feb 18 04:15:39 2017 -0600

    make rustfmt download faster for travis-ci (#1633)
    
    * make rustfmt download faster for travis-ci

[33mcommit f61366ac258abfa5962fd3ff790aa2801b03d443[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Feb 18 13:49:58 2017 +0800

    raftstore: async apply (#1588)
    
    * implement async apply

[33mcommit 95a406088f97a646a34fabe1e56e2ad8b3d684a0[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Sat Feb 18 09:18:04 2017 +0800

    raftstore: improve lease accuracy for leader transfer (#1595)

[33mcommit b260657a380b81d8aca7808037b74f7dd5a868f8[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Feb 17 17:11:35 2017 +0800

    wait all workers finish (#1627)

[33mcommit eb185b3babc476080306fef7c05b7673c1342455[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Feb 17 16:12:03 2017 +0800

    topn:fix bug in order by primary key (#1630)

[33mcommit 371eb12bee3dec7a013302f35ce15c0ef92e052c[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Feb 17 13:47:55 2017 +0800

    raft cf memtable insert with hint prefix extractor (#1615)

[33mcommit 27296c2af65bbeb9550795e172d97ae6a2560a6d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Feb 17 13:39:48 2017 +0800

    raftstore: check if tick generates any readiness (#1619)

[33mcommit 0ca71765c51c0095f058930582e23ad666e6a555[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 17 08:04:09 2017 +0800

    store: no need to cache local peer (#1621)

[33mcommit 23be7e4312c91e37d1ce07e9519a38e777e1d7e8[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Feb 16 20:48:05 2017 +0800

    bin: use tikv built-in HashMap (#1626)

[33mcommit 8d0fdbfda6bb2c888a945f68bd54d66315d7c6db[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Feb 16 20:21:42 2017 +0800

    tests: wait for region removal (#1623)

[33mcommit ba75c925ed64eca3ad2d200c52199f266910ee60[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Feb 16 12:51:15 2017 +0800

    *: use FnvHashMap and FnvHashSet (#1614)
    
    * *: use FnvHashMap and HashSet, take 1

[33mcommit 5079e5ec3adce0e3fec9b492668edf8660cf406b[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Feb 15 19:31:24 2017 +0800

    coprocessor:implement topn for select

[33mcommit 16185c33e73b7f5fdf02cba956015ab91a496d4a[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 15 16:46:03 2017 +0800

    enlarge raft base tick interval and make it configurable (#1599)

[33mcommit f257e60866e6b4c4210bcf896684c134c4fd9f19[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 14 22:10:12 2017 +0800

    update cargo (#1616)

[33mcommit 6f21df63b892d469f0c9ef3a7113bb5325200e4d[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 14 21:27:14 2017 +0800

    use protobuf 1.2.1 (#1576)
    
    * use protobuf 1.2.1

[33mcommit 0b198e3c85f20a0459cdd00292ea25d063c8d260[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Feb 14 17:16:26 2017 +0800

    *: tiny cleanup (#1613)

[33mcommit b4d6018585b5d502647b6d899d54e52099dd2256[m
Author: tennix <tennix@users.noreply.github.com>
Date:   Tue Feb 14 14:17:48 2017 +0800

    Update rustc and clippy (#1607)

[33mcommit fdd16f211ede4413fd66b339513f0f64452240e4[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Feb 13 13:25:24 2017 +0800

    raftstore: use static lease (#1594)
    
    * raftstore: use static lease

[33mcommit 9736b243f6214cd3c7afb4c3f60e2edd31679e66[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 12 18:44:43 2017 +0800

    raftstore: tiny update metric (#1600)

[33mcommit 3f4aa43defe8d36bae1bc6d9287864b771b3bfb3[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 12 18:38:23 2017 +0800

    raftstore: remove unncessary slow check (#1601)

[33mcommit beaacb1328bb6687c2eaecf99cbd87a0619add34[m
Author: Ewan Chou <coocood@gmail.com>
Date:   Sun Feb 12 16:48:28 2017 +0800

    raftstore: from peer doesn't need to get from cache (#1602)
    
    Saves a hashmap lookup.

[33mcommit 2330d2d444ce5a76db215144284ffdbeed773769[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Fri Feb 10 15:58:25 2017 +0800

    raftstore/server: add interfaces of snapshot handling for new snapshot format (#1579)

[33mcommit 06b5a43bcb123ca4bee8ada23265bb403032e1ff[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Feb 10 14:06:14 2017 +0800

    coprocessor:refactor cut_row & cut_idx_key for row value analysis (#1590)

[33mcommit 8a7935a9f65ec2a226310eb9e2485c2bc2b5e919[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Feb 9 14:43:43 2017 +0800

    write cf: use prefix extractor to speed up seek (#1509)

[33mcommit 6160ace357319fefe9ae869a92814e9cc061623d[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 9 09:15:34 2017 +0800

    store: add metric for total raft gc logs. (#1582)

[33mcommit 57103581197c7a0bb1a646864bc8604ccfbca728[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Feb 8 21:28:20 2017 +0800

    tests: adjust test_txn_store_gc2 (#1587)

[33mcommit 134c1165972adeacb8677f201daa65d2377b55d2[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Feb 8 18:44:25 2017 +0800

    Info StaleEpoch error (#1589)

[33mcommit a703d51601c6f3f29040eb25d36dda516746330f[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Feb 7 16:05:20 2017 +0800

    worker: support shutdown (#1586)

[33mcommit d43461e9ccc73a5f5bb536fc2f6e7308fb87ab7c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Feb 7 15:17:33 2017 +0800

    evaluate logic ops lazily (#1565)

[33mcommit f92a8167706441c193d8adda9b72f2d8ac657e56[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Feb 6 20:41:53 2017 +0800

    raft: seperate apply from ready handling (#1573)

[33mcommit 9771b9570f47bdc8c8661b324f27841258e37ad5[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Feb 6 17:09:42 2017 +0800

    storage: use seek_for_prev (#1581)
    
    close #1416

[33mcommit 6fa90169a5707db54078dabd4bb6d1275c85b6f9[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Feb 6 16:11:38 2017 +0800

    fix panic when stop (#1580)

[33mcommit 2d34f5d4d4e84d324f7fa751e1cba15c5427b978[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Feb 4 23:13:14 2017 +0800

    tests: fix wrong test name and harden lease check (#1574)

[33mcommit b43b898b5876b86fde5f95679ce454257f38b786[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Feb 3 14:15:32 2017 +0800

    reverse seek write include equeal key (#1498)

[33mcommit 6af21c3b00a514c07e8cff4729e8ac98f1389325[m
Author: Ivan.Yang <mrmiywj@users.noreply.github.com>
Date:   Fri Jan 27 17:37:51 2017 +0800

    add http scheme (#1543)

[33mcommit e38ee52c95055f6c273147aad4511560c8f76360[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jan 26 19:49:32 2017 +0800

    endpoint: adjust scan slow log (#1566)
    
    * adjust scan slow log

[33mcommit 4e61ac73039b23ae897e3e0810b0b10413e01a1f[m[33m ([m[1;33mtag: rc2-preview[m[33m)[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Jan 26 19:20:49 2017 +0800

    there is no value need to be deleted when rollback lock (#1553)
    
    * there is no value need to delete when rollback lock

[33mcommit 82b257c3cf70277cf85487f679db98b15b64dfe3[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jan 26 16:49:52 2017 +0800

    raftstore: update lease before applying (#1560)
    
    * raftstore: update lease before applying

[33mcommit 518c5696e44209e7c60606f22e8f51f4e6c4e80f[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Thu Jan 26 15:01:24 2017 +0800

    raftstore: add request wait time and process time metrics (#1563)

[33mcommit 72507ba1ed02b2c5a99e4b1ec77f9ea2d9a1a151[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jan 26 13:17:34 2017 +0800

    copr: make copr task more concurrent (#1551)
    
    * make copr task more concurrent

[33mcommit 09bc0c58e9671fbfb7373c0e48f3dfcd825393ec[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jan 24 21:23:25 2017 +0800

    [metrics] count empty range in gc (#1559)
    
    * [metrics]:count empty range in gc

[33mcommit 72bd54853e41ae8bff4e676f90c0aed3e0daa8cf[m
Author: Shirly <AndreMouche@126.com>
Date:   Tue Jan 24 15:51:37 2017 +0800

    [tests] add tests for gc on raft storage (#1528)

[33mcommit 2ba2dcb15961c03cf29589c683b73ed8c39a845d[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Jan 24 13:54:24 2017 +0800

    no need to overwrite data in prewrite (#1500)

[33mcommit 57a330fe407d30557ea3ff3a5d8bdb71afdc7ccd[m
Author: Shirly <AndreMouche@126.com>
Date:   Mon Jan 23 21:43:20 2017 +0800

    [ti-ctl]:add start_ts as filter in scan & mvcc (#1511)

[33mcommit e02ee6481899b2252127605ff80b8dc727033ff4[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jan 23 19:25:14 2017 +0800

    raftstore: update raft only in store thread after confchange (#1540)
    
    * raftstore: update raft after confchange is applied

[33mcommit d59cc55d707b4ae30c6226d8a987cba1f56f2606[m
Author: tennix <tennix@users.noreply.github.com>
Date:   Mon Jan 23 16:49:50 2017 +0800

    add rustc version when printing tikv-server version (#1552)

[33mcommit 30c94744f5bde20240ebe061afecd354360d4603[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Jan 23 11:14:19 2017 +0800

    bin: prints help message when meets unknown arguments (#1550)

[33mcommit bf2e5e8e58ce2649385d3ad592ea22652fa1b9ef[m
Author: disksing <i@disksing.com>
Date:   Sun Jan 22 18:34:33 2017 +0800

    sched: add latch test. (#1534)

[33mcommit 46bfcc12387c51d5f8724c352e489c1f2af59f16[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Jan 22 16:39:49 2017 +0800

    *: tiny cleanup (#1545)

[33mcommit 2bba7eaaddafd57e60dcc111177e7f25f836dfc7[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Fri Jan 20 20:45:49 2017 +0800

    raftstore: accelerate ticks for old region leader after split (#1544)

[33mcommit 7eb8d4a297f079b5cfbc413328d9e5ed5f2987d4[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jan 20 18:00:05 2017 +0800

    *: option capacity, 0 for disk capacity (#1526)

[33mcommit 85fa2cad573585a850f813666442128f53bb360e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jan 19 16:05:40 2017 +0800

    raftstore: make raft log gc not depend on PeerStorage (#1535)

[33mcommit 5424ca1b90dc4b4aa56a29d258a63a1bd09f2139[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jan 18 13:54:45 2017 +0800

    raftstore: tiny refactor (#1533)

[33mcommit 2f809e09a0a702ae965987223f84546a88f51a6f[m
Author: disksing <i@disksing.com>
Date:   Tue Jan 17 14:59:14 2017 +0800

    scheduler: fix resolve locks bug. (#1530)

[33mcommit 1b83d2f1b40b1483e07fc5b0dce79dacf96e154b[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Jan 16 19:56:17 2017 +0800

    upgrade zlib include dir (#1527)

[33mcommit 1b42363cdb4074c33fa57ff214f4c2e7549397eb[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Jan 16 14:17:03 2017 +0800

    mertrics: report region flow (#1517)

[33mcommit a4f78d0414ae0436878a04e6b9b41cbcf0a667be[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jan 16 14:03:37 2017 +0800

    copr/metrics: record scan efficiency (#1521)

[33mcommit 394ae9eb3edf488672c7778cb3809d02b1afbeec[m
Author: disksing <i@disksing.com>
Date:   Mon Jan 16 13:48:19 2017 +0800

    scheduler: add metrics and slow log. (#1520)

[33mcommit bda82b5ff260abb0c1cf67521de84edb1005cd5c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Jan 16 13:25:29 2017 +0800

    Cargo: disable prometheus process feature (#1523)

[33mcommit ab9e2332d9c09d94e604334823016be5cae0d779[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Jan 16 12:51:03 2017 +0800

    upgrade zlib (#1525)

[33mcommit 61ab31e28afab6bf864d265b296cc206e46041f4[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jan 16 00:27:32 2017 +0800

    store: add estimate num keys metric (#1522)

[33mcommit 63feae9b1e909b3292797479638ac091697e5d67[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Jan 15 18:51:13 2017 +0800

    raftstore: record ready time as histogram (#1519)

[33mcommit f3c5905c2eea2c11c6ef288f1ecd311206a731d2[m
Author: Ivan.Yang <mrmiywj@users.noreply.github.com>
Date:   Sun Jan 15 16:32:38 2017 +0800

    rocksdb: support compaction_readahead_size for spinning disk (#1510)

[33mcommit cb821fbcd1f3aa882c41f106e3af25b767097775[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sun Jan 15 15:05:35 2017 +0800

    *: enable process collector and add thread collector (#1494)

[33mcommit 945ad4b65d952346c207e64fac8fa8efe65ee0ad[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Jan 15 14:46:26 2017 +0800

    copr/metrics: add request wait time (#1512)

[33mcommit 0fb79aeec7f5b4f3f59244f068f273d0969e4a8a[m
Author: disksing <i@disksing.com>
Date:   Sun Jan 15 11:30:54 2017 +0800

    scheduler: fix a bug that happens when prewrite meets locks. (#1515)

[33mcommit 36a269b7a543de8e413c98b6dd1a875d8082a62e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Jan 14 18:52:45 2017 +0800

    get detail error type (#1518)

[33mcommit 9e87884eb81882ec477c1fff98206c00f9146152[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Jan 13 21:20:36 2017 +0800

    limit the max size of raft entry (#1480)

[33mcommit a939bf9dbd3a27bb689b0bae90084b2aea7ab1f2[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jan 13 16:49:05 2017 +0800

    fix append timer metric (#1508)

[33mcommit 4d2e1bec35f0e515dfa1dd81c75174213b80d6fd[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jan 13 15:48:07 2017 +0800

    travis: remove compilation cache (#1503)

[33mcommit 1f7b46cce4d49d8e3813986b2ab1cd92e3f8fb5d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jan 13 14:09:52 2017 +0800

    raftstore: record log lag (#1502)

[33mcommit 7a8da8bc925438c250a7bad5985cc801b7fe7535[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jan 13 13:13:40 2017 +0800

    support dump fail log without coupling to travis environment (#1504)

[33mcommit 35b3a659209ffa2823379398b98fa35c6ad4ffac[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Jan 13 11:24:19 2017 +0800

    metric: record count of keys have written every round (#1496)

[33mcommit 7bfbbd622073919f8a55243987759eb18e540df8[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 12 11:19:23 2017 +0800

    scheduler: allow 1 GC command at the same time. (#1497)

[33mcommit b03324ca76d1c4e69b04d1bfbe9bb1add8fd1279[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jan 11 22:27:21 2017 +0800

    ci: fix release build failure check (#1501)

[33mcommit ee4b61dfd661b008eda9a31ad73a42a438700d4b[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Jan 11 21:16:56 2017 +0800

    raft: port pending conf reset when adding node (#1489)

[33mcommit 30dbfbd911cbda28140e28ecba95eabae45dfc09[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Jan 11 19:39:15 2017 +0800

    [metrics]:add metrics for snapshot(kv-count & size) (#1493)

[33mcommit 2bd3b25938d3697a550f65afe4aef440645025e8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jan 11 19:03:27 2017 +0800

    metrics: add fail reason (#1492)

[33mcommit b1cdf2dc4d95b7a95777f3d356e2ff7f0f79eda4[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jan 11 17:57:13 2017 +0800

    raftstore: count kvs in other cf when doing split check (#1495)

[33mcommit b1eeaa02a5decca3cee09321e1e325d2b5fede6a[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jan 11 16:03:26 2017 +0800

    tikv-server: change flag v to V (#1499)

[33mcommit 8574a73e662c6f55100fe465aa680c6277a54592[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jan 11 13:58:17 2017 +0800

    util/codec: keep large integer precision and roughly check overflow (#1437)

[33mcommit e44edd7c676b52e77b47521bc9dc07ea1c7eb18f[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Jan 11 13:06:53 2017 +0800

    tests/raftstore: fix down peers test (#1462)
    
    * tests/raftstore: fix down peers test
    
    The test fails occasionally because the `down_secs` may be 0.

[33mcommit c4b1b8e6b66a72094d1eca4599b596c3c663d3f5[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Tue Jan 10 20:38:01 2017 +0800

    raft: port paused follower resuming on MsgHeartbeatResp (#1483)

[33mcommit a28492357a3d345b8efa22b56c0fee4c53285abf[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jan 10 18:34:21 2017 +0800

    tikv-server: allow set timeout and hearbeat ticks (#1482)

[33mcommit 7c25c38965692ccfc17d175fbd529d64c6695e13[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Jan 10 16:08:58 2017 +0800

    make disable manual compaction configurable (#1491)

[33mcommit feaf11b8eeb0c5e8e82a1ab87deffe0fbf16601d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jan 9 21:45:36 2017 +0800

    ci: skip pd tests in travis (#1485)

[33mcommit 8ebbeb1a5a400c8e61c48f3a787986d18e7c53bd[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jan 9 20:11:58 2017 +0800

    fix assert (#1484)

[33mcommit 3b5be00a73257e89db57c368ac3cd8815bbeedf5[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jan 9 16:07:54 2017 +0800

    downgrade rustc (#1479)

[33mcommit f982e82f43e95f1d8dd4d53e485b53fe68549a6e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jan 9 15:14:04 2017 +0800

    remove default configuration in tikv-server (#1478)

[33mcommit 439c5cf1e6fc51c88baaefcebee3bd1e95956aeb[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Mon Jan 9 14:00:31 2017 +0800

    upgrade rocksdb version to 5.0.1 (#1477)

[33mcommit fae3c2f50103ecc12f296d9c61f287b4760f2cbb[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Mon Jan 9 13:06:33 2017 +0800

    raft: port promotable checking for MsgTimeoutNow (#1473)

[33mcommit c7bc163101c37ff4ebc2c7473f1aa1e679eae5b6[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Jan 8 09:01:06 2017 +0800

    unify logger (#1476)

[33mcommit 046c583f01612e025d3c32e71ed18606b0c1b8cc[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sat Jan 7 14:16:14 2017 +0800

    upgrade zlib (#1472)

[33mcommit 907891c41fcbf41451dd4f9cebed3f4e235a9a30[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Jan 6 17:27:05 2017 +0800

    scan with upper bound (#1470)

[33mcommit 5067060c20990d5ae7e0c8bd62c3b66933d714ff[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Jan 6 15:44:45 2017 +0800

    upgrade Zlib (#1469)

[33mcommit 609afb056dad9b62774bb5a94ac298829d664e56[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Fri Jan 6 11:44:49 2017 +0800

    raft: port pre-vote feature (#1444)

[33mcommit 45e92ab12daf9a0d181b9f90d962aaa097b1f5cc[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jan 5 14:46:55 2017 +0800

    *: upgrade rustc (#1465)

[33mcommit 2d023de1453ba2e24c3ad909dd99bcd996deec83[m
Author: Shirly <AndreMouche@126.com>
Date:   Wed Jan 4 23:29:54 2017 +0800

    return error StoreNotMatch when store id not match (#1457)
    
    * [issues_2294 in tidb]: return error StoreNotMatch when store id not match.

[33mcommit 0e00c9021f09f6fd398d43f1d361d165ecf3dd3a[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Jan 4 02:55:37 2017 -0600

    *: make clippy happy (#1464)
    
    * *: make clippy happy

[33mcommit da69c6704ea1971a7be00bc7b3e3afd6de3652cd[m
Author: disksing <i@disksing.com>
Date:   Wed Jan 4 15:09:34 2017 +0800

    distsql: support `NullIf`. (#1463)

[33mcommit a4b42adf3a6ca7e840836ba486d631a536289b26[m
Author: disksing <i@disksing.com>
Date:   Wed Jan 4 14:08:43 2017 +0800

    distsql: support `IfNull`. (#1461)

[33mcommit 2d03d1c83ae3b2da71ced6aabfa93db7c2d7abdd[m
Author: disksing <i@disksing.com>
Date:   Wed Jan 4 12:47:31 2017 +0800

    distsql: support `If`. (#1459)

[33mcommit debe0bfb113e238da7a373e8a2bf7a19fe52474a[m
Author: disksing <i@disksing.com>
Date:   Wed Jan 4 11:52:50 2017 +0800

    distsql: support `IsNull`. (#1460)

[33mcommit 0d40e55b1841c9be5c3fba7a97b87ed4281aedb6[m
Author: disksing <i@disksing.com>
Date:   Sat Dec 31 22:06:43 2016 +0800

    *: make test_scheduler_leader_change_twice more stable. (#1450)

[33mcommit 2bd53659a7532838fba612cd8e1fc492ee90f1b7[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Dec 30 20:57:58 2016 +0800

    util/codec: fix get valid float (#1454)

[33mcommit 3bbbd9c10f79572c77dfee42c94ce05712fcb414[m
Author: Shirly <AndreMouche@126.com>
Date:   Fri Dec 30 18:53:56 2016 +0800

    Revert " return error StoreNotMatch when store id not match" (#1456)

[33mcommit 6ac5389ad7b92ad3adb187eb301bb53366cac2a6[m
Merge: 763ae40d 3249ba34
Author: Shirly <AndreMouche@126.com>
Date:   Fri Dec 30 18:51:24 2016 +0800

    Merge pull request #1455 from pingcap/shirly/store_not_match
    
     return error StoreNotMatch when store id not match

[33mcommit 3249ba34d7079bdfb50b9d85067040affd7c387a[m
Author: wuxuelian <wuxuelian@trthi.com>
Date:   Fri Dec 30 18:22:20 2016 +0800

    [issues_2294 in tidb]:fix bug in test

[33mcommit 663782fd234ab3623d5b513bc8034cdfe5d8d084[m
Author: wuxuelian <wuxuelian@trthi.com>
Date:   Fri Dec 30 16:35:00 2016 +0800

    [issues_2294 in tidb]:init test

[33mcommit f7eb88e0c26146e78e47a41863c9eb465b0e8c92[m
Author: wuxuelian <wuxuelian@trthi.com>
Date:   Fri Dec 30 14:30:44 2016 +0800

    [issues_2294 in tidb]:refmt code

[33mcommit 763ae40dff189e4eddb4088a0053eae9e041f4a6[m
Merge: 3328d6ac f5700c27
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Dec 30 11:45:49 2016 +0800

    Merge pull request #1451 from pingcap/huachao/cluster-id
    
    server/node: exit with error message if cluster id mismatch

[33mcommit d162c212292f7f4841a23816aab5e0b91f369b1d[m
Author: wuxuelian <wuxuelian@trthi.com>
Date:   Fri Dec 30 10:56:56 2016 +0800

    [issues_2294 in tidb]: make StoreNotMatch's params start with '_',as they are unused now(maybe we will use it one day)

[33mcommit 171e3702e62ee3fd8b34002e2c207a3e0d8da562[m
Author: wuxuelian <wuxuelian@trthi.com>
Date:   Thu Dec 29 21:10:29 2016 +0800

    [issues_2294 in tidb]: return error StoreNotMatch when store id mismatch

[33mcommit 3328d6ac5470fbd2846c0a2e449855eb2cffee89[m
Author: cuiqiu <cuiqiu.bupt@gmail.com>
Date:   Thu Dec 29 20:21:14 2016 +0800

    Update beta to rc version. (#1453)

[33mcommit f5700c27212c0342f4786592acc17f113eb393e9[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Dec 29 12:35:28 2016 +0800

    use uppercase ID

[33mcommit 02c4504b5b79e527e16a6e256a18448f4682997c[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Dec 29 11:50:55 2016 +0800

    server/node: exit with error message if cluster id mismatch

[33mcommit a781b19174cc882231d5fd323b0206e1f1a78b99[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Dec 27 14:08:55 2016 +0800

    raftstore: don't panic when receiving stale snap (#1443)

[33mcommit 4602669aa1602165e555df72817f14095a966ebc[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Dec 27 01:11:18 2016 +0800

    enlarge default write-buffer-size and target-file-size (#1445)

[33mcommit ab92c2fbdeb37978a3b45b600c41d0e5b11db7e2[m
Author: iamxy <kenneth.liu.xy@gmail.com>
Date:   Mon Dec 26 16:34:30 2016 +0800

    Makefile: support for custom CARGO_TARGET_DIR (#1446)

[33mcommit 1c8be97cc698b34f306d268e3832dde4e7f5d5cc[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Dec 26 14:51:01 2016 +0800

    tests: wait more time to get down peers reported (#1438)

[33mcommit b242f9704e1343091c7d7d565156a85147eeed0a[m
Author: disksing <i@disksing.com>
Date:   Mon Dec 26 13:54:32 2016 +0800

    storage: move raw_get to thread pool. (#1434)

[33mcommit 4d1f1ac39af3c2b6b657095e1f231b806ab54462[m
Author: Andy Librian <andylibrian@gmail.com>
Date:   Sun Dec 25 22:06:19 2016 +0700

    README.md : fixed deadlink in next steps (#1441)

[33mcommit d2addb476aaf39b16848c91cae3ff9949a3bff9b[m[33m ([m[1;33mtag: rc1[m[33m)[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Dec 22 18:16:24 2016 +0800

    *: handle truncate error  (#1423)

[33mcommit bec54c1571acc32e03353a554179ff11e3775042[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Dec 22 15:17:59 2016 +0800

    raftstore: handle raft ready in batch (#1420)

[33mcommit 4f2b32ef869126e2acf54e00328f3074cae55027[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Dec 22 14:28:41 2016 +0800

    optimize for short value (#1407)
    
    Store short value in write cf along with commit information to reduce space amplification for short key/value pairs.

[33mcommit 9a4c644128f9eaac2c4de0b5d57f7fcb9aeac042[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Dec 22 10:07:17 2016 +0800

    cache index and filter blocks in block cache (#1422)

[33mcommit 76994b8cb520365c46e001c741c6028defbc28fc[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Dec 21 14:30:19 2016 +0800

    store: support rocksdb memory metrics. (#1415)

[33mcommit 7f52fd79dc99051a2831a0fda8e193ae8846e3b4[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Dec 20 19:42:11 2016 +0800

    txn: skip constraint check for prewrite when loading data (#1411)

[33mcommit d7791b0ac7457e572dd7c55838fb68e24ea6d6da[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Mon Dec 19 15:21:09 2016 +0800

    sever, raftstore: report snapshot sending status reliably (#1394)

[33mcommit 285d485c59bf915cb4c65ff73e11b7ffa7efeca3[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Dec 17 12:50:51 2016 +0800

    raftstore: reduce read snap file times (#1381)

[33mcommit 3f7c23f645c454f044d186a048328c0891622463[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Dec 12 20:47:02 2016 +0800

    only delete file when cleaning up (#1409)

[33mcommit b132153e90f840a22d979e10dfc5184c4e32b7c8[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Dec 12 20:46:38 2016 +0800

    disable data sync when loading data (#1369)

[33mcommit 3dfee4d2ce02cc65dc7f54c9e716f5f83661ec42[m
Author: disksing <i@disksing.com>
Date:   Mon Dec 12 18:55:48 2016 +0800

    storage: add rawkv metrics. (#1410)

[33mcommit 8dffb2a6c7ba7764bd961c326517406450a2f90c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Dec 12 11:42:05 2016 +0800

    raftstore: tiny tuning (#1401)
    
    - set a smaller tick interval to make raft base tick more accurate
    - add some logs
    - keep snapshot for longer time

[33mcommit d5b5eb3ab1d2f441600b8a1f4fee9bad7fb649d7[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Dec 9 20:24:03 2016 +0800

    make clippy happy (#1405)

[33mcommit d3d03a9f58b096a900fbf7667219083dde1f3baa[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Dec 9 16:51:24 2016 +0800

    *: make clippy happy (#1402)

[33mcommit 63441a203123d563c8f24c585a6bab49b5b4f604[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Dec 9 15:18:18 2016 +0800

    Revert "bin: add rocksdb log-dir option" (#1404)

[33mcommit c8b0b365c66412ef90207d0475652f21f9fc3cc4[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Thu Dec 8 18:57:12 2016 +0800

    raftstore: ensure conf change is safe before proposing (#1398)

[33mcommit 9cf2800353710a24d4ffc31a91ee5605b48e6592[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Dec 8 13:09:31 2016 +0800

    bin: add rocksdb log-dir option (#1391)

[33mcommit 44ed574e156c7cab2e74e287ac6a2ab594bb60f1[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Dec 8 12:11:21 2016 +0800

    raftstore: report pending peers (#1395)

[33mcommit 127943eac96d8cf0d535af9d979e184d5c426e8d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Dec 8 00:31:12 2016 +0800

    tikv-server: bind port lazily (#1400)

[33mcommit 6ae489c48855238e2c55f3b49bf229c01ca05c3a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Dec 7 22:07:22 2016 +0800

    *: speedup shutdown (#1385)

[33mcommit 730de1b404c92107707525769735e04793dc4844[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Dec 7 14:25:35 2016 +0800

    worker: clean up size_cnt  after write. (#1399)

[33mcommit 98ae29ede1066054c0552c2d96fad5be7b93e2c0[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Dec 7 10:08:05 2016 +0800

    *: support online backup (#1355)

[33mcommit 24bf7b1252401c6d48ce0e843c004aca612a946a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Dec 6 15:17:31 2016 +0800

    raftstore: report server is busy (#1390)

[33mcommit 496c10f08570dc047ccf59a3c40932118dcccf55[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Dec 6 13:20:37 2016 +0800

    speedup debug build (#1393)

[33mcommit 137960c0eadf257d16fc155acc94a52db79baf11[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Dec 6 10:11:35 2016 +0800

    raftstore: register consistency check (#1389)

[33mcommit 0c50effde49f7c783fc12e79b39e33d95d358bfb[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Dec 6 01:32:45 2016 +0800

    tests: retry when get StaleCommand error (#1387)

[33mcommit 0b33de5a5aa37b391f261e79f9e5711e57bf094c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Dec 6 01:32:05 2016 +0800

    config: use millis for all interval (#1392)

[33mcommit 35e54b2cf4f0d9270f90ea1eef88dc634476d8e8[m
Author: ShuYu Wang <andelf@gmail.com>
Date:   Mon Dec 5 19:57:49 2016 +0800

    CI: Add CircleCI support (#1384)

[33mcommit 28b223fbf2809f9909b778f536425d34574edede[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Dec 5 18:18:43 2016 +0800

    max total wal size (#1388)

[33mcommit 14ab126f6f8155c502e9d9701b6c613d18e61a6d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Dec 5 11:53:06 2016 +0800

    raftstore: expose split interval (#1386)

[33mcommit 8a120c035d8025e2477e7800a81c652539018460[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Dec 5 00:05:53 2016 +0800

    raftstore: fix possible stale snap state (#1375)

[33mcommit d332929cd1987a8edde3f3eb5db3b07b68216b26[m
Author: disksing <i@disksing.com>
Date:   Fri Dec 2 10:12:17 2016 +0800

    check raftcmd term. (#1328)

[33mcommit 20671bcf0f624af03b8d42927710fdf28cd98300[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Dec 1 15:19:33 2016 +0800

    pd: validate PD endpoints (#1201)

[33mcommit 79253bdd77e0f6e3022783bc4e58ed0c1b77e570[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Nov 30 16:33:04 2016 +0800

    store: add get ready and append log metric. (#1380)

[33mcommit f0424a43b2ed3a9cd1afc877a5de142794cd3721[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Nov 29 14:47:38 2016 +0800

    *: update prometheus and fix compile error (#1370)

[33mcommit 567a636d9d0955a9de508c9681681a26447d0a1b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Nov 29 14:20:10 2016 +0800

    raftstore: support consistency check (#1344)

[33mcommit 41f52047b48284611593f9d4b9d3d040d71755ff[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Nov 29 13:40:34 2016 +0800

    bin: remove deprecated option (#1371)

[33mcommit 93ffe2573a0036b8fd4cdb08845bc2ff144e2e57[m
Author: disksing <i@disksing.com>
Date:   Mon Nov 28 18:30:14 2016 +0800

    kvrpc: add raw kv api. (#1364)
    
    * kvrpc: add raw kv api.

[33mcommit 1fc4cd09929403bff5d6e6b66544b408a5ccd8a8[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Nov 28 17:25:44 2016 +0800

    store: cache propose metric and flush in batch. (#1352)

[33mcommit 530d769f84c0865f30ce2447067bece0938ae835[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Nov 28 17:15:24 2016 +0800

    raftstore: schedule log gc by size (#1362)

[33mcommit c8774ee2f42404552d270143983844dc60eb80fc[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Nov 28 17:10:50 2016 +0800

    copr: add running tasks upper bound (#1361)

[33mcommit b729c49344e2a55c463f5ecd55369eb06175637a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Nov 28 15:09:56 2016 +0800

    ci: use fixed version rustfmt (#1368)

[33mcommit 528f96148a9cecbfbb9481c4f320e56925c63246[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Nov 28 13:33:08 2016 +0800

    bin: exit without painc stack (#1367)

[33mcommit ca30e2b9fd80b61b65a41d9918497177801993ef[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Nov 25 20:48:47 2016 +0800

    Strict check advertise address (#1345)
    
    * bin: check advertise address more strictly

[33mcommit 4a92e28ad4ab0eda7ab566c1b756499fe867d7d7[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Fri Nov 25 18:05:23 2016 +0800

    raftstore: improve lease read (#1327)
    
    * raftstore: improve lease read

[33mcommit 19b7db08dbe1c280ac5353e838b75ed48098a1f7[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Nov 25 17:57:13 2016 +0800

    max bg flushes configuable (#1358)

[33mcommit 002f169e37027b8ada9c9f6e49e17db676af2b37[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Nov 25 12:21:14 2016 +0800

    util: add pending task metric for Worker (#1354)
    
    close #1146.

[33mcommit 968692ced38e060d0f273dac038e47247248d74d[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Nov 25 11:22:14 2016 +0800

    bin: dump all cf stats and db stats. (#1357)

[33mcommit f7cf43b861f5dc1501cea1f1d39827b4aa59557b[m
Author: Ivan.Yang <mrmiywj@users.noreply.github.com>
Date:   Thu Nov 24 22:52:12 2016 +0800

    raft: do no attch term to MsgReadIndex (#1353)
    
    raft: do no attch term to MsgReadIndex

[33mcommit 0833e7f379dfbd05f8a656a00dc5522e1fa4a505[m
Merge: 589df54f 720b9d58
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Nov 24 20:35:44 2016 +0800

    Merge pull request #1349 from pingcap/huachao/labels
    
    *: add and report store labels to PD

[33mcommit 720b9d589c10b4b61a2e71275405ca08e0266e02[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Nov 24 19:38:19 2016 +0800

    util/config: address comment

[33mcommit 589df54f06f2f08ae46f2d67776645675e6990b3[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Nov 24 17:48:24 2016 +0800

    config: expose lock compact interval (#1346)

[33mcommit e94477a488dff3c472b874ca399e3918498bf1df[m
Author: disksing <i@disksing.com>
Date:   Thu Nov 24 17:37:01 2016 +0800

    mvcc: fix gc bug. (#1350)

[33mcommit 90bb86017ad8aa097a4d50a1e9cc56d8cc1920f8[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Nov 24 13:31:57 2016 +0800

    util/config: address comment

[33mcommit 83a164d3d5310574cefbae9784ecb0723c2fe4f1[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Nov 24 12:09:14 2016 +0800

    *: add and report store labels to PD

[33mcommit 5f3c83639c9e10778a7a22aef114f923e57b5a09[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Nov 23 19:47:11 2016 +0800

    engine: enlarge buckets (#1341)

[33mcommit 8a157327931e4ffeb16eb3d9cbd1c261b507c9bd[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Nov 23 09:55:31 2016 +0800

    raftstore: split handle ready to append + apply (#1322)

[33mcommit 25e3666f9823892060e8adaad8e91c1f015067af[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Nov 22 21:19:30 2016 +0800

    copr: aggr null for first (#1339)

[33mcommit 7d1f0c6d659632566824f9c006c0770560124e4c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Nov 22 18:51:07 2016 +0800

    bin: check listen address and advertise address (#1335)

[33mcommit 64c6fbe038c2bc5c8c1de4a825e7176079cbbb9b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Nov 22 12:37:32 2016 +0800

    copr: check outdated task (#1324)
    
    * copr: check outdated task

[33mcommit b931228549f9d8564d4f81ff6e5e2985e3643014[m
Author: disksing <i@disksing.com>
Date:   Mon Nov 21 22:11:09 2016 +0800

    *: merge dev to master (#1320)

[33mcommit 46a1fc04e4641e1d6c559f4312040bd4c267c1e1[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Nov 21 21:45:06 2016 +0800

    store: tiny clean up (#1331)

[33mcommit 688644a22e1ecd4c38b91443a514306cba322e4f[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sun Nov 20 14:50:54 2016 +0800

    bin: clean up flags and configurations parsing (#1307)

[33mcommit 8749bba88c508eed9f1b19684f29664c184379c1[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Nov 20 11:19:02 2016 +0800

    raftstore: use fs2 to get disk stats (#1323)

[33mcommit ec274361fea4f3ddbeaf950ff5324775bb9536d4[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sat Nov 19 16:08:10 2016 +0800

    enlarge scheduler latches bucket (#1321)

[33mcommit a0204dfe3b6ad1673ba30d45fe2243036625e188[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Nov 17 15:28:54 2016 +0800

    raftstore: check if message is discard after proposal (#1315) (#1316)

[33mcommit eb7efc6f7817df6658ee3d4b09bedfce8a10b35a[m
Merge: f7407dba ef0ca865
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Nov 15 14:07:06 2016 +0800

    server: report failure message (#1313)
    
    Rename RAFT_STORE_MSG_COUNTER to REPORT_FAILURE_MSG_COUNTER.
    
    Report store id in failure message.

[33mcommit f7407dbaa828ec5a546c6b7278730eb7a4e1bcb5[m
Merge: 104ccda7 1ede8590
Author: disksing <i@disksing.com>
Date:   Tue Nov 15 12:56:42 2016 +0800

    Merge pull request #1302 from pingcap/disksing/lock-ttl

[33mcommit ef0ca86539f71ad031cdfab9750bc9da52e73918[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Nov 15 12:52:08 2016 +0800

    server: report failure metric
    
    Rename RAFT_STORE_MSG_COUNTER to REPORT_FAILURE_MSG_COUNTER.
    
    Report store id in failure message.

[33mcommit e95ccb061dec0e4abdfaff45744ae72748d53b85[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Nov 14 18:13:12 2016 +0800

    server: add unreachable store id

[33mcommit 1ede8590f6d9407aa1e558beff4d16b755f22030[m
Merge: 86368b2a 104ccda7
Author: disksing <i@disksing.com>
Date:   Mon Nov 14 16:36:38 2016 +0800

    Merge branch 'master' into disksing/lock-ttl

[33mcommit 86368b2a7277a25dc39ed7f286da5429d29c2ec2[m
Author: disksing <i@disksing.com>
Date:   Mon Nov 14 16:20:41 2016 +0800

    update cargo.

[33mcommit 104ccda73b25e51687b68d87b44ee930a2e1f584[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Nov 14 14:27:09 2016 +0800

    Cargo: update prometheus (#1311)
    
    * enable feature "push"

[33mcommit d64ed1256e7fff403e38d140ea552b87852b9a44[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Nov 14 08:41:43 2016 +0800

    worker: remove unnecessary const label. (#1304)

[33mcommit 9a1ceec232eabfd7d7b0b58d003e33547461b1b8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Nov 14 08:41:15 2016 +0800

    fix compile error with old nightly rustc (#1310)

[33mcommit 4d74b6161b573489b7e529556943a678d3314ec8[m
Author: Shen Li <shenli3514@gmail.com>
Date:   Sun Nov 13 22:43:59 2016 +0800

    README: Fix link (#1303)

[33mcommit 505f1ece968612c6c1035af72f00f3976417b21c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Nov 13 22:04:16 2016 +0800

    config: try updating soft limit before failing (#1308)

[33mcommit 1050931de5d9b47423f997d6fc456bd05bd234a7[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sun Nov 13 13:37:13 2016 +0800

    fill cache (#1309)

[33mcommit ca724078ad8052207fc08e2f9f985c35976d5863[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Nov 12 14:31:18 2016 +0800

    util: remove event (#1306)

[33mcommit c57d4c9372a53aa1acd8ee15245db9b49379dad5[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Nov 11 20:45:15 2016 +0800

    Check system parameters before startup (#1289)

[33mcommit 4c0d1eeb345d8af6e894797bea982c7d6a770284[m
Author: disksing <i@disksing.com>
Date:   Fri Nov 11 14:38:51 2016 +0800

    tikv-ctl: mvcc support both encoded/unencoded key. (#1295)

[33mcommit 30652842162367a204dfdfd52306e29731d75ed0[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Nov 11 13:16:32 2016 +0800

    store: add propose log histogram metric (#1292)

[33mcommit 724a90fc510f8828e2e827529a1bd123ce22195a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Nov 10 22:11:56 2016 +0800

    tests: make snap gc more stable (#1298)
    
    * make snap gc more stable

[33mcommit 936abf05de577f93c13d2725cec869f6c98a8e07[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Nov 10 19:17:42 2016 +0800

    util, bin: check addrs (#1282)

[33mcommit 60fcd69019b04fc064be7597072cf149911b3f6e[m
Author: disksing <i@disksing.com>
Date:   Thu Nov 10 17:44:46 2016 +0800

    mvcc: add lock ttl.

[33mcommit 1f91de32e7d7a1b8ecfe8f676bda2e4cdb879d08[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Nov 10 16:15:31 2016 +0800

    pd/client: add more retries (#1285)

[33mcommit 6c1071f96e3072029547c2aef873df228e5ae40b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Nov 9 19:29:57 2016 +0800

    add region scan (#1281)

[33mcommit d534296e75de22761cdef1fc3b96a2ae691dc972[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Nov 9 14:30:44 2016 +0800

    tests/raftstore: add config for test raftstore (#1288)

[33mcommit 3469aca938e5c674ccb89909da37281b5f1c2e75[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Nov 9 13:37:47 2016 +0800

    bin/etc: refactor rocksdb config (#1270)

[33mcommit a9c542bcc10809cacf0d02d0a7099a88671e8767[m
Author: disksing <i@disksing.com>
Date:   Wed Nov 9 13:11:55 2016 +0800

    scheduler: resolve lock by batches. (#1271)

[33mcommit 11707898f432214f6a49a746d1ebbb2e4fc51e01[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Nov 9 12:18:55 2016 +0800

    raftstore: fix potential data inconsistency (#1287)

[33mcommit 7a87777bb83a10aa956ad0a05f186846fedc1bcd[m
Author: dongxu <i@huangdx.net>
Date:   Tue Nov 8 11:31:23 2016 +0800

    add pronounce guide in readme (#1277)
    
    * add pronounce guide in readme
    
    * address comments
    
    * address comment

[33mcommit 528fc94ed9b0be9cd294eeaee26d203a8946d700[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Nov 7 20:34:31 2016 +0800

    raftstore: add applying snap count (#1278)

[33mcommit b2274fe7d3621326c7aa59de6a65afcc9fae7ca8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Nov 7 20:09:04 2016 +0800

    tikv-ctl: support raw raft log key (#1273)

[33mcommit 1b073638234cb10e91e9e3e55998e6ff4fa4f766[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Nov 7 17:30:08 2016 +0800

    raftstore: slow down heartbeat and election (#1275)

[33mcommit ea38cbecff6965cb57481bb922dd943130cb39fb[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Nov 5 19:54:24 2016 +0800

    raftstore: refactor apply error handle (#1266)

[33mcommit 507b82de046b216f4e5f36b9e0927840d985611b[m
Author: Ivan.Yang <mrmiywj@users.noreply.github.com>
Date:   Fri Nov 4 22:20:52 2016 +0800

    [DNM] add tikv-ctl support for MVCC (#1196)
    
    add tikv-ctl support for MVCC

[33mcommit ffdf6af0538f997ef31c06a2cb9b19c846baf185[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Nov 4 21:02:59 2016 +0800

    [DNM] tikv-server: get cluster id from PD (#1257)
    
    * tikv-server: get cluster id from PD

[33mcommit b5e5176f6293bf7d92a072760c15f02ce68cbd2b[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Nov 4 11:38:20 2016 +0800

    raftstore/store: add start time (#1268)

[33mcommit ca23f496563abd73ea7d13184c99a92aa938a26d[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Nov 3 15:26:04 2016 +0800

    improve test coverage (#1265)

[33mcommit bbccc83efaa04494617eccff9890039721cc7cf7[m
Author: disksing <i@disksing.com>
Date:   Thu Nov 3 11:52:23 2016 +0800

    storage: improve test coverage (#1259)

[33mcommit 118dce78719d68ade22c838047d1ab57857d2aa9[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Nov 3 11:05:10 2016 +0800

    escape log (#1264)

[33mcommit a51cba2fdc14640b319ece8b43daccfd7708bc7d[m
Author: disksing <i@disksing.com>
Date:   Wed Nov 2 17:14:35 2016 +0800

    storage: adjust mvcc metrics. (#1260)

[33mcommit 48a5a84dee4e3d28b73ea877d79768acd8aa6e68[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Nov 2 13:59:05 2016 +0800

    raftstore: include snap size into used_size (#1252)

[33mcommit d73a257527f7d1e214dfc3e94f4b09203e334a84[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Nov 2 13:47:27 2016 +0800

    update log (#1258)

[33mcommit 070c3caf2dbcd61fc10b6d55485f38c99b6c922b[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Nov 2 09:39:22 2016 +0800

    bin: dump rocksdb statistics (#1254)

[33mcommit 746a3a108be007a15d49adf1cb60727f6eccd375[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Nov 1 21:57:27 2016 +0800

    storage: allow linear reverse seek in lock cf (#1233)

[33mcommit 5a9d8fa1509730d706793c19ab2a1d2067ba4351[m[33m ([m[1;33mtag: beta4[m[33m)[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Nov 1 16:19:11 2016 +0800

    rocksdb: scan not fill block-cache (#1251)

[33mcommit b2de36cdc212e16314c731fb02f5a63065d33907[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Nov 1 15:12:39 2016 +0800

    unified default value and config file (#1253)

[33mcommit 854ef53cc9657ce53157830f0c5d5f8dfc9e1fbf[m
Author: disksing <i@disksing.com>
Date:   Mon Oct 31 15:43:52 2016 +0800

    kvrpc: support skip values for scan. (#1218)

[33mcommit 7fed08113f968c7154948c0e4732e3defb638478[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Oct 31 14:24:25 2016 +0800

    add rocksdb metrics (#1249)

[33mcommit 244f7232243c6b534dbde569467771c3dbf4264b[m
Author: disksing <i@disksing.com>
Date:   Mon Oct 31 13:55:55 2016 +0800

    raftstore: separate manual compaction to a different worker. (#1242)

[33mcommit b3d3fad16bec2e81513b402584b4bc4bbe481f59[m
Author: disksing <i@disksing.com>
Date:   Mon Oct 31 11:09:10 2016 +0800

    mvcc: add metrics for versions (#1248)

[33mcommit 7fe4b2d403ba753329ddd93885b6f9ebca183682[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Oct 29 22:05:19 2016 +0800

    raftstore: fix apply check (#1247)

[33mcommit 1cea708a05fdf7dfad4c6e57a8b0371148cfec4f[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Oct 29 12:40:02 2016 +0800

    server: log tikv ready to serve (#1246)

[33mcommit 89a835440a451acd45fb1094ebd47b67796563b3[m
Author: Liqueur Librazy <im@librazy.org>
Date:   Sat Oct 29 08:52:37 2016 +0800

    bin: add flag to print version information (#1245)

[33mcommit 4f299731a4db795eec370a6f3c93d5406bbc898b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Oct 28 17:29:24 2016 +0800

    storage: log suspicious none (#1237)

[33mcommit 7e1993d98960c9e8a9e3e5ff1bf632af3866dc25[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Oct 28 16:15:14 2016 +0800

    raftstore: check range before replica a peer (#1219)

[33mcommit c7f1fae775c1394ecea174a08b31e82f1bd413ad[m
Author: disksing <i@disksing.com>
Date:   Fri Oct 28 15:40:47 2016 +0800

    raftstore: update compact config. (#1241)

[33mcommit d7fb65247fd0cb9001475a19a6d58acc1e8a8b77[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Oct 28 14:51:04 2016 +0800

    record last compacted position (#1230)

[33mcommit fd9897bb5bae01b07e817cba439c9db754cd0224[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Oct 28 13:47:23 2016 +0800

    raftstore: make sure callback is called (#1224)

[33mcommit 24effcb46555c53a7a08ea9e4c6be6ca83e48a31[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Oct 28 13:14:30 2016 +0800

    bin: update help message (#1238)

[33mcommit 80e47aa8543a80098eea8c984fd01717c74e2766[m
Author: disksing <i@disksing.com>
Date:   Thu Oct 27 20:07:30 2016 +0800

    raftstore: make manual compaction configurable. (#1234)

[33mcommit 26246dccd1556d59fa93daefc977b6c90073789b[m
Author: disksing <i@disksing.com>
Date:   Thu Oct 27 20:07:17 2016 +0800

    util: add metrics for channel full. (#1232)

[33mcommit c8734ea10dae38c9e076586a751838eb24b4ef91[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Oct 27 19:48:11 2016 +0800

    tuning scheduler too busy threshold (#1235)

[33mcommit ce1233e6abde47424da017a9cae18d250adb52c6[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Oct 27 14:02:26 2016 +0800

    copr: support case when and coalesce (#1227)

[33mcommit 487ab3b045aa917ae4611eb1989ca7d2c661332d[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Oct 26 16:02:52 2016 +0800

    set max-open-files (#1222)

[33mcommit b9b79af0edf4d1b8365f3a0629d5428b2f4d40cb[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Oct 26 14:33:01 2016 +0800

    rocksdb: use features to control linking (#1220)

[33mcommit dee05a9a56a3fc2814e8524874de13b7b8768055[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Oct 25 21:30:10 2016 +0800

    copr: support muliply (#1216)

[33mcommit fdb7d219d9d7b16864d9da5ab0fa4911d03fe611[m
Author: disksing <i@disksing.com>
Date:   Tue Oct 25 17:07:30 2016 +0800

    scheduler: add timer for latch wait. (#1211)

[33mcommit 52778686489a114d6271a6982832287145ac14a0[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Oct 25 13:10:43 2016 +0800

    raftstore: use atomic to control snapshot progress (#1210)

[33mcommit 4dbdc01b9452fa4da2dc94408eddd523db911ebb[m
Author: disksing <i@disksing.com>
Date:   Mon Oct 24 16:11:08 2016 +0800

    server: remove local rocksdb dsn. (#1209)

[33mcommit 56085978b156a4eb57dc26ba1b55f0a3a2d4f7c1[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Oct 24 14:33:42 2016 +0800

    config: increase default pd-heartbeat-tick-interval (#1208)
    
    1. Split/ChangePeer will be reported to PD immediately.
    2. PD's balancer will not schedule the same region in 2 minutes.
    
    So, increase the heartbeat interval to 60s should not affect
    the current behavior.

[33mcommit 10ffdefe2763b7bb8ce6351872b14d423d9d755f[m
Author: disksing <i@disksing.com>
Date:   Mon Oct 24 12:59:51 2016 +0800

    raftstore: manually compact region after delete a lot of keys. (#1204)

[33mcommit 0c1fc29cf5aefd1ec395ff65582b1474c305b43b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Oct 22 22:11:37 2016 +0800

    skip value when possible (#1192)

[33mcommit 7805933a7a17dff4aa04e5a4b8261f636a8fe654[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Sat Oct 22 18:24:04 2016 +0800

    shrink send buffer after a big query (#1205)

[33mcommit ae81cd5d5620b3891109328c0448eabbb4076029[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Oct 22 15:35:58 2016 +0800

    raftstore: clean temporary file when startup (#1197)
    
    * raftstore: clean temporary file when startup

[33mcommit 1a28df1bde5b5540303411930c57e93b4436bbe8[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Oct 21 19:51:00 2016 +0800

    add more metrics for scheduler (#1200)

[33mcommit cf72a83d1548ac893a5da6259d03e6bd0136e7a4[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Oct 21 14:33:20 2016 +0800

    ci: add format check (#1199)

[33mcommit c8f3d41909c0a0f8ea581e5588634a88471c2193[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Oct 21 10:16:08 2016 +0800

    server: fix report_snapshot (#1198)

[33mcommit caf91f55b57d55c3d61d9306b51d398b25009782[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Oct 20 19:28:24 2016 +0800

    pdclient: adjust get region by id (#1188)

[33mcommit 6395288089f9fe55330e184abfe85e5235c2b415[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Oct 20 18:38:11 2016 +0800

    storage/scheduler: flow control (#1195)

[33mcommit fefec4cea5ecf37adaaf59fda90b759b77e47745[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Oct 20 15:18:59 2016 +0800

    storage: tuning scheduler latches size (#1194)

[33mcommit 61508c896f42556371cad2cf3decce68f2b8022a[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu Oct 20 14:41:10 2016 +0800

    util: remove "the" (#1191)

[33mcommit 233e7486887cf2eac988e53d1b89528359388240[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Oct 20 00:00:56 2016 +0800

    raftstore: speed up canceling applying snap (#1182)

[33mcommit 4b6a7573a1c2bbb7031d636ceb0bcd2e4083a971[m
Author: Ivan.Yang <mrmiywj@users.noreply.github.com>
Date:   Wed Oct 19 16:15:07 2016 +0800

    add tikv-ctl (#1163)
    
    * add tikv-ctl
    * remove tikv-dump.rs

[33mcommit 2241afcbe6e2bd43f9843c3e0cb4b84e6c0eda75[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Oct 18 22:50:58 2016 +0800

    raftstore: check stale region with region id (#1184)

[33mcommit 9a189347b330fb353f7beaf78b1b2fd6b4779a8d[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Oct 18 22:42:09 2016 +0800

    coprocessor: simplify metric. (#1181)

[33mcommit 47bd4e4ed71e980b8dfef6adcaabb6e1b814009b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Oct 18 15:32:55 2016 +0800

    copr: support more ops (#1180)

[33mcommit f633c174394097c6979836869433e0a7450bed3e[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Oct 17 14:12:34 2016 +0800

    bin/etc: make raft cf configurable (#1171)

[33mcommit 3f5145fb247850d754301d59bee074a709b662f4[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Oct 17 11:18:09 2016 +0800

    raftstore: avoid deleting other region's data accidentally (#1174)

[33mcommit 23364df3e6fe05c28dae2225f7d435aea62151de[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Oct 15 20:59:51 2016 +0800

    docker: speedup release build (#1175)

[33mcommit 7bbd84b23ee74d6aaf59f38594d7d5e03555f2da[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Sat Oct 15 11:23:17 2016 +0800

    raftstore: fix typos (#1170)

[33mcommit 05f55ace55b39848b74b7c199656e8c7592b8bb6[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Oct 15 10:25:44 2016 +0800

    copr: support timezone (fixed offset) (#1166)

[33mcommit 85ecef84eda983d7670260b411feb46a150e79dd[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Fri Oct 14 19:01:05 2016 +0800

    test/raftstore: fix test case for stale peer gc (#1167)
    
    close #1149

[33mcommit 879f499ea3f53a2923545d32955f5dee8eefe9a7[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Oct 14 17:52:12 2016 +0800

    docker: downgrade release docker rustc (#1169)

[33mcommit fae5309dc635691666137af0ac85e1864f946940[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Oct 14 12:11:27 2016 +0800

    raftstore: check truncated index when calc last term (#1168)

[33mcommit d7e3e9ffa4543eb52b37180af695293704e5424c[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Thu Oct 13 20:10:02 2016 +0800

    raftstore/peer: add metrics for raft messages (#1147)

[33mcommit fe8debeb4143df23e7d54ad141c6a808a3440409[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Oct 13 11:35:12 2016 +0800

    makefile: support static release build. (#1165)

[33mcommit c580018eb73f22bc2ff3b20cb17d485678617f6d[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Oct 13 09:46:43 2016 +0800

    compact lock cf periodically (#1125)

[33mcommit 68efe44c3f67eebf0193789a0550810f7ee3f3b9[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Oct 13 09:24:25 2016 +0800

    compiler: downgrade compiler in release docker (#1164)
    
    
    * downgrade rustc

[33mcommit 17a320f9ca9eab20cc39a1af7f420077a54f68f4[m
Author: disksing <i@disksing.com>
Date:   Wed Oct 12 13:04:38 2016 +0800

    raftstore: attach new regions' meta along with StaleEpoch error. (#1160)

[33mcommit f9c2c93f7682d331c3daeddb4ffd1990bfcf9d87[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Oct 11 19:30:04 2016 +0800

    raftstore: cache term (#1154)

[33mcommit 6e3bb55938167d105db1c44406211587f041d54a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Oct 11 11:03:15 2016 +0800

    util: avoid unnecessary reallocate (#1161)

[33mcommit 7c233c037e3839b20b2a52fe809bb037e0d6ea3d[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Oct 11 10:13:50 2016 +0800

    server: add some metrics and cleanup logs (#1159)

[33mcommit 688b4abe8695b928fc66b57cc8bc56484dcd72c7[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Oct 10 13:29:43 2016 +0800

    server: refresh expired store address on resolve (#1156)
    
    * server: refresh expired store address on resolve

[33mcommit 1957e27fbabcf1a8a11a4166e0101a0b6c8b3186[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Oct 10 10:11:05 2016 +0800

    server: check store id before sending to raftstore (#1155)
    
    * server: check store id before sending to raftstore

[33mcommit 1ab82e4961a469e5404a2b2d9af41dc37685f580[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Oct 9 14:07:32 2016 +0800

    improve datum coverage (#1152)

[33mcommit 7a1d072035656e79c55ea5afbb3add4940de0365[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Oct 9 11:13:53 2016 +0800

    update rocksdb (#1151)

[33mcommit 9f27684c15be94609e248161e1475b2eaf4e60a1[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Sat Oct 8 18:43:23 2016 +0800

    test/raftstore: add random latency filter for simulation transport (#1120)

[33mcommit 24d0827775093fc638619d2aa62f7b1cb2041ce0[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Oct 8 15:04:23 2016 +0800

    bin, server: using default cluster id (#1141)

[33mcommit 02fcfa4d6ecfa154c1a635fd5203dfec505ed63a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Oct 8 13:57:37 2016 +0800

    *: upgrade dev tools (#1145)

[33mcommit d9c308fe5ceba4da5e6b8af162ebedc439898801[m
Author: iamxy <kenneth.liu.xy@gmail.com>
Date:   Sat Oct 8 12:43:48 2016 +0800

    docker: upgrade rust version to date `2016-10-06` (#1137)

[33mcommit a66fd3f092796dc23c2d326a48bbbbc697d246b0[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Oct 8 12:37:36 2016 +0800

    util/raftstore: add metrics for raft tick and ready total duration. (#1136)

[33mcommit 6b4d09d808531b9d8d194d7ce34553c9e1b0930a[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Oct 8 12:11:50 2016 +0800

    cargo: update uuid. (#1142)

[33mcommit 8e26fe6beebb4f6eee509d5611315a409fdfd278[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Oct 8 11:14:06 2016 +0800

    travis: fix linking (#1143)

[33mcommit 6ace1d6f97b27c86668e2b07f27597fa14f4a131[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Oct 5 15:18:10 2016 +0800

    ReadMe: fix build link error. (#1133)

[33mcommit ba65f44eef0ce13f7c4f2f647d5c59955f691cce[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Oct 1 23:29:36 2016 +0800

    bin: log panic info to file if possible (#1130)

[33mcommit 8848c94a975edd9fff2b742a313036071bf3b916[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Oct 1 09:27:07 2016 +0800

    storage/cursor: add bound and linear check (#1126)

[33mcommit ef025be55ec6210fd628bdc75cd02549f2c9051b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Sep 29 14:46:30 2016 +0800

    raftstore: don't use delete file in range (#1124)

[33mcommit 61555e86d1b995fa79c7e55f12c5d55aeec66433[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Thu Sep 29 09:00:30 2016 +0800

    tests/raftstore: unify the naming of filters and filter factories (#1119)

[33mcommit 89bb2f1bb4975e92a917b75f039314f692d3da81[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Sep 28 19:19:38 2016 +0800

    raft: improve test coverage (#1117)

[33mcommit af03ccb95ef01a7298e1f08abd91b96191a98db4[m
Author: iamxy <kenneth.liu.xy@gmail.com>
Date:   Wed Sep 28 13:54:27 2016 +0800

    docker: upgrade rocksdb  in Dockerfile (#1118)

[33mcommit 2cecbd95895591932f8a8eb5b7138605ec053d21[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Sep 28 01:02:53 2016 +0800

    raftstore: check stale snapshot (#1115)

[33mcommit 4dbf72542dd90d18c1d0898387d352e73cb6e1f3[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Sep 27 21:27:24 2016 +0800

    reuse iterator (#1116)

[33mcommit 0a22d93c291c6c76389b5b98486e6b7f678718a2[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Sep 27 12:06:23 2016 +0800

    add tests for scheduler (#1113)

[33mcommit c2130e75916db964d3f6f9651125d9a7dd835381[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Sep 26 19:52:42 2016 +0800

    tests: cover batch size check (#1114)

[33mcommit 25fba439b80dea29940f79d13274a2db90d494f5[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Sep 26 18:31:09 2016 +0800

    tests: make FilterFactory reuseable (#1105)

[33mcommit ee9c4680a8006a90c3233c9de14825c1774f00b0[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Mon Sep 26 14:23:05 2016 +0800

    raftstore/peer: add metric for raft ready request vote (#1111)

[33mcommit cce6e8804da8dcb4d148881d85038bd9d5c352b8[m
Author: disksing <i@disksing.com>
Date:   Mon Sep 26 13:17:23 2016 +0800

    kvrpc: remove obsolete cmds. (#1112)

[33mcommit cf52bd6a94a9b4fe4338266692aea91bd358f986[m
Author: disksing <i@disksing.com>
Date:   Fri Sep 23 16:37:01 2016 +0800

    storage: add tests (#1090)

[33mcommit d040abe54b49511eacfb266fc7edd36a6f9ba789[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Sep 23 16:27:10 2016 +0800

    coprocessor: remove unnecessary metric. (#1103)

[33mcommit 4f9d12b86bf5f6e7fc307de97aefe856b799e375[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Sep 23 14:10:35 2016 +0800

    remove discarded cf (#1098)

[33mcommit 54275e8ecc0dead8d8004a417d08e794acabdd6f[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Sep 23 13:38:33 2016 +0800

    store: remove unnecessary metric (#1100)

[33mcommit 3aa391c100c6ad17e6362a715c476103596ed6db[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Fri Sep 23 11:34:29 2016 +0800

    pd: add get_region_by_id() (#1096)

[33mcommit a82054408f79c2b1f562b9249894561f6f675f2c[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Sep 22 19:35:54 2016 +0800

    make rocksdb statistics configurable (#1097)

[33mcommit 67c8193314e13e9291a670f52c6a300242d159ad[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Sep 21 20:56:39 2016 +0800

    copr: always check fsp (#1094)

[33mcommit 3c2cd9dd47dfb5443cf59f341b4fa3f76ff1b220[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Sep 21 18:36:16 2016 +0800

    store: clear PEER_DO_COMMAND_HISTOGRAM (#1095)

[33mcommit 22b777a14034aeda450d6b92f018dc5b25bfd2b0[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Sep 21 17:41:04 2016 +0800

    raft: update LICENSE headers (#1093)

[33mcommit 4b53bbaff123da1c477e292cfe7d221f53b60961[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Sep 21 16:30:58 2016 +0800

    Cargo: update prometheus (#1091)

[33mcommit 020fb84d10c7bc6cf52ca0af892d50452f4c36db[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Sep 21 16:10:22 2016 +0800

    raft: port read index request on quorum check (#1032)

[33mcommit d188d5e1cf1bfcc252a0576a8e0283beb01af46f[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Sep 21 12:19:04 2016 +0800

    *: update rocksdb (#1092)

[33mcommit 2ab69b48494b4781bcddc29ca135d4a07febbacd[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Sep 21 08:15:48 2016 +0800

    store: add metric for doing raft command. (#1082)

[33mcommit aa0a26ff40d1842fc8c69f432053dd5eee46e124[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Sep 20 16:14:33 2016 +0800

    engine: remove some metrics. (#1089)

[33mcommit 82808eba5b826dad5318ced466a7405343ef2c1e[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Sep 20 14:59:13 2016 +0800

    reuse iterator when MvccReader is mainly used for scan (#1087)
    
    reuse iterator when MvccReader is mainly used for scan

[33mcommit 4bd123d0dca297b9cc551956882b9920f1e37a6a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Sep 20 14:36:17 2016 +0800

    deps: update rocksdb (#1088)

[33mcommit 01d8053c2645cba49618d326162e76d3a8e59a29[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Tue Sep 20 12:50:04 2016 +0800

    bin: add max manifest file size setting for rocksdb (#1079)

[33mcommit f5cf7e67fbd5ff5929abe9a60f4977febab044f5[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Tue Sep 20 11:52:13 2016 +0800

    raft: add tag for panic messages (#1086)

[33mcommit 12384d9b91244aac467c0e61da3d90022e884bf9[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Sep 19 22:45:16 2016 +0800

    Cargo: update prometheus (#1085)

[33mcommit 8d5d2c0f4595748a57a4be253222e588890a66aa[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Sep 19 19:19:01 2016 +0800

    add upper bound for iterator (#1060)
    
    * add upper_bound for iterator

[33mcommit ac846904aaab3dab2de76a22a64c6d483e1cab58[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Sep 19 18:17:20 2016 +0800

    Cargo: update prometheus. (#1080)

[33mcommit 367b14cb5f3073cb14018c08d6c47f5bd9b230ff[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Sep 19 15:23:55 2016 +0800

    make rocksdb recovery mode configurable (#1069)

[33mcommit 489f7c16242acbc6bcae5473993146166cbf72d6[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Sep 18 20:59:59 2016 +0800

    transport: discard droppable msg when channel full (#1054)

[33mcommit b58d8fa1a51ef060c83fc211ad16759d487e9d47[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Sep 18 17:46:18 2016 +0800

    storage/txn: tiny cleanup (#1075)

[33mcommit 5f7df5458c6127126b40c1c89ea9ad8b5c462fb9[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sun Sep 18 16:21:26 2016 +0800

    Cargo: update Cargo.lock (#1076)

[33mcommit fa99ebfb6581b195261cf5a1b2eead406bfe8730[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sun Sep 18 15:10:09 2016 +0800

    util, bin: push prometheus metrics (#1065)

[33mcommit 4531f59a2fe6b38458f4655ca59df250ecc462ed[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Sun Sep 18 12:25:02 2016 +0800

    pd: cleanup some retry logs. (#1063)

[33mcommit 0f51a17616710073ead18abd1afd4d5653a62cd6[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Sep 18 11:46:36 2016 +0800

    store: async destroy region (#1064)
    
    close #1030

[33mcommit af1f5e7ca5a783cf3e935cb877f1087acf867bcb[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Sep 17 04:05:50 2016 -0500

    worker: enable WAL (#1073)
    
    * worker: enable WAL

[33mcommit 785e2d685cd4ec0e2c73c35fef9e14101aafe211[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Sep 17 00:30:48 2016 -0500

    endpoint: fix typo (#1072)

[33mcommit 3c8ab0592621ea787da633f45370c93763cf84b2[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Sep 16 21:57:52 2016 +0800

    raftstore: update metrics and log.  (#1070)

[33mcommit 0ef64eece0f699eaed8ea1be4afcdad0f6d6a65e[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Sep 16 21:57:21 2016 +0800

    bin: use SIGUSR1 to dump metrics. (#1071)

[33mcommit fc0a715fd6d6d348f65f4fb8bd6898113f2e112a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Sep 15 17:22:50 2016 +0800

    *: use rocksdb 4.12 (#1068)

[33mcommit 8620baa7606d3e68e56d0d43781f5e46376017b1[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Sep 14 17:46:20 2016 +0800

    util: fix escape (#1067)

[33mcommit 8b585bae9ad3a2bce7fb0f1fc25d7fc3a9525953[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Sep 14 12:37:28 2016 +0800

    server: add metrics for server. (#1066)

[33mcommit d7b7038fb82056b4b12afa86787275b88dee467c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Sep 13 14:18:56 2016 +0800

    raftstore: skip deleting when possible (#1062)

[33mcommit c298117b00d3c7b612584a77d41f1d688ffdb0ef[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Tue Sep 13 10:41:48 2016 +0800

    raft: add comments for raft storage

[33mcommit 3c8c40d88309c21fa5158397bd930ad39ff110e5[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Sep 12 20:50:47 2016 +0800

    bin: handle TERM/INT signal (#1058)

[33mcommit 10b7b88cff3b49eac36f40b68f9bef07b69f5ca5[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Mon Sep 12 15:34:57 2016 +0800

    raftstore/*: gc stale peer out of region

[33mcommit ce99121d1874977be86414e051af2a2721445cad[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Sep 12 11:25:18 2016 +0800

    *: add metrics for raftkv. (#1044)

[33mcommit 382af36b0044ede27dda32f8752dd1ea948155a0[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Mon Sep 12 11:04:15 2016 +0800

    raft: port raft leader transfer exposure

[33mcommit 0dfc68b65f4c213048183875cf59a812b9cddb38[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Sep 12 10:10:50 2016 +0800

    ignore tombstone store. (#1045)

[33mcommit b33a43eb936ca418a09289c567375cde23c9c7e9[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Fri Sep 9 20:22:32 2016 +0800

    raft: add panic handling for term() due to iob

[33mcommit 06622e36f8fbe455fb53dd1c4835366a181173f4[m
Author: disksing <i@disksing.com>
Date:   Fri Sep 9 14:28:55 2016 +0800

    storage: add kv metrics. (#1046)

[33mcommit 0fe1762fb6e49d8f5c5d017bc13eaa500438f611[m
Author: disksing <i@disksing.com>
Date:   Fri Sep 9 10:29:47 2016 +0800

    *: update clippy. (#1047)

[33mcommit f42f27410784ad7b36a750c533f49b5da6f50d6b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Sep 8 16:10:19 2016 +0800

    copr: use fat bytes array (#1043)

[33mcommit 2903c787fc462653c2292ac1d3dac5397d2bdb69[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Sep 7 19:41:07 2016 +0800

    raftstore: add missing counter inc() (#1041)

[33mcommit 697dcbfe50c3d2f05b9d2172db75ecdb3ff4582a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Sep 7 16:59:25 2016 +0800

    storage: display context (#1040)

[33mcommit 79be71ab441a6508eb1758b280d3be0ca034a376[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Sep 7 16:01:45 2016 +0800

    raftstore: fix wrong last index (#1020)

[33mcommit dd6d0e6bbde0a411dfab9816904f2bb0cc155755[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Sep 7 13:33:59 2016 +0800

    ci: resolve compilation error (#1039)

[33mcommit e7afec402eb9a7f560653eadb1669dbb64c541f3[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Sep 7 13:09:00 2016 +0800

    warm up network for test read unapplied leader (#1037)
    
    * ensure network is connected

[33mcommit 9151d386437c5bb08174704a55d2f8c8677aefd3[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Sep 7 12:01:59 2016 +0800

    copr: support dividde (#1009)

[33mcommit b0434c77c70eb5e03f1c034fe9a7815223dae945[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Sep 7 10:29:01 2016 +0800

    ci: enable clippy check (#1038)
    
    * ci: enable clippy check

[33mcommit cebe90889705c492ba6fa29fb23a46c19351d237[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Sep 6 21:33:18 2016 +0800

    store: update log with region tag. (#1035)

[33mcommit ae7ee70574ffe4fe60e2b96119eac9b11cd3ed61[m
Author: disksing <i@disksing.com>
Date:   Tue Sep 6 21:32:33 2016 +0800

    gc: stop scan when there is no more keys. (#1036)
    
    * gc: stop scan when there is no more keys.

[33mcommit 6a2f9ba1ae63f762fcb9ac93957f0535d16d1c10[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Tue Sep 6 19:52:10 2016 +0800

    tests: fix test_down_peers. (#1027)
    
    * tests: fix test_down_peers.
    
    * update rustfmt.

[33mcommit 9e60b3da0e00537a13dc8c9474f742e472fdba8e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Sep 6 17:08:17 2016 +0800

    util: make clippy88 happy (#1031)

[33mcommit 0f378b06f5308c0788f0cbb81707455081ad9c7d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Sep 6 17:07:11 2016 +0800

    *: switch to prometheus (#1017)

[33mcommit a785bdd49c1319d4db72e221791e5816d966412b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Sep 6 11:42:41 2016 +0800

    copr: fix coerce datum (#1018)

[33mcommit c7c5eb76673e2f4afe3fe7c8d2d462adb4275894[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Sep 6 10:50:25 2016 +0800

    raft: fix raft port (#1024)

[33mcommit a0ca86b991704bd774bebf62433ae1ef8d457a5d[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Sep 5 17:44:35 2016 +0800

    calculate used space correctlly
    
    calculate used space correctlly

[33mcommit 6928393b700f85f20107d9926a22a871713cf83e[m
Author: disksing <i@disksing.com>
Date:   Mon Sep 5 15:39:58 2016 +0800

    storage: fix gc issue #1021 (#1022)

[33mcommit c947b42787586661e093f9a23354f14239d456fb[m
Author: Dagang Wei <weidagang@gmail.com>
Date:   Sun Sep 4 19:16:45 2016 -0700

    Add rustdoc for Scheduler. (#1023)

[33mcommit 7adf1505bb0ac7f9532c8cf2b8ca3137f4487e7a[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Sep 2 16:26:12 2016 +0800

    fix test server/node read leader with unapplied log
    
    fix test_read_leader_with_unapplied_log (prevent node 2 from step down to follower)

[33mcommit cd330aa9c1cea04b99d9f813e2c9e03d453ac1b8[m
Author: Dagang Wei <weidagang@gmail.com>
Date:   Wed Aug 31 22:40:18 2016 -0700

    Fixes #1015: call release_lock() in Scheduler::on_read_finished(). (#1016)

[33mcommit c7852e0458ec3541c776e824f95e4738bef58e48[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Aug 31 21:08:39 2016 +0800

    allow an election immediately after start with checkquorum (#1013)
    
    port etcd https://github.com/coreos/etcd/pull/6286

[33mcommit b4adad8d16ce26cfebaab2b400b14eed8576dae1[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Aug 31 19:57:58 2016 +0800

    raftstore: use rc (#1012)

[33mcommit bc6cee8ac6084944eb327f122d6a60bca8e4fc22[m
Merge: e8c4ea3b ccfd8d84
Author: siddontang <siddontang@gmail.com>
Date:   Wed Aug 31 17:58:33 2016 +0800

    store: add log for store clean up. (#1010)

[33mcommit e8c4ea3b37519dd33d3e7e5307e1532365d8673c[m
Merge: d5663ffa b497fc2e
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Aug 31 17:50:43 2016 +0800

    util: fix rotating log file name

[33mcommit ccfd8d84ab4ee2d8059074a238daac3ac5daf0ed[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Aug 31 15:21:40 2016 +0800

    store: Address comment.

[33mcommit 79ab141c44ebdbdde4bc9d097e90be775f59b91c[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Aug 31 15:04:01 2016 +0800

    store: add log for store clean up.

[33mcommit d5663ffaaf36e731360c490c4c174f3da2290e9c[m
Merge: 6c127549 e799bbde
Author: siddontang <siddontang@gmail.com>
Date:   Wed Aug 31 15:03:03 2016 +0800

    store: use &str for conf_change_type_str (#1004)

[33mcommit 6c12754943876933d2a9093f13810fce25727114[m
Merge: df558b23 0200b8d7
Author: siddontang <siddontang@gmail.com>
Date:   Wed Aug 31 14:47:29 2016 +0800

    store: add some log. (#1007)

[33mcommit b497fc2e5fbac9b91ee737d0028655525540ed95[m
Author: Dylan.Wen <hhkbp2@gmail.com>
Date:   Tue Aug 30 19:27:58 2016 +0800

    add doc and test case for util function

[33mcommit e799bbde3db32a493a2b9150035ddafd26e6dc9d[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Aug 30 18:02:04 2016 +0800

    store: Address comment.

[33mcommit 094ad9441f6af8a42c5fbb94585780ae23f97dbb[m
Author: Dylan.Wen <hhkbp2@gmail.com>
Date:   Tue Aug 30 16:03:09 2016 +0800

    util: fix rotating log file name

[33mcommit 0200b8d75e9a37c07d10e29e17b2a27110e980a9[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Aug 30 15:50:27 2016 +0800

    store: Address comment.

[33mcommit 0d3fd59fd271bcac624c23353bf8b04b0a9d02da[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Aug 30 14:36:21 2016 +0800

    store: add some log.

[33mcommit afc7f22debb58f6fcb01a272af36dbf7e881671e[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Aug 30 11:01:32 2016 +0800

    store: use &str for conf_change_type_str

[33mcommit df558b233bd527e391001b1f0c7bc6213fc2944e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Aug 30 07:04:59 2016 +0800

    fix ci cache rebuild on osx (#1002)

[33mcommit 2e071a78909907046e21c5adfd6d64eddacab5bb[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Aug 29 19:02:06 2016 +0800

    store: log detailed region count when start. (#1001)
    
    * store: log detailed region count when start.

[33mcommit e6e2c3050e6d6904dd00cfc1470d4936f58a86ca[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Aug 29 16:26:52 2016 +0800

    copr: skip Null in First aggr (#1000)

[33mcommit 1750aa089e7bbc41ec5dfbecbf32b6c7a4e92a5c[m
Author: disksing <i@disksing.com>
Date:   Mon Aug 29 15:38:03 2016 +0800

    reserve binglog cf. (#999)

[33mcommit 5a62f518f48ca088def6e09268016654f1123f5e[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Aug 29 15:13:31 2016 +0800

    tunning write cf (#998)
    
    reduce memory usage and drop some useless configs of write cf.

[33mcommit 1c275779b16d26275f84b9e9fc86715a303e14d3[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Aug 29 14:23:55 2016 +0800

    store raft log/raft sate/apply state in raft cf (#990)
    
    store raft log && raft state && apply state in separated cf.

[33mcommit 38c4808fa124f5141af53bf4d69c46dcc874d072[m
Author: Dagang Wei <weidagang@gmail.com>
Date:   Sun Aug 28 22:55:12 2016 -0700

    Add rustdoc for Latch. (#997)
    
    * Add rustdoc for Latch.

[33mcommit e68d06637017b1b1bee79097cf9f28e66ed83b48[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Aug 29 13:33:18 2016 +0800

    copr: support new decimal (#977)
    
    close #924

[33mcommit 95ceb76956d694d96bc362dadec7d95281feb179[m
Author: disksing <i@disksing.com>
Date:   Mon Aug 29 11:27:25 2016 +0800

    raftstore: check RaftCmd's store_id. (#987)

[33mcommit c170f108351e97f71b9abbca90e0efba12556a4b[m
Author: Dylan.Wen <hhkbp2@gmail.com>
Date:   Sun Aug 28 20:04:50 2016 +0800

    server/node: ensure-store-fully-initialized-at-startup

[33mcommit 25129416af85a853dd53a75e11d3529f53ad62f1[m
Author: disksing <i@disksing.com>
Date:   Sun Aug 28 17:54:44 2016 +0800

    storage/txn: add tests. (#967)

[33mcommit 3d95e69c766c3f8a1fd3f14b567b72e44ab56455[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Aug 28 17:29:40 2016 +0800

    ci: treat warning as err on ci (#991)

[33mcommit d9cb03c41b7479961858b8e585ea6db93daff001[m
Author: Dagang <weidagang@gmail.com>
Date:   Sun Aug 28 02:28:09 2016 -0700

    Add rustdoc for core types. (#995)

[33mcommit 9d4f2768ab5edc67dd07176413955410c561bff3[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Aug 27 02:57:34 2016 +0800

    *: upgrade dev tools (#989)

[33mcommit e05db7360ac9f0c6a62318092f7ecf30d3fa2f88[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Sat Aug 27 02:39:09 2016 +0800

    pd: remove get leader addr (#976)
    
    * pd: remove get leader addr
    
    * pd: remove hyper and add reconnection on bootstrap.

[33mcommit ffa5fbc3e8d5acbeb900c28dd58aa4f4b01fbb86[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Aug 26 15:50:54 2016 +0800

    *: log msg before discard (#986)
    
    close #981

[33mcommit 70f62471b55a6322d51f0d1c288cca6d70dbb44d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Aug 26 14:07:47 2016 +0800

    make endpoint threadpool size configurable (#985)
    
    close: #984

[33mcommit 6a633a511e51691cd5c7125f98d5d8cefa5fd5cd[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Aug 26 10:29:05 2016 +0800

    store: update log. (#979)

[33mcommit 22265f3bc61dea2dad0d2554a20d65c1c06353f8[m
Author: disksing <i@disksing.com>
Date:   Fri Aug 26 10:25:38 2016 +0800

    util: remove unnecessary log. (#972)

[33mcommit 8bd91c6cb51ba63cc7bc684d4f5885968dfe9ddc[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Aug 25 10:50:25 2016 +0800

    server: update error message. (#971)

[33mcommit 4e9384424fe805a43ffcedeaedf9400ca15f77a8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Aug 24 20:42:01 2016 +0800

    copr: quick fix for decimal incompatibility (#968)

[33mcommit 1baf0b95be0c8a142d583fdb48ca67c6cce54018[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Aug 23 18:31:37 2016 +0800

    *: add version information (#952)

[33mcommit 30decde1cb7b7ab34df9aad41a71c53345ff97e4[m
Author: disksing <i@disksing.com>
Date:   Tue Aug 23 18:06:57 2016 +0800

    kvrpc: do not use proto's has_xx. (#965)

[33mcommit 0a4b99e65d2c2fb2cade9c786c3e53699ac465a8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Aug 22 18:58:44 2016 +0800

    copr: support time (#949)
    
    close #923

[33mcommit abe8658eb5c404a0de19026459c8effc85ab726c[m
Author: disksing <i@disksing.com>
Date:   Mon Aug 22 14:03:17 2016 +0800

    storage/txn: add logs. (#955)

[33mcommit 1d02a8949193a176c8cb13f7c6922f9ce4cb9bf4[m
Author: disksing <i@disksing.com>
Date:   Mon Aug 22 13:58:59 2016 +0800

    storage/txn: append write cf when commit lock-only keys. (#954)

[33mcommit 47f9c0298322085032cc41328211abb459204e3d[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Aug 22 11:15:11 2016 +0800

    update kvproto. (#951)

[33mcommit aca4cdfbc1efcde8b64bcf3ec830d98ed53a496b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Aug 20 13:26:22 2016 +0800

    update deps (#945)

[33mcommit edb073b3be591bdb6e2c370c223f8ef9ee1c1e5c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Aug 18 18:53:32 2016 +0800

    update deps (#943)

[33mcommit 2f485f2a3775342d3bb6f1e1a33e8c74d95630fd[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Aug 18 15:51:52 2016 +0800

    use fast delete_file_in_range for peer destroy (#918)
    
    close #677

[33mcommit 9ed55ca6563dc1bf59a2355dff78a5bd31aded6c[m
Author: disksing <i@disksing.com>
Date:   Thu Aug 18 15:08:06 2016 +0800

    mvcc: check if already rolled back when prewrite. (#941)

[33mcommit 49450b886505bb3610ac651b091fe1a90ab713ca[m
Author: Dylan Wen <hhkbp2@gmail.com>
Date:   Wed Aug 17 15:48:44 2016 +0800

    util/log: add file log whichs rotates by day

[33mcommit 8d6dc5c65cc21316609d97bec8ba8120c479bd5e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Aug 17 14:54:38 2016 +0800

    copr: support where and aggr on index (#929)
    
    close #926

[33mcommit 7176ed4478cd47496591735bebec2533ea5dccc7[m
Author: disksing <i@disksing.com>
Date:   Mon Aug 15 17:11:51 2016 +0800

    storage: add gc support. (#930)

[33mcommit b323433671b35f569c84b2db84b68d1858751fb9[m
Author: Ivan.Yang <mrmiywj@users.noreply.github.com>
Date:   Mon Aug 15 14:55:07 2016 +0800

    raft: hide Campaign rules on applying all entries (#912)

[33mcommit ec3fe1c930000265eb6ea7f63ef0f5a58fac8ec8[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Mon Aug 15 10:44:37 2016 +0800

    *: local read when in leader's lease (#916)
    
    implemented local read when in leader's lease

[33mcommit 7aac5ce39d9c25475d35c784e7669b003ef566c2[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Aug 10 22:56:32 2016 -0700

    remove unused seek operation (#932)
    
    remove unused seek operation

[33mcommit 81e2c4ca985bdebbfdecdcc9ab9d972296765cca[m
Author: disksing <i@disksing.com>
Date:   Wed Aug 10 18:32:49 2016 +0800

    storage: remove meta, save commit log in CF_WRITE. (#915)

[33mcommit 29493b67468c867d1f5bfaae1a2d0d88b905283c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Aug 9 19:10:47 2016 +0800

    store: gc stale peer (#909)

[33mcommit 0bfe2ce0caf807126bdfc512d57ca60d511c1618[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Mon Aug 8 14:40:23 2016 +0800

    tests: fix test_down_peers. (#922)

[33mcommit 6bf919891928efb5ea9393a5c71c5c9ca7ed0beb[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Aug 8 10:27:03 2016 +0800

    raft: fix leader quorum test (#913)

[33mcommit 13d092519eaeb1a8277c9411f15823ed5cd6c70e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Aug 7 17:54:15 2016 +0800

    use fixed version rustc (#917)

[33mcommit 80683ca4c60b2ef0c384183f841b18d40355a3e8[m
Author: disksing <i@disksing.com>
Date:   Fri Aug 5 14:27:31 2016 +0800

    storage: support ScanLock and ResolveLock. (#888)

[33mcommit 1e6d5fbb9cab69700b0e93b1fcb5ba3f2f9886a0[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Aug 4 20:34:40 2016 +0800

    tests: fix test_down_peers. (#910)

[33mcommit 2680d652d06a52438249a3626b421690a2cf12d9[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Aug 4 20:25:31 2016 +0800

    store: support time monitor. (#900)

[33mcommit eea21fa97481ee3de65308caa6758d4a260ed59e[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Aug 4 19:18:56 2016 +0800

    src: scheduler worker pool (#908)
    
    Split operation on rocksdb from scheduler thread.
    We will benefit from this pr when operation on rocksdb is slow, and the scheduler thread will not be blocked.

[33mcommit fb6a96a531dd115fc46e7c041071b14458c3819e[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Thu Aug 4 14:31:53 2016 +0800

    pd: send http header on connect. (#901)
    
    Send http header to PD on connect, to tell PD to hijack the connection.

[33mcommit 8a9b05562e883fc5cef1cf6e0900bf5b4da0fdc2[m
Author: disksing <i@disksing.com>
Date:   Thu Aug 4 10:36:33 2016 +0800

    raftstore: delete all cfs' data before applying snapshot. (#907)

[33mcommit 5b1d1b727c859b2d0b3e506ecf34e6e590711d4b[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Aug 3 15:47:08 2016 +0800

    bin/util: make column families's options work (#906)
    
    1) make column families's options work when start with all cf existed.
    2) add bloom filter to speed up point get.
    3)lock cf use different configration.

[33mcommit 38f0ddf7286c04e75303785eecb2b9633ea61a0a[m
Author: Huachao Huang <huachao.huang@gmail.com>
Date:   Wed Aug 3 14:55:59 2016 +0800

    raftstore: Report down peers to PD. (#870)
    
    * raftstore: Report down peers to PD.

[33mcommit 3dbc04488267908b3498c40d62da23d578f2a289[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Aug 2 19:08:38 2016 +0800

    correct leader lease testcase (#902)
    
    port etcd leader lease testcase

[33mcommit 327cf49ee53a44c1fb50fdaaac60725314921aa8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Aug 2 17:19:36 2016 +0800

    *: update deps (#898)

[33mcommit 3dbadd2bc275ceacd885c634f2cc636890fd4d38[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Aug 2 15:11:38 2016 +0800

    add block-cache-size option to config-file (#899)
    
    etc: add block-cache-size option to config-file

[33mcommit 8c0904a90b5a1b2898e2eebcc1d6524714aff9be[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Aug 2 10:18:02 2016 +0800

    raft: implemented leader lease when quorum check is on (#884)
    
    port etcd leader lease.
    https://github.com/coreos/etcd/pull/5468
    https://github.com/coreos/etcd/pull/5809

[33mcommit 8fa634f7fb597ff756a68eb4443c479d29a9deb7[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Aug 1 17:30:49 2016 +0800

    raftstore: check pending regions before step (#896)
    
    close #866

[33mcommit ecb5055d055f13ba51feafe259d93c253eecd276[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Aug 1 16:02:48 2016 +0800

    copr: only decode used cols (#895)

[33mcommit e16f3a371e5794d303ea65f259d8b9a757d1836c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Aug 1 08:11:29 2016 +0800

    refactor simulate trans (#893)

[33mcommit 031bb55bb8e341eaba51f969a55be373d0122607[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Aug 1 08:07:19 2016 +0800

    *: fix clippy warnings (#892)
    
    * *: fix clippy warnings

[33mcommit ff2f75e3aa2e2fa26ccdc8925ed86685f3bd057c[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Jul 31 16:32:25 2016 +0800

    *: clean up doc. (#891)

[33mcommit c519f8ef7e87cfa5c2201bbaa523d2ab421f294b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Jul 31 01:09:16 2016 +0800

    copr: take it easy when encounter unsupported col (#894)

[33mcommit 9e2ef190d3a67c3eb29196a68f8edf97118c07d2[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Jul 30 23:59:49 2016 +0800

    storage: remove mutex (#889)
    
    * remove mutex
    * make transport not sync

[33mcommit f8f54e070be24df8cc2df392c5dd864c43ef9b87[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jul 30 11:13:04 2016 +0800

    store: add create peer log. (#890)

[33mcommit 4c261647e8bdd9432e298a932b3e92266096b0d5[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jul 29 16:16:54 2016 +0800

    docker: add static release script (#872)

[33mcommit 9da62dd52e7153645c36e0708e2de0627c6e45b8[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jul 29 13:56:21 2016 +0800

    Make build release and copy to bin (#887)

[33mcommit 4c577a3fb89c29ff72765e3ae2a434bd1c5cb811[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jul 29 12:52:57 2016 +0800

    bin: clean up flags. (#883)

[33mcommit 4ff524d8e7b24a11a1c829b7f5fa61cc7f206c26[m
Author: disksing <i@disksing.com>
Date:   Fri Jul 29 11:37:58 2016 +0800

    storage: delete TxnStore, migrate tests. (#867)

[33mcommit 06d830d3ef7fbc75406acf2298c464d39c619995[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jul 28 17:25:06 2016 +0800

    remove arc and rwlock (#886)

[33mcommit cd6e603fd31ee344d6985258e0a55f7af01e69d8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jul 28 16:09:33 2016 +0800

    util: return task when fail to schedule (#885)

[33mcommit b64e0dd7b2749178f5963eb773d0e40bff858536[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jul 28 11:55:34 2016 +0800

    bin: make region info dump all state (#882)

[33mcommit 798b39695b0b22683119d43d611be7a88f3832e3[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jul 27 19:59:14 2016 +0800

    update proto to 1.0.23 (#881)

[33mcommit decb0c5823ee270d33aada746489ce2ae4d3e3e3[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jul 27 18:47:03 2016 +0800

    bin: don't create db if missing when dump (#880)

[33mcommit 2630749a0c59558395ea762a324a5867882bcf3a[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jul 27 15:18:04 2016 +0800

    *: reduce flag. (#875)

[33mcommit db22993e72cd9c7dc798a122e6278ac7d7b262b7[m
Merge: 22b0de2f 2eea68af
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jul 27 14:30:14 2016 +0800

    util: impl SocketOpt for AsRawFd (#869)

[33mcommit 22b0de2f2b50c936e4d6a70152aca60468faa35f[m
Merge: 743eed18 b3eb999c
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jul 27 14:28:43 2016 +0800

    *: remove root path flag (#874)

[33mcommit 743eed18b957235ad12896b8e52e418bfa38b48e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jul 26 23:15:26 2016 +0800

    use one sendch (#878)

[33mcommit 2eea68afa9c41b4c0ed467642262550b96e402f4[m
Author: overvenus <overvenus@gmail.com>
Date:   Tue Jul 26 18:35:01 2016 +0800

    Address comments

[33mcommit b3eb999cad877ee748d6483e0ea922772b388ba1[m
Author: overvenus <overvenus@gmail.com>
Date:   Tue Jul 26 14:40:29 2016 +0800

    *: remove root path flag

[33mcommit 806769859cfdb0063a9b8ed9c4cff309e1f15468[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Tue Jul 26 14:09:07 2016 +0800

    scripts: check requirements (#847)

[33mcommit 4af342fd6b41a49c3cd5f1b7c0a6a19d4fd98843[m
Author: overvenus <overvenus@gmail.com>
Date:   Mon Jul 25 19:23:44 2016 +0800

    Address comments

[33mcommit 76edfd63e3e95aca6a781e6a9c02f66526f9275d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jul 25 14:57:23 2016 +0800

    copr: async snap (#868)

[33mcommit 9bc7261085328d7848c46bb08d5498b8d698f31c[m
Author: overvenus <overvenus@gmail.com>
Date:   Mon Jul 25 14:41:49 2016 +0800

    Address comment

[33mcommit 76b9d982d9858dfae698ea8c0a61c2c0f5ec3ea6[m
Author: overvenus <overvenus@gmail.com>
Date:   Mon Jul 25 14:13:21 2016 +0800

    util: impl SocketOpt for std TcpStream

[33mcommit 3b229e45d74278bec15e4498881a726c3cce637a[m
Author: overvenus <overvenus@gmail.com>
Date:   Mon Jul 25 13:34:57 2016 +0800

    WIP

[33mcommit 4fe760d13991a85feddead3ac9f8739e51acda51[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jul 25 12:52:15 2016 +0800

    codec: encode i64 to varint if not comparable (#863)

[33mcommit 5555abf5d1a41449124c98c812e806946c255470[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jul 25 12:01:11 2016 +0800

    server: reuse recv buffer (#861)

[33mcommit 3d8067b8298a7027b8c94b21092fcd724c228275[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jul 23 11:30:48 2016 +0800

    *: update embed etcd. (#856)

[33mcommit 5eefcaed605485fd4b9e9ff3528e76356006f7fa[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jul 22 13:27:36 2016 +0800

    util: impl BufRead for PipeBuf (#857)
    
    - util: impl BufRead for PipeBuf
    - add write_all_to
    - add more check

[33mcommit 543b9df66194a733c56aca502b894114902a5897[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Jul 21 20:35:16 2016 +0800

    *: async scheduler, async handle KvReq (#850)
    
    * *:async scheduler

[33mcommit a10c05eef3770fff62306e5177c114ce601e7e21[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jul 21 14:29:27 2016 +0800

    util: introduce pipebuf (#848)

[33mcommit e2544b3378937235ddc7bddb801fbfafa80e203a[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Jul 20 17:21:36 2016 +0800

    raftstore: enable rocksdb's wal (#854)
    
    * raftstore: enable rocksdb's wal

[33mcommit a88f3d60a14f4149df0f5ba0e24b0fa59bcb489f[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jul 20 13:53:55 2016 +0800

    *: update kvproto eraftpb (#853)

[33mcommit 1938b7ad9c3781f07010b3ad7b2fe6e0547f1e63[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Jul 20 11:50:09 2016 +0800

    use rocksdb block cache speedup read (#852)

[33mcommit bc81bbea46b1ed965a023157e60663b5d8369dfc[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jul 18 21:33:41 2016 +0800

    ci: limit concurrent test case number (#849)

[33mcommit 03013db2296c617264ab210f7346f23fc25c5abe[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jul 18 13:56:27 2016 +0800

    store: add tag and id like raft package in log. (#837)

[33mcommit 0aced1787245d1a326a79a77b2caedbf50ad2040[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jul 18 11:16:32 2016 +0800

    copr: support max/min (#840)

[33mcommit 9a284319ac0222400d0c1112410591517de24c09[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jul 16 17:46:19 2016 +0800

    *: update  building rocksdb. (#832)
    
    * *: build rocksdb support CentOS

[33mcommit 537b55f141ccdad3fb343b3e21ab755666a08fcf[m
Author: disksing <i@disksing.com>
Date:   Sat Jul 16 01:44:03 2016 +0800

    engine: fix write empty modifies issue. (#839)

[33mcommit bc6b4c3a3af8f7f20ab13960cd05aa9eff68a50d[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Fri Jul 15 17:47:28 2016 +0800

    raft: remove unnecessary local variable (#827)

[33mcommit 63f047648a61051c4b961dc634e7b04ed112b547[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Jul 15 17:47:15 2016 +0800

    raft: do not change RecentActive when resetState for progress. (#831)

[33mcommit 46846100bd75f9df616f9e07faf7f6eb3c18d687[m
Author: disksing <i@disksing.com>
Date:   Fri Jul 15 15:26:39 2016 +0800

    mvcc: commit may fail unexpectedly after meta splits. (#835)

[33mcommit be446eadae54cb61cb7e17320a047141029b4482[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jul 15 14:44:14 2016 +0800

    *: make cleanup reentrant (#836)
    
    - make cleanup reentrant
    - print all panic case log

[33mcommit b072f853862e77b6d3e990ee95be7767578d58b7[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jul 15 14:37:13 2016 +0800

    storage: fix clippy warning (#833)

[33mcommit e5c4354aa0d7c04318b127e01bbaacdd4aae35a0[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jul 15 14:26:12 2016 +0800

    *: cleanup slow log usage. (#834)

[33mcommit bdf16f3967c25fb5235e299fe040264960b2ed1c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jul 15 13:01:41 2016 +0800

    copr: support avg (#824)

[33mcommit 45c68ce91d1bf0fbdff15d5728e99053acdcd4ca[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jul 15 12:12:50 2016 +0800

    tests: make tests more stable (#830)
    
    - test: make transfer leader test more stable
    - use a longer timeout
    - fix buffer size check

[33mcommit 15136b24de2c3fd1b17a1d8ad3f296aabc168f16[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Jul 15 12:03:07 2016 +0800

    Update USAGE.md (#828)

[33mcommit b011c4959a2d6b10380f5593de80faec47703cda[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jul 14 20:10:50 2016 +0800

    makefile: disable clippy by default (#825)

[33mcommit e9e8e9fe6c31a24c3f7af42be53278a56d0b2aee[m
Author: disksing <i@disksing.com>
Date:   Thu Jul 14 19:41:38 2016 +0800

    storage/engine: async engine api (#820)

[33mcommit 4ca91beebe16c8290f77e20b1bb61ef633363e40[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jul 14 17:11:50 2016 +0800

    *: Make clippy happy. (#826)

[33mcommit 5be5f210a58f951b6370f747e31e13fe9f3e0e8f[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jul 14 14:52:35 2016 +0800

    copr: make test more readable (#819)

[33mcommit 436e876262341c9a01f3e6fea529f4ee05b6e0c3[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jul 13 21:23:08 2016 +0800

    raft: clean up (#810)

[33mcommit 015c3cca29e2ffe3e24bd63f6bcd236f3902703e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jul 13 18:18:11 2016 +0800

    *: speedup shutdown (#817)

[33mcommit e988f1508b36bb539eccfede899329a6bfd25a73[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jul 13 14:19:40 2016 +0800

    copr: support sum (#799)

[33mcommit b84ff02a996b4831b421ce610b871e132708d94d[m
Author: disksing <i@disksing.com>
Date:   Wed Jul 13 12:29:09 2016 +0800

    mvcc: move lock to a seperated CF (#792)

[33mcommit 220f28f2984adacdccffad3c3d1c13233a75ee2b[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Wed Jul 13 11:39:45 2016 +0800

    raft: port etcd(set leader id in stepfollower) (#802)
    
    raft: port etcd set leader id in stepfollower

[33mcommit 225836f165d1a0f4d0a84d17d1edd4f0ae5c6e0c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jul 12 21:24:21 2016 +0800

    *: cleanup (#808)

[33mcommit 7aba282457d288a684258fc4a768ebd2060ee737[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jul 12 17:21:22 2016 +0800

    store: peer region() returns ref, no need clone. (#806)

[33mcommit 203292e1b616476d33948531899e33ff606c8dd6[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jul 12 15:20:34 2016 +0800

    raft/raftstore: use PeerStorage directly, remove rl/wl. (#803)

[33mcommit d67923342724a094ab32865d9b4f12869ba750c2[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jul 12 13:26:10 2016 +0800

    store: update snapshot, use immutable interface. (#798)

[33mcommit df408c6f7122cad6651a7191f1e94551ad08d619[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jul 11 17:52:46 2016 +0800

    *: add messages_per_tick config. (#786)
    
    default 256 may be too small when we have thousands of regions.

[33mcommit d42072299ebaf1e34f264d04fdcf4916fea17152[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jul 11 13:45:05 2016 +0800

    util: make clippy happy. (#797)

[33mcommit 383462cda173a0f4263c1115febd3e19f37bee54[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jul 11 13:36:42 2016 +0800

    *: use ring buffer for data send. (#779)

[33mcommit dfd66b590a2f492e6369921d7266724fce48cc1e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon Jul 11 11:45:27 2016 +0800

    bin: support readable flag (#796)

[33mcommit 8de823b837a93776855c2937f82db1b9454e41ab[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sun Jul 10 13:09:57 2016 +0800

    util, bin: make big numbers human-readable (#777)
    
    * util, bin: make big numbers human-readable

[33mcommit 433ef8b3738ad982731bb10056d548232d0ac802[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Jul 9 17:40:58 2016 +0800

    util: send metrics in a background thread (#787)

[33mcommit 6637d2d5d3a43a0cac340468b93260342dd60492[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jul 9 17:40:42 2016 +0800

    *: support set socket send/recv buffer size. (#776)

[33mcommit 5f605813c1fdab53763aee5a4989049dff04d3c2[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Fri Jul 8 21:54:33 2016 +0800

    bin/util: rocksdb compression per level configurable and tuning rocksdb options to fit common cases. (#791)
    
    * compression per level configurable
    * rocksdb options tuning to fit common cases

[33mcommit 783498051b7812a6056d0e366edd6fe59da14b1c[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jul 8 10:12:56 2016 +0800

    store: cleanup initial state. (#789)

[33mcommit 6b63189c960bbc8bd2e455318ac33b2cb46a239e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jul 7 20:15:42 2016 +0800

    raftstore: trigger split check when create new region (#778)

[33mcommit c2d53d6a6362ad02c7f9153e38ddec8008c3ffc5[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jul 7 14:35:36 2016 +0800

    raftstore: divide localstate into raftstate and applystate (#785)

[33mcommit 367d14985c22f6da8b4da0ec6d79be5bdb000475[m
Author: disksing <i@disksing.com>
Date:   Thu Jul 7 14:03:57 2016 +0800

    raftstore: support rocksdb cf. (#774)

[33mcommit ed50aa30c0d0ffa1714a0bdd476da27f7e11c6c2[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jul 6 20:53:31 2016 +0800

    remove rc (#788)

[33mcommit 3a6b9fbf3e91ce47853e5e6c37ca442310a16769[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Jul 6 20:36:27 2016 +0800

    store: allocate vector with capacity (#783)

[33mcommit e6726eb793a8d50d5bc49c4df7a0a339aabba3ea[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jul 6 12:00:25 2016 +0800

    tests: fix leader not found (#780)

[33mcommit 2130e9619d0a6273aed7e5d4e3c5840db9577609[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jul 6 10:45:43 2016 +0800

    Cargo: update kvproto. (#781)

[33mcommit 09ed4760e3d64c2f162753ed87057e2c743ec10d[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jul 5 16:31:23 2016 +0800

    support gc stale peer.  (#770)

[33mcommit b30dd3b8bf7e854f1f8a62c7e522f122bd41a135[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Jul 5 13:22:44 2016 +0800

    README: fix description of snapshot isolation (#773)
    
    * README: fix description of snapshot isolation

[33mcommit 11c5b0d1e5ffe2efc5435c3f7ca686b4d9093b60[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jul 4 17:29:52 2016 +0800

    metric: make clippy happy. (#775)

[33mcommit 3328d2934e509c528adf2bd4689bdd8637c5ebb9[m
Author: disksing <i@disksing.com>
Date:   Mon Jul 4 14:16:01 2016 +0800

    storage/engine: add get_cf for snapshot. (#761)

[33mcommit 7fe033694c345d21d749eb0427568b4afe2efacb[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jul 4 13:47:58 2016 +0800

    copr: support plus (#763)

[33mcommit 496448cd1031d00442cecc5c7fb364895629f47f[m
Author: disksing <i@disksing.com>
Date:   Mon Jul 4 11:17:48 2016 +0800

    kvserver: add txn abort log. (#762)

[33mcommit 483cf9b21124cf191718b6fe8405665d39a9d08e[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Sat Jul 2 16:22:02 2016 +0800

    util: add buffered metric client (#769)
    
    * util: add buffered metric client

[33mcommit 0470779ddb57f2ddee3469001391ce5c1495413c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Jul 2 15:28:06 2016 +0800

    raftstore: clear callback when destroy peer (#768)

[33mcommit 462afd46300c9b66a8a13649102d267f11582f5c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Jul 2 13:27:53 2016 +0800

    *: remove stale features (#766)

[33mcommit 5751033d246bb63ccec0eebe33b3e4ecc3199960[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Jul 2 12:14:27 2016 +0800

    *: remove dead code (#767)

[33mcommit fe1ccb6d400a0a145305233e3f673586a84998a0[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jul 1 20:11:24 2016 +0800

    server: cleanup try_read/write and create_mem_buf. (#760)

[33mcommit c02739f3045636a1db077062fcfda62ea2316ee8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jul 1 20:10:31 2016 +0800

    tests: fix transfer leader fail (#765)

[33mcommit de13dd801629aa458bba8b702699a1d596277027[m
Author: disksing <i@disksing.com>
Date:   Fri Jul 1 13:32:51 2016 +0800

    storage/engine: add cf interface. (#746)

[33mcommit dd040f62f1385679ae48d46049c671243a7496bb[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jul 1 13:26:54 2016 +0800

    use etcd v3 binary.  (#757)

[33mcommit a4f9d16cb8f975a8a87fd9938e08caeef4fc2035[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Jul 1 13:07:48 2016 +0800

    Add link for nightly rust and go (#758)
    
    Add link for nightly rust and go

[33mcommit a6e67aa1ba983103d615286b5032506dcfdd0c82[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Jul 1 12:59:25 2016 +0800

    tikv-server: tiny clean up and fix typo (#759)

[33mcommit 417798c0b59db5a34c3fd5261a75548683af7e75[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jul 1 10:48:48 2016 +0800

    travis: fix foolish exit bug. (#756)

[33mcommit f41c0ac5873d24738024aef4017ff424d595adf6[m
Author: dongxu <i@huangdx.net>
Date:   Thu Jun 30 21:19:32 2016 +0800

    Update README.md (#755)
    
    add beta badge

[33mcommit b43021544d6cc5d786d1817fc0ece36bbeb47be0[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 30 18:25:11 2016 +0800

    *: notify snapshot stats immediately. (#742)

[33mcommit d4c78b6e3ba396a6b2ea11acd951f738a53289ab[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 30 18:19:47 2016 +0800

    *: add install script. (#747)

[33mcommit 72e62f434dff136a9dacada4f186a4e33b3266c2[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 30 17:21:06 2016 +0800

    cargo: disable hyper ssl now. (#754)

[33mcommit a97d72da175d4a8c8ecf25438eda436f343d7eab[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 30 16:44:26 2016 +0800

    store: add more logs. (#752)

[33mcommit 87919b3cb4824b8c76890647f2cdebe211cdfab2[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 30 16:28:58 2016 +0800

    update usage. (#753)

[33mcommit e2c331008d5379a9035e944bad9bccb32e5ce195[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 30 16:06:33 2016 +0800

    get pd leader from etcd.  (#736)

[33mcommit 4fa6d791320d230705d8fb9800ed8311653ba24f[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jun 30 13:49:36 2016 +0800

    copr: abort cut row when get enough cols (#751)
    
    * abort cut row when get enough cols
    * skip handle

[33mcommit ace12937e253a3f0777ed483ab2e611be2de445c[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jun 29 20:30:04 2016 +0800

    *: rename snap stats. (#750)

[33mcommit b60048bbe3bbf26997c27fb749be5308b08860fc[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Jun 29 20:17:01 2016 +0800

    store: clean up stalled comments. (#749)

[33mcommit 23473237ad91af2b3076edd199f94e2fc340b648[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jun 29 20:13:36 2016 +0800

    *: add config flag for pd heartbeat. (#741)

[33mcommit 7825ff9f3f22ae2445b06ed04a08f96287f4e8db[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Jun 29 19:55:59 2016 +0800

    store: tiny clean up (#748)

[33mcommit dcc17c05ce2d42f33ed48e36d0918e9189a5732e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jun 29 18:01:36 2016 +0800

    raftstore: apply snapshot asynchronously (#738)
    
    * Make RaftStorage not sync
    * let PeerStorage schedule SnapTask
    * async apply

[33mcommit 3c574eac53efaf0041888acd8a6d673c06143139[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jun 29 15:12:04 2016 +0800

    raft: port from etcd. (#745)
    
    raft: truncateAndAppend no need the value of 'after' with subbing one

[33mcommit 4afb84b6b6f5c163f19582c91b539a9bc53489c5[m
Author: disksing <i@disksing.com>
Date:   Wed Jun 29 14:35:57 2016 +0800

    txn: use thread pool for scheduler. (#743)

[33mcommit 1fbf3a0f4c596d56766c33f271afb63fe192f8e8[m
Author: tiancaiamao <306345843@qq.com>
Date:   Wed Jun 29 13:25:06 2016 +0800

    tests/raftstore: fix a bug in Isolate FilterFactory (#675)

[33mcommit 32b90e0c338fa8c3862040444f58f7c54eb7ede8[m
Author: tiancaiamao <306345843@qq.com>
Date:   Wed Jun 29 13:17:21 2016 +0800

    raftstore/store: prevent transfer leader when doing snapshot (#700)

[33mcommit 75157d83e35b54aa917ba16468b124a669cb72b3[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Jun 28 20:02:40 2016 +0800

    store: disable wal of writing kv. (#744)

[33mcommit a999b0c1a91ba67db0362ae4ed99c3f817f9a70b[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Jun 28 16:16:24 2016 +0800

    tikv-server: show default value (#740)

[33mcommit ea74d2c891d264d3109762cc553a46649b90288b[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jun 28 16:13:44 2016 +0800

    worker: disable WAL for compact log. (#732)

[33mcommit fd189255bff9350ab7a3af332737e191a2e426e7[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jun 28 13:46:34 2016 +0800

    add usage document. (#739)
    
    * add usage document.

[33mcommit b4ad4769cbb312f25e1028dde4cb87507a74cb2c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jun 28 11:14:51 2016 +0800

    copr: store row data in single kv pair (#737)

[33mcommit dc18a8d0a96591be1a51b0af065fcb129385290f[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Jun 26 16:38:37 2016 +0800

    raftstore: introduce localstate (#734)

[33mcommit d9ea3b9988a22ad5a39cd20b23a542255627951f[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Jun 26 09:41:37 2016 +0800

    tests/raftstore: wait some for split count changed. (#735)

[33mcommit d40927568e455b8f12f8ff2bc24bed249748a30b[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 23 20:25:52 2016 +0800

    *: support pd report split. (#731)

[33mcommit a503f8f6011ad024d6434822fcb124eec590815e[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 23 18:50:59 2016 +0800

    *: support region split configuration. (#729)

[33mcommit 5f2c416f64d16995c5d39b3158b4b362027743ee[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 23 18:50:29 2016 +0800

    *: add some metrics and update ready slow log. (#724)

[33mcommit d66cde432b33d574c7e1db1abd56da12c29dc6e2[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jun 23 17:26:12 2016 +0800

    raftstore: use gc to delete snap files (#728)

[33mcommit c052d1ced52ad252621e701baa3f14d89bce6d55[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jun 23 13:22:15 2016 +0800

    tests: merge must_get_none and must_get_equal (#730)

[33mcommit 88301bde3e18701e81ba21c4f5ba6f1724273acf[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jun 23 11:49:00 2016 +0800

    raftstore: fix possiblely calling the wrong callback (#725)
    
    * add uncommitted log case
    * fix possible calling the wrong callback

[33mcommit 78f3ec65ec04fccfbec0f35b70e2a6d68e7cbc4c[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 23 11:29:29 2016 +0800

    store: don't write when WriteBatch is empty. (#727)

[33mcommit 4d1298feaf9d6fc702939e265bb329fe9642ad85[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jun 21 15:23:15 2016 +0800

    snapshot statistic (#722)

[33mcommit f0c32e768061917da4b290131a07498017fa4955[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jun 21 15:15:26 2016 +0800

    update rust and clippy. (#723)

[33mcommit d7acbb222a64eb6f5d35d9316fb8c08d320554de[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jun 21 11:35:58 2016 +0800

    server: report status after snap is scheduling to store (#721)

[33mcommit 67c112e32cf73bf38f983286e7fcb4844161dd07[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jun 20 14:06:36 2016 +0800

    *: remove lifetime of snapshot (#715)

[33mcommit 82841bbfa58efff7da1675b5700b19c53cf593d7[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jun 20 13:43:12 2016 +0800

    raftstore: enlarge default notify queue capacity (#716)

[33mcommit 0582de2d1530e5415d138e1d458bea5d5b3bc290[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jun 20 11:52:39 2016 +0800

    *: remove unused proto. (#717)

[33mcommit 88c9bff7f1ff293309db61ecb8ffc96d159bb302[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jun 17 20:45:53 2016 +0800

    raftstore: introduce SnapManager and defer (#705)
    
    * introduce defer
    * introduce SnapManager

[33mcommit 5e8f50f85ae9bbb4480676b4caf27e67c5b06e29[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jun 17 19:51:46 2016 +0800

    ci: fix several randomly failed cases (#714)
    
    * ensure leader
    * clean unnecessary test code
    * drop stale region heartbeat
    * add more log

[33mcommit 0a8cd09e8c46ee592d44579e536e475b77abd5c6[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jun 17 17:59:28 2016 +0800

    store: log store for report snapshot. (#712)

[33mcommit b59c9df55a8b2f807f624cc70b4e3e983983226b[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jun 17 10:29:12 2016 +0800

    server: use debug level for connection error. (#711)

[33mcommit 6114b1fea792d0a84f62c82af01e6412f0fabc60[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jun 16 16:07:29 2016 +0800

    raft: remove arc (#708)

[33mcommit afaec162c623e7d7653923ebd030f97136293286[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jun 16 15:28:16 2016 +0800

    tests: reset leader when retry split (#710)
    
    * tests: reset leader when retry split
    * add missing thread name

[33mcommit 696748569d124048657e5171e00be287d12f94ec[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Thu Jun 16 15:15:25 2016 +0800

    update rocksdb tuning for low IO. (#709)

[33mcommit 717d12219e316c9ddd9f8981d0aa48f5b88fe799[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 16 14:42:02 2016 +0800

    tiny update (#706)
    
    * server: return error if send raft msg failed.
    
    * server: add warn log for store connection closed.

[33mcommit c2362c32b33ce005debc7cc6589d363040298baa[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 16 14:39:29 2016 +0800

    store: add ready slow log. (#707)

[33mcommit 7ce3cc221865eaad6d5059139fd1a3aa70cba978[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jun 15 12:18:31 2016 +0800

    *: support travis fail log setup (#703)

[33mcommit 598ca57b9e623083f0aaffdfac8e7512bf42ec90[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Jun 14 20:19:33 2016 +0800

    typo

[33mcommit 50957fcd78cfb11042633538ae3413a1e3687699[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jun 14 20:14:36 2016 +0800

    ci: show failed cases log (#692)
    
    * ci: show failed cases log
    * fix split
    * retry transfer

[33mcommit 328b2ba74ef398f7a074b8a74fb45cfacd25090d[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jun 14 19:29:19 2016 +0800

    raftstore: pass compile. (#702)

[33mcommit acc1292ee0fbe5ce0e391bc630421f680c9c1a77[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jun 14 18:52:06 2016 +0800

    raftstore: clean up test. (#693)

[33mcommit 4641f0046881f999f6d60ae6dfac45aff17fad8b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jun 14 18:26:18 2016 +0800

    bin: merge snap and rocksdb data (#701)

[33mcommit 4b3bab5c44f99ae7971aacec1a60be3a961be913[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jun 14 15:14:05 2016 +0800

    server: send snapshot via file (#669)

[33mcommit b3314f9c217c3f6845dd489044813049469761f9[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jun 14 12:56:07 2016 +0800

    copr: support FirstRow aggregate (#695)

[33mcommit 9a5d2da1ec07b71a18b07672195ea152b52b2157[m
Author: zhangjinpeng1987 <zhangjinpeng@pingcap.com>
Date:   Tue Jun 14 11:57:07 2016 +0800

    bin: rocksdb tuning (#691)
    
    bin/etc: rocksdb tuning

[33mcommit a9cef95551ec8cd19a0ada90c0a6af992ff7388b[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jun 13 22:17:50 2016 +0800

    etc: default advertise addr should be empty. (#694)

[33mcommit b83326408abe90bd89c5cb99b88a8d6b6611cc5e[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Jun 13 20:56:15 2016 +0800

    cluster: tiny clean up (#690)
    
    *: tiny clean up

[33mcommit a517b96ac5ef732d3aa83f714109959b62cef6cf[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jun 13 16:06:39 2016 +0800

    remove origin region range after applying a new version snapshot. (#689)

[33mcommit 7ed33b94c65c804176e5a2b194b0040039270e13[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jun 13 14:52:05 2016 +0800

    copr: use compact result layout (#687)

[33mcommit 5f855ec7a726549168a9badf53b93e9446d999ce[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jun 13 14:16:42 2016 +0800

    copr: fix aggr detection (#688)

[33mcommit 5cc334deef231cb0e4e81702784facb33fed4720[m
Author: queenypingcap <jinkun@pingcap.com>
Date:   Mon Jun 13 13:35:17 2016 +0800

    Update README.md (#685)

[33mcommit 83b163ca1f346f71bb2b620bfa00e7b04d63f252[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jun 13 11:37:48 2016 +0800

    add split and overlapped snapshot test, fix node test snapshot send bug.  (#686)

[33mcommit 31e81053de4d0a8d15b0985aa11a9a61e55c30a8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Jun 12 17:55:32 2016 +0800

    copr: support count (#679)

[33mcommit fd9b51b8543018d885d2eb9cb15765708fc69f4f[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Jun 12 17:38:33 2016 +0800

    test: only check disk stats change instead (#684)

[33mcommit bf38033f86e2fb2c6a2b54443103f60efce553e1[m
Author: queenypingcap <jinkun@pingcap.com>
Date:   Sun Jun 12 16:07:01 2016 +0800

    Update README.md (#682)

[33mcommit 10b8a834120999185ed47fe4af53894ea7d70711[m
Author: queenypingcap <jinkun@pingcap.com>
Date:   Sun Jun 12 14:41:34 2016 +0800

    Update README.md (#681)

[33mcommit c628643c381f4753065cda7ccf06a7a3e776d48b[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Jun 12 13:52:04 2016 +0800

    store: split long on_raft_message function. (#680)

[33mcommit 2fc3f29d77e76cadf83cd0afae5b986ac5960b7e[m
Author: tiancaiamao <306345843@qq.com>
Date:   Fri Jun 10 22:26:34 2016 +0800

    raft: fix tiny mistake of message type (#678)
    
    port from etcd https://github.com/coreos/etcd/pull/5414

[33mcommit 3928b41b698d5fab7288731016ec7b0208974e93[m
Author: dongxu <i@huangdx.net>
Date:   Thu Jun 9 17:18:21 2016 +0800

    README: use new stack image (#676)

[33mcommit d22103f8d24edcf8d08fb543c39f46cd9a9a9bb0[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jun 9 16:51:06 2016 +0800

    Update README.md

[33mcommit 2b1d0c89fe959df3bfd91bf6edd7c7d93ae90cc2[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Jun 8 19:50:18 2016 +0800

    *: bump version of cadence (#674)

[33mcommit bc6db00e108e929527e2852a0de9c75b047e6cfa[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jun 8 17:21:06 2016 +0800

    store: add slow log for raft ready and destroy. (#673)

[33mcommit 7cb4b78f6fca62edbe7f1f3d7ad1fa5c64a1926a[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Jun 7 20:58:25 2016 +0800

    coprocessor: rename thread (#670)
    
    * coprocessor: rename thread

[33mcommit 489833b7f1adc3bbd13442cf93657ac6f35b2ad1[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jun 7 20:52:34 2016 +0800

    add metrics (#664)
    
    * *: add metrics.
    
    * *: speed up store stats report.

[33mcommit 6c088a5a2319ffc6f25e2460a0215f88a883d56d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jun 7 20:46:12 2016 +0800

    raft: remove redundant function (#672)

[33mcommit 3442591cabd269b184f2c9ccc91ff0a5a08a8cba[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jun 7 19:35:43 2016 +0800

    *: use more verbse panic message (#671)

[33mcommit 93ad854d4204d92253e69794d726b3c2b7379068[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Jun 7 15:18:35 2016 +0800

    tikv-server: remove unnecessary blank lines. (#659)

[33mcommit f31aaa2a8f9bc985dc303b3f0f9daba7c10c826b[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jun 7 10:57:59 2016 +0800

    worker: make clippy happy. (#663)

[33mcommit 72958cb668c853240a5d490745c9545a092fa2f3[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jun 6 15:27:52 2016 +0800

    *: support transfer leader heartbeat response. (#661)

[33mcommit 1a3c24082d56cceaf5b275f2a1bc4299138fa465[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Jun 6 11:42:22 2016 +0800

    copr: fix decimal (#658)

[33mcommit f59c2a38e68c3b68d5056febf81fcd49b423afd1[m
Merge: bfcc6817 35348ffa
Author: dongxu <i@huangdx.net>
Date:   Mon Jun 6 10:54:28 2016 +0800

    Merge pull request #660 from pingcap/siddontang/fix-store-stat
    
    raftstrore: fix available check.

[33mcommit bfcc6817bfadc7f38c7e6d3c257927d93ae89499[m
Author: tiancaiamao <306345843@qq.com>
Date:   Mon Jun 6 10:44:10 2016 +0800

    *: update clippy (#662)
    
    rustc 1.11.0-nightly (12238b984 2016-06-04)

[33mcommit 35348ffacd3aade1b086ec5af9495479ff21b42e[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jun 4 19:03:43 2016 +0800

    raftstrore: fix available check.

[33mcommit cfe390ac6257f2628908613e98967711b8bc6500[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Jun 4 18:02:41 2016 +0800

    bin: add scan command (#650)

[33mcommit b882e232b84f5daf60c52860c981fb627e2d0edb[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Jun 4 17:30:59 2016 +0800

    ci: fix failed tests (#657)
    
    * util: fix worker test
    * fix addr already in used

[33mcommit 5322d2bdb17fb353ceda41002020ea4ebe68d96d[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jun 3 17:02:30 2016 +0800

    *: support get disk capacity and available. (#651)

[33mcommit 31b2bc4af647605d96162896ef4b34db0e531eb4[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Jun 3 15:19:36 2016 +0800

    coprocessor: rename work to worker (#654)

[33mcommit 204d37d8382eddb73382bf163acd86f013a2e194[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jun 3 14:52:39 2016 +0800

    copr: fix seek (#655)

[33mcommit 82e5e688c3869592a610a2eedc2829f09db7d679[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jun 3 14:23:17 2016 +0800

    ci: use gcc instead (#656)

[33mcommit 9123ced4c9e8ddb638dc81fbdd3aa9730538c1bf[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 2 11:13:20 2016 +0800

    raftstore: must check in region range (#644)

[33mcommit 6f8dac008da219b5c136e1061214651adf741eb1[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jun 2 11:11:49 2016 +0800

    storage: fix near_seek (#649)

[33mcommit df213bbb92f5ac9903076caeec9171c662b251b3[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 2 11:10:54 2016 +0800

    metric: make clippy happy. (#652)

[33mcommit fb55c6975f6b5bccd80480551d76fe2c628c7c59[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jun 2 11:10:41 2016 +0800

    server: add thread pool name (#653)

[33mcommit b43fd587f9d5f4a141d42bda54d1b4d447278453[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jun 2 00:56:37 2016 +0800

    Makefile: check if we need to format source file before actual format… (#645)
    
    * Makefile: check if we need to format source file before actual format it.

[33mcommit 0ffb0825d2972d2c07c32f9df5c3a064d0eae540[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jun 1 18:41:55 2016 +0800

    util, bin: add nonblock udp metric (#647)

[33mcommit face1308be771922104ca2a4a92bcf7a62cb95f3[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jun 1 16:00:36 2016 +0800

    *: support store statistic heartbeat. (#638)

[33mcommit 2c7b4fc13c6dcf438d92fb72a44c2f4ba5574e37[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed Jun 1 13:40:38 2016 +0800

    bin: append node id to metric prefix (#643)

[33mcommit 8698239db95ca9c950da23fd2f8ba4027450d73b[m
Author: wegel <simon@wegel.ca>
Date:   Tue May 31 21:29:19 2016 -0400

    build portable version (eg, not build-host specific) of rocksdb's shared library (#646)

[33mcommit 838517e070f3b6d7cd3a1367540573cb65011ff7[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 31 20:46:56 2016 +0800

    *: use iter for get when suitable (#641)

[33mcommit 7e5adc726a802a7ba8abf4c10069e0744e983425[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon May 30 21:36:39 2016 +0800

    *: add metric. (#642)

[33mcommit c5846cc4c22ff0a3e9ae56cc4df93c39f5e0082b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon May 30 17:27:40 2016 +0800

    raft: fix clippy warning (#640)

[33mcommit 86ffb900805a945a9c6e1bf12b8f6630281fcea2[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon May 30 11:29:38 2016 +0800

    *: update and fix clippy happy. (#639)

[33mcommit ea32cc6525ed02eb4706282d60031877ba4b04aa[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun May 29 11:24:37 2016 +0800

    copr: add metrics (#633)

[33mcommit 4256d75ed88e9e6682b8fddcbacd5b6514af2d4c[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat May 28 15:24:21 2016 +0800

    *: add log for change peer and split. (#635)

[33mcommit 8158218d373b0fabab8b6407ba0500d210756f86[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri May 27 11:40:15 2016 +0800

    stop store when exit (#630)

[33mcommit 873b0f82c278e2c148179c2b76a15d8621df16ed[m
Author: dongxu <i@huangdx.net>
Date:   Fri May 27 11:15:55 2016 +0800

    readme: correct some mistake in tikv stack image. (#622)
    
    fix store id

[33mcommit d43fc179aca8031b26a9fa9bd0196793d41b97e9[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri May 27 11:06:40 2016 +0800

    make worker test more robust (#631)

[33mcommit e8dc1f3a7fd1fc3e0d601e25566e51341f122136[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu May 26 21:47:11 2016 +0800

    copr: batch handle request (#628)

[33mcommit 1f004c12c5c58cb27c917ea5c40688906af7d188[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu May 26 21:40:39 2016 +0800

    *: only use UDP metric. (#625)

[33mcommit 308237a1abf66733cc161e213cc34154ec4f520f[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu May 26 16:11:56 2016 +0800

    raftstore: fix get_region after split. (#627)

[33mcommit 27cc1052330fef8b7a8dc001d8ee5c7a0c89c706[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu May 26 15:51:24 2016 +0800

    *: use duration for metric time. (#620)

[33mcommit 21596610928cdf29f4de0b16bdfe8c5f03c392ab[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu May 26 13:23:13 2016 +0800

    util: refactor worker (#621)
    
    - add batch execute support
    - add multiple thread schedule support

[33mcommit 47024417ec51d4c40e9fcb46093df80e0353bd75[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu May 26 11:27:44 2016 +0800

    util: make clippy happy. (#623)

[33mcommit 7e8ed2458bf655e184ca45456becb638b549b8fa[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu May 26 11:11:22 2016 +0800

    *: fix split region. (#615)

[33mcommit bb5417cea3059b3a035bc898f22ae412a28b1705[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu May 26 09:52:59 2016 +0800

    *: make rustfmt happy. (#624)

[33mcommit 4c91911f01de73eb583b5550f461689490ffcebf[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu May 26 08:12:40 2016 +0800

    *: remove unnecessary code. (#619)

[33mcommit e05001c708ce8c2a7ce3ef2f4e82c5c49e788e63[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed May 25 20:46:45 2016 +0800

    ci: only collect coverage data in src (#618)

[33mcommit 19bcf2a3a120a1be13cbed535eb4c4ae7abac9cc[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Wed May 25 18:25:30 2016 +0800

    Add rocksdb configs (#614)
    
    * Add rocksdb configs

[33mcommit 070f61ccd92722b32bccdf435a0f106db082a425[m
Author: tiancaiamao <306345843@qq.com>
Date:   Wed May 25 15:10:30 2016 +0800

    tests/raftstore: partition write testcase fix (#616)

[33mcommit c6776c6602ced938ecc2cfb495a51cea2a54b660[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed May 25 12:58:25 2016 +0800

    *: simplify metric use. (#617)

[33mcommit 51f79fd6aecd07451d2cece9525117e96a6b5e1b[m
Merge: 71cd32ea 0256d2e0
Author: dongxu <i@huangdx.net>
Date:   Tue May 24 19:17:48 2016 +0800

    Merge pull request #613 from pingcap/busyjay/add-ci-coverage-support
    
    ci: add coverage support

[33mcommit 71cd32ea722ff868af76766ca6c24fb1a54a10f8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 24 19:17:20 2016 +0800

    *: reuse iterator (#605)

[33mcommit 0256d2e07328f735b66031994d84a7c67216a925[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue May 24 18:04:19 2016 +0800

    ignore failed cases for now

[33mcommit a45cc5740872e84fb3f98a54b30bbb97d38c2537[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue May 24 17:48:34 2016 +0800

    show detail failed msg

[33mcommit a043be21ce9e4aed7be9b248b3a093669f0e61d6[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue May 24 17:15:58 2016 +0800

    ci: add coverage support

[33mcommit 86d49fcdf185839ddb6020e94da970fb7add56aa[m
Merge: 1acf994a 65d5a584
Author: queenypingcap <jinkun@pingcap.com>
Date:   Tue May 24 16:33:53 2016 +0800

    Merge pull request #609 from pingcap/queenypingcap-patch-1
    
    Update README.md

[33mcommit 1acf994a899e1bd2df08a599dcdc65a1281286fd[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue May 24 16:11:23 2016 +0800

    *: number -> count. (#610)

[33mcommit 65d5a5846db930ca2558e44993eebe208bd5364c[m
Author: queenypingcap <jinkun@pingcap.com>
Date:   Tue May 24 13:40:52 2016 +0800

    Update README.md

[33mcommit 3b4d270933205be334bd51f7935a7f165a14a9f1[m
Author: queenypingcap <jinkun@pingcap.com>
Date:   Tue May 24 11:26:21 2016 +0800

    Update README.md

[33mcommit 29af427b4765e7eb1481eef42e5eed312ee551fe[m
Author: queenypingcap <jinkun@pingcap.com>
Date:   Tue May 24 11:01:06 2016 +0800

    Update README.md

[33mcommit 0d3f8b11f4435ea1f10d821d95c98bf8a482dcb2[m
Author: queenypingcap <jinkun@pingcap.com>
Date:   Tue May 24 10:53:26 2016 +0800

    Update README.md

[33mcommit aacec914bfd84234f82e95fcf8436bb31e8bf79f[m
Merge: 67388b36 f5fb7896
Author: dongxu <i@huangdx.net>
Date:   Tue May 24 10:18:53 2016 +0800

    Merge pull request #608 from pingcap/busyjay/cleanup
    
    storage: cleanup

[33mcommit f5fb7896c7d754925c08e57f9475cda7518edfd0[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon May 23 19:50:09 2016 +0800

    storage: cleanup
    
    We use dynamic dispatch in the outest wrap already, so generic is redundant.

[33mcommit 67388b366a29070fd82e089e6e8a5449de580c1e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon May 23 19:44:30 2016 +0800

    corp: fix duration support (#603)

[33mcommit 4f8b44d233aade047f7185825b158a46a1e16676[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon May 23 17:16:49 2016 +0800

    refactor pd. (#588)

[33mcommit 9f44017479e90b265d62eb6ec7056f64ca579390[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon May 23 14:54:43 2016 +0800

    fix toml deps (#604)

[33mcommit d4ec02d0641c78a7a40655a02510a3979603a532[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon May 23 14:41:32 2016 +0800

    raftstore: add metrics. (#600)
    
    * raftstore: add metrics.

[33mcommit 0be022804453e85072fd54917503c87250aead28[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon May 23 12:37:01 2016 +0800

    storage: introduce interator (#596)

[33mcommit 759dae8e4610163890bc3afa50d39fa3ccad6f1c[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Mon May 23 10:53:59 2016 +0800

    Add macro metric support (#595)
    
    *: add metric support

[33mcommit 3b5884ca5a9c5225da4668bb545894daa9143784[m
Author: tiancaiamao <306345843@qq.com>
Date:   Mon May 23 10:53:42 2016 +0800

    tests/raftstore: add a test case for cluster partition (#502)

[33mcommit 0d229f8eeadb8c77e54f04c517c18bc9799f1e5c[m
Author: tiancaiamao <306345843@qq.com>
Date:   Mon May 23 09:39:04 2016 +0800

    raftstore: add transfer leader admin command (#590)

[33mcommit 738523ec36a04f4307af34543173ed58f3c01b19[m
Author: tiancaiamao <306345843@qq.com>
Date:   Sun May 22 23:37:21 2016 +0800

    tests/raftstore: a split brain testcase (#553)
    
    partition API re-add

[33mcommit 8f3bbd2730fc023aa5e7a25fd4819b5f666e9372[m
Author: Shen Li <shenli3514@gmail.com>
Date:   Sun May 22 09:28:54 2016 +0800

    tikv-server: Tune rocksdb options (#597)
    
    Enable Lz4 compression and set opts.set_max_bytes_for_level_base to 64MB.

[33mcommit 3471362d88c096b18aa36a2e4df2a6b9445c93b9[m
Author: iamxy <kenneth.liu.xy@gmail.com>
Date:   Sun May 22 08:47:36 2016 +0800

    docker: upgrade rocksdb version to 4.5.1, and support liblz4-dev for compression tuning (#598)

[33mcommit f1d9ec6f339a62889e4d4d4fb46d58ffb56cc9fe[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat May 21 17:22:55 2016 +0800

    util: use Once to initialize panic hook (#599)

[33mcommit af24ef499ea4260f03ffa67834d7ed0b2f541dc8[m
Author: disksing <i@disksing.com>
Date:   Thu May 19 00:40:31 2016 +0800

    kvrpc: add batch rollback, update commit (#583)

[33mcommit 94d48069c507f43bfb91d92c2080f6aaed98eeb8[m
Author: tiancaiamao <306345843@qq.com>
Date:   Wed May 18 19:00:27 2016 +0800

    tests/raftstore: refact api, clean up (#593)
    
    remove cluster partition API temporarily
    add a hook_transport API to cluster
    remove transport simulator Strategy and use Filter/FilterFactory instead
    change transport simulator Filter trait to immutable

[33mcommit b0a15ca20ca5153ec8cab2a1fae7a40ce36e466c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 17 19:34:43 2016 +0800

    corp: add decimal support (#582)
    
    close #535

[33mcommit 7cc109fcedd8219484829fe63844fbc07a2277bc[m
Author: tiancaiamao <306345843@qq.com>
Date:   Tue May 17 19:14:39 2016 +0800

    raft: do not panic when removing all the nodes from cluster (#587)
    
    port from etcd https://github.com/coreos/etcd/pull/5366

[33mcommit 2576d88a3b8f824fe473a54a119c65272b310cd7[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 17 18:33:51 2016 +0800

    corp: support omitted nullable value (#591)

[33mcommit acbefa7bd35d4d741f036bf6114202aafb755db4[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 17 18:28:59 2016 +0800

    corp: add missing type check (#592)

[33mcommit 177c05fe9be7ef477735de4681517eed87238a00[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 17 16:19:30 2016 +0800

    corp: detect handle type (#589)

[33mcommit 443ba51feaa5d4084059ae64961d6a1d73cd3181[m
Author: disksing <i@disksing.com>
Date:   Mon May 16 20:16:07 2016 +0800

    *: fix ts generators in tests (#585)

[33mcommit a7145ffd68744d8b5888e758ae2d0d44f838a160[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon May 16 15:31:07 2016 +0800

    *: cleanup pd. (#584)
    
    Real RPC pd will handle mutability internally, no need `mut` in trait.

[33mcommit 2e1b4034a525a1532ecc560f2752099d9b0ff5fb[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon May 16 12:24:45 2016 +0800

    codec: add desc bytes encoding (#578)

[33mcommit 3e660aa6174c66c4664bb3cb1ff828bdb2ef7f61[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon May 16 09:49:36 2016 +0800

    *: update with newest rustfmt. (#581)

[33mcommit 1d1faf253d7b0ed28aee14bc5b21e97788835c05[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sun May 15 03:35:40 2016 -0500

    *: format by newest rustfmt. (#580)

[33mcommit c0566237ca96627b11764906bd35415643569cdd[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat May 14 18:03:13 2016 +0800

    *: cleanup pd (#579)

[33mcommit 258c30461307fd64ca7e5d78d3f89f0ce3dc78e4[m
Author: tiancaiamao <306345843@qq.com>
Date:   Sat May 14 09:39:19 2016 +0800

    raft: simplify leadership transfer (#573)
    
    keep sync with etcd

[33mcommit 63343156252f74ea5d1b8dce7187848cb2beb10c[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri May 13 13:44:19 2016 +0800

    *: cleanup pd interface, remove cluster id. (#576)
    
    * *: cleanup pd interface, remove cluster id.

[33mcommit d503214fc32d9a666868377be37101dd829955e6[m
Author: tiancaiamao <306345843@qq.com>
Date:   Fri May 13 11:34:24 2016 +0800

    re-add peer (#570)

[33mcommit 952ceff6352f371eab508ba1a104c2c19b345dc1[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu May 12 19:06:51 2016 +0800

    util: simplify InvalidDataType error (#572)

[33mcommit 4731fad428783121ab5bd63a8316a022a8d71c7b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu May 12 18:42:11 2016 +0800

    corp: support limit and reverse scan (#563)

[33mcommit b77cf13df224e386fa924a84d2b484dbe06a1dd5[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu May 12 17:52:16 2016 +0800

    corp: add duration support (#569)

[33mcommit 8a8cd495b62dc61bbbafa008797a6f136035b23d[m
Author: disksing <i@disksing.com>
Date:   Wed May 11 20:12:39 2016 +0800

    coprocessor: decode/encode in on_split (#568)

[33mcommit 8c339c2e633f13e013ac415ba82fd15838bfb1da[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed May 11 19:02:45 2016 +0800

    create event loop outer for store.  (#567)
    
    * *: unify trait name and order, the same as raft store.

[33mcommit 96e2ce453e87c598bbbf45ffc5ed3571ff2f3c60[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue May 10 21:44:04 2016 -0500

    Fix meta split tests (#558)
    
    * mvcc: fix tests and make meta value smaller
    
    For making decode meta faster.
    
    * mvcc: fix meta split tests.

[33mcommit 803e6fc990409be86317b057e7293e0cc92c3abf[m
Author: disksing <i@disksing.com>
Date:   Wed May 11 10:38:06 2016 +0800

    storage: encode keys from client (#560)

[33mcommit 4c457850c16fed1de175ce7ff757ad145aed9599[m
Author: tiancaiamao <306345843@qq.com>
Date:   Wed May 11 10:23:50 2016 +0800

    *: fix kvproto git dependency (#561)

[33mcommit 837017335eacc4750cc31278f0b68870b5bf5d7a[m
Author: tiancaiamao <306345843@qq.com>
Date:   Wed May 11 09:56:30 2016 +0800

    pdclient: meta request split to store/region/config (#542)

[33mcommit 768d909be0dd70161361f68b27bbcd4fb69d34e8[m
Author: tiancaiamao <306345843@qq.com>
Date:   Tue May 10 21:44:02 2016 +0800

    raft: port transfer leader feature from etcd (#534)
    
    *: suppress compile warning

[33mcommit 8dca9438985bf96fcb3ff8d01bf50e81c1888aee[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue May 10 15:42:47 2016 +0800

    raftstore: increase the wait time. (#555)

[33mcommit 32e075d373cb4ad5ce8dad64fd5914005125eed1[m
Author: disksing <i@disksing.com>
Date:   Tue May 10 14:05:28 2016 +0800

    kvserver: enumerate all possible paths to extract region error. (#551)

[33mcommit 326ee58ceb8d39889ab424a957d33ff71c4ab9f0[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon May 9 23:51:25 2016 -0500

    raftkv: move read outside of raft thread. (#552)

[33mcommit 835db69916edabdd4a2783b34e7909e0f9dbb706[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue May 10 11:19:06 2016 +0800

    [DNM] *: wrap pd request/response (#556)
    
    wrap pd request/response

[33mcommit 765971f77d314fb4a1e368b689db2efd0ee245b5[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 10 10:57:18 2016 +0800

    codec: support float (#554)
    
    cc #535

[33mcommit 5d5f8b3355498c20ff2fc0bad987354e2a804aac[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon May 9 08:55:54 2016 -0500

    raftkv: add comments. (#545)

[33mcommit 17460d6ef1a2e54a979f45ad26740b7b68a2ecd9[m
Author: Shen Li <shenli3514@gmail.com>
Date:   Mon May 9 16:52:43 2016 +0800

    coprocessor: Add time consume logs (#549)
    
    * coprocessor: Add time consume logs for coprocessor

[33mcommit 3a82ba7c4590480c2227ce801b7b970cc27135bc[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon May 9 16:21:15 2016 +0800

    update cargo. (#548)

[33mcommit 26ee7358f3db74fd52ec57762aecb543918307fb[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun May 8 18:23:33 2016 +0800

    tests: avoid remove probe (#547)

[33mcommit 85f9dd617ffdd1a48ff772751ea9acfe0c22c455[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat May 7 09:14:49 2016 -0500

    txn: tiny clean up. (#546)

[33mcommit fbe27b9ec989197d03343d2f9821b3b6c0a42e47[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat May 7 08:29:08 2016 -0500

    raft: clean up (#544)

[33mcommit 981d97ce646f1eb3ff5bc59d636950d2b451b595[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat May 7 21:24:53 2016 +0800

    *: hide sendch/token/msg id for handler. (#543)

[33mcommit 802145fb3805697bbbf3b96cd351007c008d8e25[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat May 7 18:12:59 2016 +0800

    Use read/write trait to simplify codec (#533)

[33mcommit 6c487ed44adbf297cd054f09e2892809c8718bc6[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat May 7 11:08:04 2016 +0800

    util: fix event dead lock (#539)

[33mcommit 8ec78e1898c34c5c2919f3f8acef5eaadae9b03e[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat May 7 10:49:14 2016 +0800

    *: heart beat pd with PutStore protocol. (#538)
    
    *: heart beat pd with PutStore protocol.

[33mcommit dbcdc42a2f49f17120990fa2eadb5d76597462e0[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri May 6 13:49:33 2016 +0800

    fix compare null (#536)

[33mcommit d74d62f3e5b4c1c04ca8d7a19b27e351bd8afd4e[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu May 5 09:47:06 2016 -0500

    *: add tag for logging and debugging (#537)

[33mcommit e30030f2c6b63d22b0fd6e2b8c80fad95e12bbe3[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu May 5 09:08:57 2016 -0500

    storage: rename shared to engine. (#531)

[33mcommit 3106acdf7bfb5b9c24072782e56b2107c98dd5bf[m
Author: Neil Shen <overvenus@gmail.com>
Date:   Thu May 5 19:55:35 2016 +0800

    bin, etc: support config file. (#525)
    
    * bin, etc: support config file.

[33mcommit 14a9f0096a92e2b56d4aa45809cf123148409698[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu May 5 19:52:32 2016 +0800

    raftkv: make snapshot consistent (#521)

[33mcommit 1b45bc670a58eb884f8300c5e37b62be1585f762[m
Author: disksing <i@disksing.com>
Date:   Thu May 5 15:21:29 2016 +0800

    *: fix ci failure (#532)

[33mcommit e142bbe8cb859ade0564874e0ad9c2550acf138d[m
Author: disksing <i@disksing.com>
Date:   Thu May 5 13:14:42 2016 +0800

    kvserver: return more specific error to ticlient (#530)

[33mcommit 3529816664626b8213b26a724b9803277e1a76f5[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed May 4 23:43:05 2016 -0500

    lib: allow define more errors. (#527)

[33mcommit 3b2c463686169aeee14c8232e7ea6fbd9e23ec3d[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed May 4 06:28:40 2016 -0500

    store: fix panic. (#524)
    
    We should drop the invalid message.

[33mcommit 5c69a026a6a69be6d5cf59dcc48f8729c9b5ffa0[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 3 23:57:28 2016 +0800

    util: introduce Event (#520)

[33mcommit e2e28803f7ce597048164b47975d9cd884959e0a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 3 15:33:36 2016 +0800

    tests: fix `leader_of_region` (#519)

[33mcommit 12c36194d325051c9cea13c2850bab108451f146[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue May 3 15:22:17 2016 +0800

    store: atomically committing and changing storage. (#516)

[33mcommit 2c0e32645de2add50ddfffd8460b810193ebec90[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue May 3 15:21:34 2016 +0800

    store: check epoch in split check result. (#517)

[33mcommit 38b0fee97160dfdea8cd12a8eab48acf9a7f4353[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue May 3 14:05:53 2016 +0800

    remove peer (#511)
    
    *: remove peer

[33mcommit 43bf71c7cfa8677edb941e5daa13ecf9fb4d8191[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon May 2 23:45:59 2016 -0500

    clean up Makefile (#518)

[33mcommit d502c8fef1f759124ee57bcb194eabe40fb7f95c[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon May 2 23:02:44 2016 -0500

    remove mem engine (#510)
    
    * *: remove memory engine.

[33mcommit 57e923023149efe8935dbc7034b8eb39488853a9[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue May 3 11:46:05 2016 +0800

    raft: fix occasionally panic test case (#509)
    
    * raft: fix occasionally panic test case
    * sync test and doc changes

[33mcommit 75975dc77a591637d3f353ee18565eb3fbb320ee[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon May 2 21:26:05 2016 +0800

    *: resolve several compile warnings and ci errors (#515)
    
    * use extend_from_slice
    * reuse address when start
    * ignore not leader for pd_ask job
    * adjust call_command signature

[33mcommit 481ee6b7f8e9a68e271c1e7fee8c5eb366a9aefa[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon May 2 18:49:35 2016 +0800

    tests: fix random restart (#508)

[33mcommit f085d6f9d45ad9378c7d3d9aaa65f46bc2375558[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon May 2 04:58:47 2016 -0500

    Fix split panic (#512)
    
    * Add more logs
    
    * Fix split panic
    
    
    * util: implement byte array escape (#513)

[33mcommit 40ec948dd499a332dfc8a9195a3c8d1399b7f8c2[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Apr 29 04:48:09 2016 -0500

    README: fix typo. (#507)

[33mcommit 20ac3ac00e7675759b9d2a5d6c6d639614abf640[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Apr 29 17:11:54 2016 +0800

    *: use newest master mio. (#506)

[33mcommit 19df290d3626705c05c760c460d737583ebec1f0[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Apr 29 15:47:50 2016 +0800

    raftstore: call stale callback (#500)

[33mcommit d064afdc224019c70059c62d9223b487bc58a5ca[m
Author: tiancaiamao <306345843@qq.com>
Date:   Thu Apr 28 21:37:54 2016 +0800

    tests/raftstore: refact call_command_on_leader (#498)
    
    auto retry if response has error and the error is caused
    by leader change

[33mcommit 040f63985ce3486aa86746ee7b4961c79ccbd278[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Apr 28 06:36:36 2016 -0500

    peer_storage: tiny clean up. (#497)
    
    * peer_storage: tiny clean up.

[33mcommit 814ab39cd8f7af65eb9b67ff2d0f91dee3b2de0b[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 28 16:47:46 2016 +0800

    server: use pending list for asynchronous address resolving. (#501)
    
    *: drop msg when resolving store address.
    *: report snapshot failure and unreachable if resolving failed.

[33mcommit de69e3fa098fbacf0d6ca67a88d15847292f2e5e[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 28 16:43:57 2016 +0800

    *: adjust log (#503)
    
    * add message size log
    * use decimal format for IDs

[33mcommit bfd2f2afff7dc84f853d5840ecf9fd2912ff3d1f[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 28 11:02:35 2016 +0800

    *: port Etcd randomized election timeout. (#499)

[33mcommit 99fdeef2cb81af21dc4b82d2cff7adee8828361a[m
Author: tiancaiamao <306345843@qq.com>
Date:   Wed Apr 27 20:38:54 2016 +0800

    tests/raftstore: add a partition function for Cluster (#474)

[33mcommit 092397433815ed13fa5c4129057036e6ed7be77e[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Apr 27 06:25:04 2016 -0500

    *: fix typo. (#495)

[33mcommit 3f22d9b6d3c0ebf4237f3a27d6dd979875929c32[m
Author: disksing <i@disksing.com>
Date:   Wed Apr 27 18:02:19 2016 +0800

    *: display detailed error message (#496)

[33mcommit abc04336d67d825eecb74e07e945ea65ef64b6c4[m
Author: tiancaiamao <306345843@qq.com>
Date:   Wed Apr 27 15:26:57 2016 +0800

    *: random restart test case put random value (#494)

[33mcommit e7eb628784b4dac635fb12a096ef762d464e788f[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Apr 27 12:54:57 2016 +0800

    *: cache store address. (#488)
    
    * *: cache store address.

[33mcommit f3bc1be8e45004de8041fbb089f36ff12587f0ea[m
Author: tiancaiamao <306345843@qq.com>
Date:   Tue Apr 26 18:17:29 2016 +0800

    tests/raftstore: fix CI drop packet testcase (#486)
    
    drop packet test case should be fixed, almostly, if not absolutely
    some other problem in CI 'may' also be fixed

[33mcommit 72cbecad37f4cd923d3690e8e0f7e2aa01a3ede5[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Apr 26 15:47:39 2016 +0800

    raftstore: convert socket timeout error. (#487)
    
    * raftstore: convert socket timeout error.

[33mcommit d4fb67541891f86ef281b663f038490b8c573e42[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Apr 26 13:29:55 2016 +0800

    *: exit process when panic. (#485)

[33mcommit f4a78005564406f3354f7b264ac0fee14a1b346c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Apr 26 13:21:59 2016 +0800

    corp: support in push down (#480)

[33mcommit 9ea798324fb4638b3343a4a1de2414db5e50c8f8[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Apr 26 12:56:07 2016 +0800

    raftkv: implement reverse_seek (#483)

[33mcommit c9cd14e6df2c6a7c5bec6e7d95f400bddb28537c[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Apr 26 11:26:39 2016 +0800

    worker: use slow timer. (#484)

[33mcommit 05c7793cabf05ab3284a477f568c638e7a12a757[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Apr 25 09:33:19 2016 -0500

    engine: remove unused code. (#482)

[33mcommit 4af016d0ece69c6f62f90c6174937d898b08b534[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Apr 25 08:33:08 2016 -0500

    raftkv: tiny clean up. (#481)

[33mcommit 87144c97b2784d2484c013e43d720ec23594f3f2[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Apr 25 19:05:12 2016 +0800

    store: split on_ready_result. (#479)

[33mcommit 1b2a17b3b9b98ff24d268803aba937cd8e50e08d[m
Author: tiancaiamao <306345843@qq.com>
Date:   Mon Apr 25 16:02:09 2016 +0800

    *: surpress build warning (#478)
    
    OutOfOrder is never needed before the code become more robust

[33mcommit fff29f64b3461898956b8869b5a247c342ed2b12[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Apr 25 15:51:52 2016 +0800

    *: use slow log to simplify slow operation log. (#475)

[33mcommit 0fa37d74d72150f0bb38dcff27f9584906b11af3[m
Author: disksing <i@disksing.com>
Date:   Mon Apr 25 15:46:46 2016 +0800

    *: update Cargo.lock (#477)

[33mcommit b92d991b620649c49b0b443d0d18188ce1de3bd8[m
Author: disksing <i@disksing.com>
Date:   Mon Apr 25 14:32:02 2016 +0800

    [DNM] storage/mvcc: split meta (#472)
    
    * storage/mvcc: split meta

[33mcommit d0d2af3ff7d2066f5614dde90d065663b8fea046[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Apr 25 00:21:16 2016 -0500

    Cargo.toml: update dependency. (#473)

[33mcommit 13c8c03dc5a14fd8b9e584450a0a4ce810300a85[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Apr 25 12:58:26 2016 +0800

    rocksdb: basic tuning (#470)

[33mcommit 6fa090711ba4828e35e419edea369e6590f02a76[m
Author: tiancaiamao <306345843@qq.com>
Date:   Mon Apr 25 10:23:07 2016 +0800

    tests/raftstore: return Timout error when FilterDropPacket drop packet (#439)
    
    * tests/raftstore: return Timout error when FilterDropPacket drop packet
    
    change trait Transport send to mutable

[33mcommit e65b0193e37002a667aee5f4afbec94efade51b6[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Apr 24 21:01:59 2016 +0800

    store: open check quorum default. (#460)

[33mcommit ed658bebb819e1f74396efbbae4c62d3b0e33803[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Apr 24 13:03:49 2016 +0800

    corp: use thread pool to execute pushdown (#466)

[33mcommit b53030b61f36d76f41496ea0ffb6b2a42f0ed7cf[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Apr 24 11:47:54 2016 +0800

    *: use shutdown to close snapshot conn gracefully. (#469)

[33mcommit 9c1e25f3e5a7d3f4554a2a3f9080fb61a2dea595[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Apr 23 13:09:08 2016 +0800

    store: fix snap status set order. (#467)

[33mcommit 680a1bf96be55cf1010512c5e6853290a2528f3d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Apr 22 19:32:02 2016 +0800

    raftstore: fix stale leader check (#464)

[33mcommit 8aa5913386925b281daf902857cf1f9c48e36c4d[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Apr 22 14:28:06 2016 +0800

    *: use another connection for snapshot. (#459)
    
    * *: use another connection for snapshot.

[33mcommit 5d5212b9d39d5f24e1b49960b388c0b94ed09ef5[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Apr 22 14:04:25 2016 +0800

    bin: Add tikv dump util (#458)

[33mcommit ab217f3f265f3d255890a497d3dad7337d37cba5[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Apr 22 14:00:31 2016 +0800

    raftstore: update iterator signature (#462)

[33mcommit a35d0d45f62151253767a9fe5813f074402d561d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Apr 22 13:39:10 2016 +0800

    raftstore: speedup compact (#457)

[33mcommit 9a279c270179a71b266c4872192024927204aaed[m
Author: disksing <i@disksing.com>
Date:   Fri Apr 22 13:28:02 2016 +0800

    [DNM] *: update kvrpc response (#440)

[33mcommit 7f9877113d507e1718900e58c9242b696a9840e8[m
Merge: 7d7dbc3a 979379b1
Author: Shen Li <shenli3514@gmail.com>
Date:   Fri Apr 22 11:35:40 2016 +0800

    Merge pull request #461 from pingcap/shenli/cleanup
    
    Fix typo in readme

[33mcommit 979379b14e3931bce7d795e3db8fe88a4a7a5751[m
Author: shenli <shenli3514@gmail.com>
Date:   Fri Apr 22 11:13:40 2016 +0800

    Fix typo in readme

[33mcommit 7d7dbc3ae26d74d057a1bf663bbf388ca39937dc[m
Author: Shen Li <shenli3514@gmail.com>
Date:   Fri Apr 22 10:53:10 2016 +0800

    Shenli/fix readme (#454)
    
    * *: Fix readme typo
    
    * Fix link

[33mcommit 7bc678967ce8c97b8cd74434c5e1075eb35990ff[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 21 21:58:41 2016 +0800

    copr: support filter before select (#447)

[33mcommit d32f31b128dcc7259e54e64b54fc0224f783fda7[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 21 20:55:30 2016 +0800

    *: make byte array readable (#455)

[33mcommit e85c7c83bb28253f0c272f2094e60d970584e03a[m
Author: tiancaiamao <306345843@qq.com>
Date:   Thu Apr 21 20:54:59 2016 +0800

    *: fix build

[33mcommit 0183b26814814a34da328fb24315a78714790ddd[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 21 19:55:04 2016 +0800

    handle execute ready results after removing itself (#434)
    
    * *:  handle CompactLog after removing itself.

[33mcommit 1ab3a9896fd4518625f2829c0a5da4892c332b0f[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 21 19:46:46 2016 +0800

    *: update stale message check. (#448)
    
    * *: update stale message check.

[33mcommit a39badc8e051ee476a7b8b004364f399afd88ecd[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 21 18:20:23 2016 +0800

    bin: Fix compile. (#453)

[33mcommit 07d4e34ded85290a4228615e586f5e866afd4356[m
Author: tiancaiamao <306345843@qq.com>
Date:   Thu Apr 21 17:43:25 2016 +0800

    tests/raftstore: rename panic api put/delete/seek etc to must_xxx (#452)
    
    error is usual in a distribute system. if we panic on error, we name
    the api must_xxx, so caller won't get a surprise on that behavior.

[33mcommit 337d5cf95a9609232144303673ba242537c71c36[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 21 17:07:44 2016 +0800

    *: get store address asynchronously. (#449)

[33mcommit 31ff2222eb3c5d6a40e14c4150da1771d6044128[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 21 14:49:54 2016 +0800

    simplify pd RPC client and add a pd worker (#445)
    
    * *: use pd worker for asynchronous communication.

[33mcommit bd8b8ed26370bdae8feb1390eededf973f87544c[m
Author: dongxu <i@huangdx.net>
Date:   Thu Apr 21 14:44:06 2016 +0800

    use new tikv software stack image. (#450)
    
    * doc: use new software stack image

[33mcommit 391277de714696582f87abfbc714d250bd667bfd[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 21 12:29:44 2016 +0800

    observer: fix split error (#446)

[33mcommit 86caa96b15a9622adc78c33a6879a7d088c97750[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 21 11:52:45 2016 +0800

    *: tiny cleanup (#438)
    
    - disable snappy compression
    - add some perf metrics

[33mcommit dcd794e1247dce21372170c7a1ecf3b8a402d964[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 21 11:20:42 2016 +0800

    raftstore: only compact replicated log (#433)
    
    - raftstore: only compact replicated log
    - close #424

[33mcommit 8f1ac22b4ea6eada76ff4c8ffaab5eb491ce77d1[m
Author: disksing <i@disksing.com>
Date:   Thu Apr 21 11:05:25 2016 +0800

    *: add reverse_seek / reverse_scan (#437)

[33mcommit 224021c644ddac6c5171f19a5a1a258f7a385b42[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 21 10:34:23 2016 +0800

    *: fix pd alloc ID failed. (#444)
    
    * *: fix pd alloc ID failed.

[33mcommit d2ad10de7086cef1fe6667eb932723e9137131d1[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Apr 20 12:30:24 2016 +0800

    *: add missing license. [ci skip] (#441)

[33mcommit 0ca7f7ed4ffbf322427a1d4f1f7e2af6f3e55381[m
Author: tiancaiamao <306345843@qq.com>
Date:   Tue Apr 19 10:43:31 2016 +0800

    tests/raftstore: add random node restart testcase (#357)
    
    * tests/raftstore: add random node restart testcase
    
    * tests/raftstore: random restart testcase avoid long wait for raft ready
    
    this testcase may take a while to run，about 1 minute
    
    * tests/raftstore: random restart testcase change
    
    decrease iteration count to pass github ci
    
    * tests/raftstore: wait_until_node_online now only check the specific node
    
    * tests/raftstore: test_multi_random_restart check whether data replicated in the restarted node
    
    * tests/raftstore: add put/get operation during random restart
    
    * *: Address comment

[33mcommit 5b7446a1a4f3526985216f8af31613414a3385ad[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Apr 18 19:33:53 2016 +0800

    raftstore: add cost for call command failed. (#425)

[33mcommit 3700e7eceab2dec123f01a4cfe4c6bc0a7d5e1e0[m
Merge: 7ec4a717 9a84491e
Author: tiancaiamao <306345843@qq.com>
Date:   Mon Apr 18 14:03:49 2016 +0800

    Merge pull request #414 from pingcap/tiancaiamao/raftstore-bad-transport-1
    
    tests/raftstore: add SimulateTransport for testing bad network traffic

[33mcommit 9a84491ee0e41e520669491d9703f1aa7bb80061[m
Author: tiancaiamao <tiancaiamao@gmail.com>
Date:   Wed Apr 13 22:01:41 2016 +0800

    tests/raftstore: add SimulateTransport for testing bad network traffic
    
    SimulateTransport has a bundle of filters, while will do some addition work
    before call the the underlying Transport, to simulate bad network traffic,
    such as drop packet, timeout, and so on.

[33mcommit 7ec4a71794a14604dc9c36bf63e3a6da82c846cc[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Apr 18 12:30:56 2016 +0800

    coprocessor: add endpoint tests (#384)
    
    * add endpoint tests

[33mcommit e7537c401ceec14302c57d2be675f6e1ac67e51a[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Apr 18 11:57:57 2016 +0800

    raftstore: use channel instead of vecque (#420)

[33mcommit 659e9eb1ab8be103711df91255194666eeef3db9[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Apr 18 11:32:04 2016 +0800

    *: handle uninitialized peer when splitting (#415)

[33mcommit dc7f8ce5a4b6d360bfd05cb2efcf5791ca0dc489[m
Author: disksing <i@disksing.com>
Date:   Mon Apr 18 10:55:58 2016 +0800

    *: update rust (#431)

[33mcommit fa01a359624ab3cf9c92c344e439ff7dff31f8af[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Apr 17 19:54:47 2016 +0800

    *: make newest rustfmt happy (#421)

[33mcommit 5a1c1a0dc8af389daa5032e8b7c0b4562a97ec2e[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Apr 16 17:52:30 2016 +0800

    server: fix ci hangup in mac. (#422)

[33mcommit db3b3ca24a8e0030d4a102fd394e936ede75e965[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Apr 16 15:04:44 2016 +0800

    store: reject stale RequestVote. (#419)
    
    * store: reject stale RequestVote.

[33mcommit a5fe1aa633f8e1eaf99d74db0c056e45cc81f999[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Apr 15 20:02:49 2016 +0800

    server: asynchronous host resolving. (#408)
    
    * server: asynchronous host resolving.

[33mcommit 59ebe9a1556547ef62acb711456546705bb5aab6[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 14 14:52:04 2016 +0800

    util: support simple like (#407)

[33mcommit ec4cbeadbd176bf9f1aec1361afd8b8b3dc409ef[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Apr 13 14:28:02 2016 +0800

    ci: fix ci on mac (#411)
    
    * Fix ci fail on mac

[33mcommit f72ae30cfd331c8a9279334be5cee0f99d4cfedf[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Apr 13 13:24:45 2016 +0800

    pd: fix retry (#409)

[33mcommit dd01a86049e6d1ef4e87c6e4ee1b7ee5205bc032[m
Author: Xiang Li <xiangli.cs@gmail.com>
Date:   Tue Apr 12 09:59:07 2016 -0700

    README.md: clean up (#403)
    
    * README.md: clean up
    
    Make `Horizontal scalability` section better!

[33mcommit d05e64e364f853656cb61569f1298e8473140271[m
Merge: 3c45acb4 ae6ff037
Author: tiancaiamao <306345843@qq.com>
Date:   Tue Apr 12 15:28:45 2016 +0800

    Merge pull request #406 from pingcap/tiancaiamao/rocksdb-option-2
    
    tikv-server: rocksdb add create_if_missing option

[33mcommit ae6ff037e1a79282226dbd83ebe7f27e76cc1c24[m
Author: tiancaiamao <tiancaiamao@gmail.com>
Date:   Tue Apr 12 15:22:53 2016 +0800

    tikv-server: rocksdb add create_if_missing option

[33mcommit 3c45acb4344382c63044eea785ce94701afd03fd[m
Merge: 44de8dad eceb4ed7
Author: tiancaiamao <306345843@qq.com>
Date:   Tue Apr 12 15:12:31 2016 +0800

    Merge pull request #405 from pingcap/tiancaiamao/rocksdb-option-1
    
    tikv-server: change rocksdb option block_size and target_file_size_base

[33mcommit eceb4ed736c00fa9349b0f455d5d809047be38f4[m
Author: tiancaiamao <tiancaiamao@gmail.com>
Date:   Tue Apr 12 14:55:50 2016 +0800

    change rocksdb option block_size and target_file_size_base

[33mcommit 44de8dad771f47eb51982162b2e7b7107ba2e632[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Apr 12 14:56:51 2016 +0800

    raftstore: make compact async (#404)
    
    * fix compile issue
    * make compact async
    
    * add more log

[33mcommit da6f284033b9708ed7ddce16b083a25400bdb2b0[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Apr 12 13:24:24 2016 +0800

    raftstore: make snapshot async (#395)

[33mcommit 94c7f8b76de1c5ff3754ffc661537096a52f578c[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Apr 12 13:03:25 2016 +0800

    raft: fix wrong slice (#398)

[33mcommit d2636d82fde38ee5993687e368de575bea1ae3bb[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Apr 12 13:03:05 2016 +0800

    util: support eval_not (#399)

[33mcommit c39ade2226e51000d138b88539b0b32c72e3ba7f[m
Author: Xiang Li <xiangli.cs@gmail.com>
Date:   Mon Apr 11 21:26:09 2016 -0700

    README.md: clean up words (#402)

[33mcommit d07c76e3b1e65a7147ec40e7ab670936fc4813a9[m
Merge: cdee2cab 16c76465
Author: cuiqiu <cuiqiu.bupt@gmail.com>
Date:   Tue Apr 12 11:03:55 2016 +0800

    Merge pull request #394 from pingcap/siddontang/clean-log
    
    store: add some log.

[33mcommit 16c76465aafeed316fe0624faa2a770c352e57d6[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Apr 12 10:36:32 2016 +0800

    store: add some logs.

[33mcommit cdee2cab68e686a78792efe0c2400aa05580af13[m
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Apr 12 00:29:13 2016 +0800

    transport: add timeout (#396)

[33mcommit df9439ae32f1950b9da64fc690df44a1d50425d1[m
Merge: 33c2f0ad 1096b1e7
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Mon Apr 11 21:28:44 2016 +0800

    Merge pull request #397 from pingcap/morefreeze/fix_batchGet
    
    kvserver: fix batch get ok return null ResultType

[33mcommit 1096b1e71942a8975907aa2561880be738114fea[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Mon Apr 11 15:50:15 2016 +0800

    kvserver: fix batch get ok return null ResultType

[33mcommit 33c2f0ad511ef3f049c3bdde98a1e0bbada8d1a2[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Apr 11 03:50:34 2016 -0500

    peer_storage: Log snapshot size and key count. (#393)
    
    * peer_storage: Log snapshot size and key count.

[33mcommit 10bf5c5c76867af5d2e7c16d486375c5ee03a7bb[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Apr 11 14:28:43 2016 +0800

    *: snapshot doesn't contain logs. (#392)
    
    * *: snapshot doesn't contain logs.

[33mcommit 5c164b60d412fa4ec2383fb4cbf1e36130cc0961[m
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Apr 11 13:39:54 2016 +0800

    util: fix and/or with null (#385)

[33mcommit 5322d035ece5da4f8a6fda6bd4252175d6324ab2[m
Author: disksing <i@disksing.com>
Date:   Mon Apr 11 10:59:52 2016 +0800

    kvprc: add key in LockInfo (#386)
    
    kvprc: add key in LockInfo

[33mcommit ebd9a8f60d24342024234fdb9e1bd366c02dbeba[m
Merge: 13977ac5 ec1bd97b
Author: cuiqiu <cuiqiu.bupt@gmail.com>
Date:   Sun Apr 10 23:43:29 2016 +0800

    Merge pull request #390 from pingcap/siddontang/docker
    
    use docker ignore to skip git [ci skip]

[33mcommit 13977ac53c9e167bdc1318a8647ed82e1d272750[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sun Apr 10 09:58:33 2016 -0500

    pd/client: backoff when connection refused. (#391)

[33mcommit ec1bd97b07e63df944f1a5c18bb1127a88b89f8d[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Apr 10 22:44:41 2016 +0800

    use docker ignore to skip git [ci skip]

[33mcommit 922f443c63c87d3a6848f5c34640eeeede3853c7[m
Merge: a0d73e2d 7c40146f
Author: siddontang <siddontang@gmail.com>
Date:   Sun Apr 10 22:34:09 2016 +0800

    Merge pull request #388 from pingcap/siddontang/docker
    
    Dockerfile: use cargo clean instead.

[33mcommit 7c40146fb1fff17e4677907f39c900b7dddbf627[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Apr 10 22:29:25 2016 +0800

    Dockerfile: use cargo clean instead.

[33mcommit a0d73e2d3005092b6b0495f3744f140aed9f1dec[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Apr 10 19:50:35 2016 +0800

    add push implement (#379)
    
    * add push implement
    * make endpoint async

[33mcommit 8d320da24b823c486fb272e53fd4609ad2b024fb[m
Author: disksing <i@disksing.com>
Date:   Sun Apr 10 18:32:24 2016 +0800

    storage: batch get command (#383)
    
    storage: batch get command

[33mcommit 56299222cf52a9fc49de6cce8f15837dc7a5aacb[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Apr 10 16:10:50 2016 +0800

    pd: use max retry for sending msg. (#381)

[33mcommit 7bc0c900fa9fb386b41828cec912b7267a1c402d[m
Merge: 1453c69b 8a75868f
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Sun Apr 10 14:47:31 2016 +0800

    Merge pull request #382 from pingcap/morefreeze/return_error
    
    [DNM]return right Request Error

[33mcommit 8a75868fb218757d7c915f27aef94ba2ceb9e59b[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Sun Apr 10 14:32:07 2016 +0800

    *: add FIXME

[33mcommit 83266f4069bf0accba33510d1fc717d3419a2d8e[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Sun Apr 10 14:21:48 2016 +0800

    *: return right Request Error

[33mcommit 1453c69b31a45dbf5e21896f4babd4c661f3ae23[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Apr 9 20:57:42 2016 -0500

    Makefile: make release. (#376)

[33mcommit 8fe6cd177c198742eef745edc3e3108f60122819[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Apr 9 20:29:06 2016 -0500

    *:Revert last change to kv.rs. (#380)
    
    Fix build.

[33mcommit 732261fef78e96a7c460207a7d6a621652cc13ae[m
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Sun Apr 10 09:16:12 2016 +0800

    *: update cargo lock (#378)

[33mcommit dd7ae09f590522f99bbce3c90058e3645edd8140[m
Merge: 0a79476a 1bcff784
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Sat Apr 9 23:02:54 2016 +0800

    Merge pull request #366 from pingcap/morefreeze/refactor_NotLeader
    
    [DNM]refactor not leader

[33mcommit 1bcff784efbf75cea6a95848ee14c4f4e7162c97[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Sat Apr 9 16:40:13 2016 +0800

    storage: judge prewrite ts when lock

[33mcommit e85eecd25ed58d59fa441520f35f51f3a9cd3bd0[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Sat Apr 9 12:57:26 2016 +0800

    kvserver: DRY

[33mcommit 9b18fb9af536d44c00a50d2560618d7623c6356a[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Fri Apr 8 14:36:56 2016 +0800

    kvserver: add not leader tests

[33mcommit a4f4c0951e7a1846bf01be61667bb7d5a5cf0f74[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Apr 7 16:29:47 2016 +0800

    kvserver: move context and tiny fix prewrite item bug

[33mcommit c8002e81ea71b4545d04a2d9b7c8237d1121900d[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Apr 6 21:57:50 2016 +0800

    kvserver: add NotLeader for scan & prewrite

[33mcommit 0a79476a198fc75672e3ff218c8dcf7952fc0c81[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Apr 9 21:45:47 2016 +0800

    util: add xval (#375)

[33mcommit 98d63bf70c334514c682f321708904b06a0ff91d[m
Merge: 66765c9c c6acce22
Author: siddontang <siddontang@gmail.com>
Date:   Sat Apr 9 17:15:46 2016 +0800

    Merge pull request #374 from pingcap/siddontang/addr-parse
    
    *: support to_socket_addr.

[33mcommit 66765c9ce0fcbb42d618f93541713996bceebdbc[m
Author: disksing <i@disksing.com>
Date:   Sat Apr 9 17:08:50 2016 +0800

    mvcc, txn: use snapshot to read (#373)
    
    * mvcc, txn: use snapshot to read

[33mcommit 04d686a6bbcc9842e6cd75fe88c5367fbc6e2118[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Apr 9 16:54:59 2016 +0800

    util: add cmp and as_bool (#370)

[33mcommit c6acce22855fe87485879e7df5715d27d1d6e084[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Apr 9 16:06:46 2016 +0800

    *: support to_socket_addr.

[33mcommit 9474848c8925dd8822fe29b5013b27f9314a7454[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Apr 9 14:35:47 2016 +0800

    add raftkv snapshot (#372)

[33mcommit 17add140b251d803ed548a50b58ed122072b9739[m
Author: disksing <i@disksing.com>
Date:   Sat Apr 9 13:02:12 2016 +0800

    co-processor: add snapshot and rpc handler (#365)
    
    * co-processor: add snapshot and rpc handler

[33mcommit 199f1b87254a8d66593a25369509e310737499d2[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Apr 9 12:30:18 2016 +0800

    *: add dev feature including clippy. (#368)
    
    *: add dev feature to clippy.

[33mcommit 84d79a0e5839fffa4a765bde17e57c6a1f896b57[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Apr 9 12:22:08 2016 +0800

    fix tests exit failure

[33mcommit d78e7ba68e3d903075860e9689c587a7fb9e9d12[m
Merge: 7209e5fc 4b0e7fa1
Author: siddontang <siddontang@gmail.com>
Date:   Sat Apr 9 12:12:58 2016 +0800

    Merge pull request #369 from pingcap/siddontang/docker
    
    *: add docker support.

[33mcommit 4b0e7fa174d227efc177832c185fb300a619da8f[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Apr 8 21:04:43 2016 +0800

    *: add docker support.

[33mcommit 7209e5fc972cfddcb169070b696615cb0c1d8229[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Apr 8 18:41:21 2016 +0800

    *: add name for thread. (#367)

[33mcommit b6fc9a156de4cdd7b130cb6b62d3cec9eb0830e8[m
Merge: 06252f63 efeb5915
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 7 23:01:30 2016 +0800

    Merge pull request #364 from pingcap/siddontang/pd-list
    
    pd: support pd list.

[33mcommit efeb59154acf662eacb3bd91215fb080d9a85bcb[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 7 21:18:47 2016 +0800

    pd: support pd list.

[33mcommit 06252f631d4b1b25c93f7c29208105e62c2964ef[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Apr 7 09:35:32 2016 -0500

    config: Make default replica check quickly.
    
    config: Make default replica check quickly.
    Tweak log message.
    
    The change would make recovery testing easy.
    
    * Address comments

[33mcommit 21f22ed60f3cd04a946493b6bd6920d2880160b6[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 7 21:59:33 2016 +0800

    util: add table codec

[33mcommit f85119d4b481467dc4a686e3992bce70e014426d[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 7 16:32:35 2016 +0800

    util: add datum type

[33mcommit e22b8bbefcb46b53fc22618677afa56f991c7f97[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Apr 7 03:27:52 2016 -0500

    node: Panic if we bootstrap failed.

[33mcommit d8c28e5f71fae4bc1f1f5db3a8e28b41c646645b[m
Merge: 0856c567 67b1d2db
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 7 16:16:22 2016 +0800

    Merge pull request #360 from pingcap/siddontang/cleanup-pd
    
    pd: extract a function for post msg.

[33mcommit 67b1d2db23a57b038efee7653dd409ea4a02983a[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Apr 7 16:01:48 2016 +0800

    pd: extract a function for post msg.

[33mcommit 0856c567fa5b671eff542ee8eee07c629cce82f9[m
Author: PaladinTyrion <paladintyrion@gmail.com>
Date:   Thu Apr 7 15:40:00 2016 +0800

    supple more information in readme
    
    * supple more information in readme

[33mcommit 2046b0f1d167a9270fec8b18c43c84f08bbde85b[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 7 13:37:53 2016 +0800

    util: add compact bytes codec

[33mcommit 260f5e54bd5bf643da7a074c8bd1ee0c627fea08[m
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Apr 7 10:39:57 2016 +0800

    util: add var int codecs

[33mcommit 6685de2b671b018ae6c2f98dad57189e90261a10[m
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Apr 6 16:53:15 2016 +0800

    util: add number codec
    
    * add number codec

[33mcommit 868f0b798ecc835ab9be15bf5d1f316649803ea4[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Apr 6 02:40:59 2016 -0500

    Update to latest rustfmt.
    
    *: Update to latest rustfmt.

[33mcommit 66fa5109ca38046886d9e472e7ab8bef1a7d81ac[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Apr 6 02:29:09 2016 -0500

    tikv-server: Log listening address before panic.

[33mcommit a92afbb01eef60ff714af16d17ad4c6c02d0071e[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Apr 5 19:10:40 2016 -0500

    error: Add missing display method.

[33mcommit eda7bd976cdb8c708fa061517ac95b5bb6318e62[m
Merge: d61ad1ca 3d95b472
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Apr 5 18:02:58 2016 +0800

    Merge pull request #346 from pingcap/busyjay/raftkv-epoch
    
    storage: add epoch to raftkv

[33mcommit 3d95b472c649ed6757184e7c642b7ecb8c75ada0[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Apr 5 17:08:32 2016 +0800

    add epoch to raftkv

[33mcommit 6fb57b6f81113099c919914069636b518bb8ad6f[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Apr 5 17:08:06 2016 +0800

    Add clean target to Makefile

[33mcommit d61ad1cab3cb505d8dd2ee98c58fa2a406231054[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Apr 5 01:56:17 2016 -0500

    Replace Mutex to AtomicUsize when allocating id.
    
    * transport: Replace Mutex to AtomicUsize when allocating id.
    
    * raftstore: Replace Mutex to AtomicUsize when allocating id.
    
    * pd, txn: Replace Mutex to AtomicUsize when allocating id.

[33mcommit d348b521d81ac0758ada1e96e8324402b5d48743[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Apr 5 01:33:55 2016 -0500

    util: set_nodelay on tcp connection by default.
    
    To speed up testing on linux.

[33mcommit 61a833711af4b6acc79f471e0a517b94d7f70ed6[m
Author: disksing <i@disksing.com>
Date:   Tue Apr 5 12:55:58 2016 +0800

    *: update rustc, libraries and fix clippy warnings
    
    * *: update dependencies
    
    * *: fix clippy warnings

[33mcommit c419acb4b3a77a7eacaf6acbc7ab2368951fbc5f[m
Author: Jonathan Boulle <jonathanboulle@gmail.com>
Date:   Tue Apr 5 01:05:01 2016 +0200

    Fix etcd name in README

[33mcommit 131d51d09882447e8fbb79f54733552de40b4c9b[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Apr 4 11:00:10 2016 -0500

    Add Acknowledgments section to README.
    
    *: Add Acknowledgments section to README.

[33mcommit c89088e5e4735b21900340011bdb45758c66d46d[m
Author: Guanqun Lu <guanqun.lu@gmail.com>
Date:   Mon Apr 4 23:36:14 2016 +0800

    State clearly about the rust version
    
    Add a note in README.md to state clearly about the rust version used.

[33mcommit eeb6141db816ccbc9694478a60edeec71a41e246[m
Merge: 8e7fc8ac f48b9683
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Apr 4 20:59:21 2016 +0800

    Merge pull request #338 from pingcap/busyjay/ci-cache
    
    ci: cache rocksdb at travis build

[33mcommit f48b9683f149227725104652e6b0badb99053336[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Apr 4 20:03:41 2016 +0800

    cache rocksdb at travis build

[33mcommit 8e7fc8ac5304bc07bf448c67ed8b0d1a86299403[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Apr 4 05:59:17 2016 -0500

    util: Add make_std_tcp_conn to create no_delay tcp connection.

[33mcommit 024acc4b2839c55a13cb08ddb70cc5caaf175ddf[m
Merge: 910ccf3a e9418059
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Apr 4 05:58:47 2016 -0500

    Merge pull request #337 from pingcap/busyjay/mute-panic-recover-stacktrace
    
    *: Skip printing stracktrace when using panic::recover

[33mcommit 910ccf3ae496bb78d79a9f63a6e9be5571143c81[m
Merge: 5a3ddfff 7f1532c9
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sun Apr 3 16:24:26 2016 -0500

    Merge pull request #336 from pingcap/ngaut/issue-template
    
    *: Add issue template.

[33mcommit 5a3ddfff5821dc1a384405a2c0a2ac8b4adbedba[m
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Apr 3 21:59:12 2016 +0800

    coprocessor: add error to coprocessor

[33mcommit e941805966e3985e06c95cde51ff28a6035ff14d[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sun Apr 3 20:30:37 2016 +0800

    Stop printing stracktrace when using panic::recover

[33mcommit 7f1532c91aec404726250fb477b34c686a4203b3[m
Author: ngaut <ngaut@126.com>
Date:   Sun Apr 3 21:23:31 2016 +0800

    *: Add issue template.

[33mcommit edaea4a10e39ea057bbc06b680cde2e7f754c15e[m
Merge: a43798e5 bd611a37
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sun Apr 3 07:21:42 2016 -0500

    Merge pull request #335 from pingcap/ngaut/contribution-guide
    
    doc: Add contribution guide.

[33mcommit bd611a377c6066c3de7133f48da11b66fcfcea6e[m
Author: ngaut <ngaut@126.com>
Date:   Sun Apr 3 19:35:02 2016 +0800

    doc: Add contribution guide.

[33mcommit a43798e5d7473ae856d1e8837be2952b5e49246b[m
Merge: ba11c6cc 22809fff
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sun Apr 3 05:48:40 2016 -0500

    Merge pull request #333 from pingcap/ngaut/tiny-cleanup
    
    raftkv: Tiny clean up.

[33mcommit 22809fff747e56b018da3fb5380ef0c6d5ca89d9[m
Author: ngaut <ngaut@126.com>
Date:   Sun Apr 3 18:32:30 2016 +0800

    raftkv: Tiny clean up.

[33mcommit ba11c6cc3532dae94c335cd365da76540098c7a7[m
Merge: fc6e7716 c5a220f8
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Apr 2 22:38:38 2016 -0500

    Merge pull request #330 from pingcap/busyjay/clean-up
    
    *: reformat files

[33mcommit c5a220f804f7d2b6648e26c0e944a69a21fb3068[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Apr 2 18:39:02 2016 +0800

    reformat files

[33mcommit fc6e7716bf3b985aee4995bb498dd4319cf3eeb2[m
Merge: 1208bdcd 661af2a4
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Apr 2 04:06:07 2016 -0500

    Merge pull request #328 from pingcap/siddontang/license
    
    *: add license

[33mcommit 661af2a4ddf05df3b6563910fdbf5d138e66a95f[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Apr 2 15:45:55 2016 +0800

    *: add license

[33mcommit 1208bdcda8b066943a186849a7dd6585e5866993[m
Merge: 966c7be1 fdb2d2ff
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Apr 1 19:23:49 2016 -0500

    Merge pull request #327 from pingcap/ngaut/build-rocksdb
    
    Update .travis.yml

[33mcommit 966c7be1edd9d05e1ef2379bec6663bb82d670a0[m
Merge: 7c9e145e 6903fb0a
Author: siddontang <siddontang@gmail.com>
Date:   Sat Apr 2 08:14:52 2016 +0800

    Merge pull request #322 from pingcap/siddontang/clear-transport
    
    *: clear Transport trait, and split with another RaftHandler trait.

[33mcommit 6903fb0acdc9806eceb465f2a7413c8e0240eadd[m
Merge: f75aecf9 7c9e145e
Author: siddontang <siddontang@gmail.com>
Date:   Sat Apr 2 08:05:10 2016 +0800

    *: merge master and fix conflict

[33mcommit f75aecf9c249fcda3a5bef4c805a0c0acae75a11[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Apr 1 17:55:45 2016 +0800

    *: clear Transport trait, and split with another RaftHandler trait.

[33mcommit fdb2d2ff782c1fd1e3e8d21b1d141792057f3c3a[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Apr 2 03:26:35 2016 +0800

    make ci working

[33mcommit f49f674194f5e6d66448660c77ee70cd66aa8dd1[m
Author: ngaut <ngaut@126.com>
Date:   Fri Apr 1 22:15:11 2016 +0800

    *: Update travis ci

[33mcommit 7c9e145e83ad797ab75eebfe9a6acb62a9c56862[m
Merge: f39f07d7 214393c6
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Apr 1 08:45:13 2016 -0500

    Merge pull request #326 from pingcap/ngaut/ci-status
    
    README: Add CI status.

[33mcommit f39f07d7723715988d2c995863816a8228c1b4bd[m
Merge: ad60e298 2e26c12e
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Apr 1 21:25:17 2016 +0800

    Merge pull request #324 from pingcap/busyjay/box-error
    
    *: introduce box_err

[33mcommit ad60e298fa6582d9d036ac8c0e70cd41c0cd2050[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Apr 1 21:21:15 2016 +0800

    Update .travis.yml

[33mcommit 214393c6eecc8b1a09cbd341866fe9bf022e7f5e[m
Author: ngaut <ngaut@126.com>
Date:   Fri Apr 1 20:59:34 2016 +0800

    README: Add CI status.

[33mcommit dd85eca0a7567fdc5365c869f929078725d21576[m
Merge: e320f6b1 cf6a9f51
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Apr 1 07:50:44 2016 -0500

    Merge pull request #325 from pingcap/qiuyesuifeng/tidb-url
    
    Add TiDB url link.

[33mcommit cf6a9f51bb1b2adf0ae1a20b17a8f8c77addff06[m
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Apr 1 20:48:55 2016 +0800

    Update README.md

[33mcommit dcf1a822d538b609e7bd2388a2059e7a843bb029[m
Author: cuiqiu <cuiqiu.bupt@gmail.com>
Date:   Fri Apr 1 20:24:13 2016 +0800

    Add TiDB url link.

[33mcommit e320f6b133d620ec2e777a16eca74ac8ba5a42d6[m
Merge: d51c7c98 53812333
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Apr 1 07:18:54 2016 -0500

    Merge pull request #323 from pingcap/ngaut/add-readme
    
    *: Add README

[33mcommit 538123337a5a22ee318f521c91a3202a83735b26[m
Author: ngaut <ngaut@126.com>
Date:   Fri Apr 1 19:04:47 2016 +0800

    *: Add README

[33mcommit 2e26c12e85f3c812a7fae668c98d9047de959a70[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Apr 1 18:47:59 2016 +0800

    address comment

[33mcommit a47838cde24b1bc6f6504c3357b86f38bb88957b[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Apr 1 18:33:50 2016 +0800

    introduce box_err

[33mcommit d51c7c9891fc491e5cbab23951e1868b98e8d726[m
Merge: 5e09cd34 03db073b
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Apr 1 17:39:50 2016 +0800

    Merge pull request #318 from pingcap/busyjay/cleanup-raft
    
    raft: tiny cleanup

[33mcommit 5e09cd3468e12112ebf451502ca91b2b933f46d7[m
Merge: 33d5f0b5 063d0045
Author: disksing <i@disksing.com>
Date:   Fri Apr 1 16:47:25 2016 +0800

    Merge pull request #321 from pingcap/disksing/kv-context
    
    *:  replace storage::KvContext with proto::Context

[33mcommit 063d004593775eeee627cdc36fba72309ae47f12[m
Author: disksing <i@disksing.com>
Date:   Fri Apr 1 14:31:03 2016 +0800

    *:  replace storage::KvContext with proto::Context

[33mcommit 33d5f0b5e5af6450d5c8f29c4d32724782d563a5[m
Merge: cc04c721 111abbef
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Apr 1 01:25:17 2016 -0500

    Merge pull request #319 from pingcap/ngaut/tiny-refactor
    
    server: Tiny refactor.

[33mcommit 111abbeffed21e36a14e4f57abe97d1c034ee3c9[m
Author: ngaut <ngaut@126.com>
Date:   Fri Apr 1 13:32:08 2016 +0800

    server: Tiny refactor.

[33mcommit 03db073ba6031f1c4627bb46736388b5517389e1[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Apr 1 13:07:04 2016 +0800

    raft: tiny cleanup

[33mcommit cc04c721619c0e732ccb38c59602e7faafa82ef5[m
Merge: 140d27e3 bf55249a
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Mar 31 23:51:41 2016 -0500

    Merge pull request #317 from pingcap/ngaut/reftserver-raftstore
    
    *: Rename raftserver to raftstore

[33mcommit bf55249a1f9ec1cb0462c999d5e807f5247686c5[m
Author: ngaut <ngaut@126.com>
Date:   Fri Apr 1 12:46:12 2016 +0800

    *: Rename raftserver to raftstore

[33mcommit 140d27e3d13d36980683d07adb5b21ad6a79c7cf[m
Merge: 51134be5 9310bf98
Author: siddontang <siddontang@gmail.com>
Date:   Fri Apr 1 11:56:39 2016 +0800

    Merge pull request #315 from pingcap/siddontang/remove-node
    
     *: remove meta node.

[33mcommit 9310bf98123e3d6f0bb9e4d7963762404ee24b59[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Apr 1 11:55:45 2016 +0800

    update cargo.

[33mcommit 5c1db629e24d28d5ea140194b7525392f2298d88[m
Merge: a84e91df 51134be5
Author: siddontang <siddontang@gmail.com>
Date:   Fri Apr 1 11:37:35 2016 +0800

    *: merge master and fix conflict

[33mcommit a84e91dfd97aa1b1426c85b5d75d5c7a0f31b7ff[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Apr 1 10:08:32 2016 +0800

    *: remove meta node.

[33mcommit 51134be51a5e94e2e6a55d99f2cb630c677d93b6[m
Merge: 6fb27538 858df040
Author: disksing <i@disksing.com>
Date:   Fri Apr 1 11:23:37 2016 +0800

    Merge pull request #316 from pingcap/disksing/update-proto-keyaddress
    
    kv: update proto (keyaddress)

[33mcommit 858df0407d3b77450778ccfd31517b9410a52fb3[m
Author: disksing <i@disksing.com>
Date:   Thu Mar 31 14:20:44 2016 +0800

    kv: update proto (keyaddress)

[33mcommit 6fb27538b45ebb92300c30c7e63c04871a1b9b73[m
Merge: d501e107 7f337021
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Mar 31 22:00:31 2016 +0800

    Merge pull request #314 from pingcap/busyjay/use-single-store
    
    raftserver: use one store per node

[33mcommit 7f337021f92cebb9b40ddb26a8f2cb0744a34007[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Mar 31 21:58:13 2016 +0800

    make node take only one store

[33mcommit d501e107877c9895988e7a2a7aff1cb50f201725[m
Merge: 7753288c ad9dfb7d
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Mar 31 06:03:31 2016 -0500

    Merge pull request #312 from pingcap/ngaut/simplify
    
    server: Tiny refactor

[33mcommit 7753288cafe0433a477b2b9927198d744eda560b[m
Merge: 24ec4438 dc854bf6
Author: disksing <i@disksing.com>
Date:   Thu Mar 31 14:53:26 2016 +0800

    Merge pull request #313 from pingcap/disksing/update-proto
    
    kv: update Cargo.lock

[33mcommit dc854bf6bab4d500fddbf580b5f11e8a9c8bbcf5[m
Author: disksing <i@disksing.com>
Date:   Thu Mar 31 11:11:07 2016 +0800

    kv: update proto

[33mcommit 24ec4438ef950e0dc28ae4d5f8bdf1e4d1727b79[m
Merge: 2e0975b1 65d3dd98
Author: disksing <i@disksing.com>
Date:   Thu Mar 31 14:38:23 2016 +0800

    Merge pull request #311 from pingcap/disksing/update-proto
    
    [DNM] kv: update proto

[33mcommit 2e0975b1cdef5486079265c3e6a1c94d7ed72f56[m
Merge: ca7baffe a4bac62b
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Mar 31 11:32:19 2016 +0800

    Merge pull request #308 from pingcap/busyjay/adjust-bench
    
    bench: make bench quicker

[33mcommit ad9dfb7d3aae9f1ead350526799d1c9196b4eeaf[m
Author: ngaut <ngaut@126.com>
Date:   Thu Mar 31 11:17:36 2016 +0800

    server: Tiny refactor

[33mcommit 65d3dd98d652bdfa385e45dd0f41c1bb63f0e092[m
Author: disksing <i@disksing.com>
Date:   Thu Mar 31 11:11:07 2016 +0800

    kv: update proto

[33mcommit ca7baffed4b19fe932f08c1c3c3df334fa13ff1e[m
Merge: 856746bb 3585bf7b
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Mar 30 09:48:21 2016 -0500

    Merge pull request #310 from pingcap/ngaut/simplify
    
    config: Simplify a bit.

[33mcommit 3585bf7b987fa7f5d24a99acdf088f4fec9a9866[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 30 21:33:47 2016 +0800

    config: Simplify a bit.

[33mcommit a4bac62b551f66e630b4337efaaa946e526899d8[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 30 21:01:29 2016 +0800

    reduce ulimit number

[33mcommit 33f6243a47e5fb44452e54cf9b698780bfc0a69c[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 30 20:02:11 2016 +0800

    use custom bench bin

[33mcommit 856746bb5d697250c36b9a1eed94782ee8675cac[m
Merge: 63ddc3ed b4572556
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Mar 30 07:26:52 2016 -0500

    Merge pull request #309 from pingcap/ngaut/tiny-clean-up
    
    Tiny clean up

[33mcommit b4572556b237e54a3d74feb54b69f619d75aea2c[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 30 20:19:45 2016 +0800

    *: Tiny clean up.

[33mcommit 63ddc3ed95ebace0e49eddc9a5f6710538ed33df[m
Merge: c4b94999 11ffaf03
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 30 16:38:39 2016 +0800

    Merge pull request #295 from pingcap/busyjay/pre-split
    
    coprocessor: impl split observer

[33mcommit 11ffaf03406e286dae7e7a7934643b2de39764b1[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Mar 29 18:36:12 2016 +0800

    impl split observer

[33mcommit 23d812862cf262efde1c5a6057003906b4f59b6c[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 30 16:20:15 2016 +0800

    check bench when running tests

[33mcommit c4b949996a350c722e876df43026301ad50246be[m
Merge: d16911d7 2a140fc3
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Mar 30 03:18:30 2016 -0500

    Merge pull request #307 from pingcap/ngaut/handle-to-on
    
    store: Using shorter variable name.

[33mcommit 2a140fc33cdd72f536bff02c9c893f92a78c8bbb[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 30 15:54:55 2016 +0800

    store: Using shorter variable name.

[33mcommit d16911d709488bfcee48f1296098a357194ea04f[m
Merge: 8358d8c7 500312a2
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Mar 30 02:48:22 2016 -0500

    Merge pull request #306 from pingcap/ngaut/update-proto
    
    *: Update protocol.

[33mcommit 500312a2c7b36f122d41804584e51058b27f53e9[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 30 15:33:35 2016 +0800

    *: Update to latest kvproto.

[33mcommit 8358d8c72ccfc7451da8cb5b1ac706b192b2aff8[m
Merge: 73f41589 91be974f
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 30 14:26:13 2016 +0800

    Merge pull request #305 from pingcap/siddontang/update-cargo
    
    update cargo.

[33mcommit 91be974f572c2566528e4c64640bba821c4a09f9[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 30 14:19:10 2016 +0800

    update cargo.

[33mcommit 73f4158960978fee79d94b8a5439e4a757753e32[m
Merge: 9d7af4dd 8395b2b7
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 30 13:51:10 2016 +0800

    Merge pull request #304 from pingcap/siddontang/clear-code
    
    *: remove unnecessary code.

[33mcommit 8395b2b774ba3aeb79883c3603f094faa3b40014[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 30 13:44:38 2016 +0800

    *: remove unnecessary code.

[33mcommit 9d7af4ddd2c9391244002cdba4e59dcb4ef72cc6[m
Merge: 9e8bc454 bf482289
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 30 13:21:43 2016 +0800

    Merge pull request #302 from pingcap/siddontang/refactor-raftkv
    
    *: refactor raftkv.

[33mcommit bf482289a8344584d4d41b038505edab27e0c623[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 30 11:07:02 2016 +0800

    *: refactor raftkv.

[33mcommit 9e8bc4543179dfe60c6986cfca151b7bf9189064[m
Merge: d927eabb fa2acbc2
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Mar 29 23:00:09 2016 -0500

    Merge pull request #303 from pingcap/ngaut/conn-pool
    
    *: Introduce connection pool for send raft message.

[33mcommit fa2acbc2a7bba65a0fed6fd37df71a7c4c31874f[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 30 11:59:18 2016 +0800

    *: Introduce connection pool for send raft message.

[33mcommit d927eabbb707a8beb5c252a769de68bf1d967fad[m
Merge: 940fda5f 1d93d9f3
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 22:33:44 2016 +0800

    Merge pull request #301 from pingcap/siddontang/remove-test
    
    *: remove unsuitable test.

[33mcommit 1d93d9f3f61d06d3932ea172e61d04118424f171[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 22:10:52 2016 +0800

    *: remove unsuitable test.

[33mcommit 940fda5fb1e169df09e3fc9fbd1d93471ec3ecc2[m
Merge: a4bc476c 46ccceab
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 22:07:04 2016 +0800

    Merge pull request #296 from pingcap/siddontang/mio-bench
    
    *: move bench channel to bench directory.

[33mcommit 46ccceab348e8a878852a8185406d5b547f06762[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 20:34:32 2016 +0800

    *: move bench channel to bench directory.

[33mcommit a4bc476c9e6b85cf46c3932d70f59cec30900b2a[m
Merge: df48e175 146b6628
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Mar 29 09:05:04 2016 -0500

    Merge pull request #299 from pingcap/disksing/fix-bench
    
    *: fix bench

[33mcommit df48e175c319c3bf68d4b4b73e3f381473223e1e[m
Merge: 1b22197d 04eb5245
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 22:04:42 2016 +0800

    Merge pull request #298 from pingcap/siddontang/refactor-node
    
    *: use server Node and Config.

[33mcommit 04eb5245409cf7125a502372a7b5188ba859b04c[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 21:00:29 2016 +0800

    *: use server Node and Config.

[33mcommit 1b22197da44ede512be90cd553b1927012de1d79[m
Merge: 6aaecfb6 58ad46c8
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 21:59:15 2016 +0800

    Merge pull request #300 from pingcap/siddontang/fix-compile
    
    *: fix compile error and tiny update.

[33mcommit 58ad46c826cfbb9756ad97646878fc7b47cbd9e4[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 21:40:58 2016 +0800

    *: fix compile error and tiny update.

[33mcommit 146b662823cf5a4d999336cb85003ad5b703fbe2[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 29 20:52:11 2016 +0800

    *: fix bench

[33mcommit 6aaecfb6a16dafad8d86d91eb72a13b3d5f2b109[m
Merge: 8c1fa707 7e5dd46d
Author: disksing <i@disksing.com>
Date:   Tue Mar 29 20:56:54 2016 +0800

    Merge pull request #297 from pingcap/disksing/fix-test
    
    *: fix test

[33mcommit 7e5dd46d29524a970bd808628a04ea2e8d9068b1[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 29 20:55:57 2016 +0800

    *: fix test

[33mcommit 8c1fa70750df218a5a6458a2701be5c50605ffad[m
Merge: a52368bb d63e5a50
Author: disksing <i@disksing.com>
Date:   Tue Mar 29 16:28:36 2016 +0800

    Merge pull request #294 from pingcap/disksing/storage-error
    
    *: update storage Error

[33mcommit d63e5a5076f85d6422beacb3db924e3401a86fe7[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 29 16:13:15 2016 +0800

    *: update storage Error

[33mcommit a52368bb3eec618ef206664843570b8e1310af86[m
Merge: 7256b1d8 3ae1db26
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 13:26:13 2016 +0800

    Merge pull request #290 from pingcap/siddontang/support-storage
    
    support store handler.

[33mcommit 3ae1db26bf497de88464f55d8464bc44fca3d01f[m
Merge: 98a651b5 2fbe37c6
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 13:20:19 2016 +0800

    Merge pull request #293 from pingcap/ngaut/refactor
    
    Using auto variable

[33mcommit 2fbe37c6a0eaa6589b9c71d85d112635a1279aca[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 29 13:18:25 2016 +0800

    Using auto variable

[33mcommit 98a651b5a7b7dfe10f552d19625fc66386524d2e[m
Merge: f6562092 455de12d
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 13:13:04 2016 +0800

    Merge pull request #292 from pingcap/ngaut/refactor
    
    Simplify closure

[33mcommit 455de12d02eda9d062da57afbbb0f43fe6aafedd[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 29 13:10:41 2016 +0800

    Simplify closure

[33mcommit f656209293bbb5ad51eb57ad90b61b0a5de0bb93[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 12:47:02 2016 +0800

    server: Address comment.

[33mcommit 7256b1d8386775ff30486c43c07505e7e96a4cd9[m
Merge: c77a3462 bcd483a5
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Mar 29 12:46:44 2016 +0800

    Merge pull request #284 from pingcap/busyjay/add-split-retry
    
    test: add split retry

[33mcommit 44562c6561539fbbec4c2fbf447050bf4648ca4f[m
Merge: 234f7dd1 c91de1e2
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 12:46:42 2016 +0800

    Merge pull request #291 from pingcap/ngaut/refactor
    
    server: Tiny rename refactor.

[33mcommit bcd483a5e5debbc1db7793daed90243dcd32227e[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Mar 28 15:52:47 2016 +0800

    add split retry

[33mcommit c91de1e2625fc922e72ec118d4e42bc5b88231a1[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 29 12:43:15 2016 +0800

    Clean up more

[33mcommit c77a34623c89a6ad35f02c87900b75609e322b61[m
Merge: 781fdf9c 09ffa7b6
Author: disksing <i@disksing.com>
Date:   Tue Mar 29 12:27:24 2016 +0800

    Merge pull request #285 from pingcap/disksing/pd-client-thread
    
    pd-client: add background thread for ask requets

[33mcommit 09ffa7b612a81612286c2354b07e707b540838f1[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 29 12:24:07 2016 +0800

    pd-client: background worker

[33mcommit e895a4087e4b6fecbbbf23ad4f079c371eea9dec[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 29 12:14:53 2016 +0800

    server: Tiny rename refactor.

[33mcommit 234f7dd133b4d8a63fccdf21cdefe0d627f483d3[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 11:50:43 2016 +0800

    *: support store handler.

[33mcommit 781fdf9c54525da53ff630c2db9bea8aae52c1e3[m
Merge: 69b05df7 9a58402f
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 11:40:47 2016 +0800

    Merge pull request #288 from pingcap/siddontang/unitfy-server
    
    *: Extract a base network framework  and check raft in test first.

[33mcommit 9a58402fed0c0aa1a9c54650c4a7293d52847e16[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 10:24:15 2016 +0800

    raftserver: make compile happy.

[33mcommit c1b7b3f8e35bf9eaa9e6c02f49c51b034769700d[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 09:08:17 2016 +0800

    *: Extract a base network framework  and check raft in test first.

[33mcommit 69b05df7a1e70ed9ddeb521b963a16eff9e8f31e[m
Merge: d8ed0eab 7c0f6486
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 29 09:03:16 2016 +0800

    Merge pull request #286 from pingcap/ngaut/conn-pool
    
    tests: Add connection pool

[33mcommit 7c0f648602ece97e17263e32ba20a55678435c95[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 22:59:49 2016 +0800

    Add missing no_delay option

[33mcommit 8dd094e587fdc43d933faa1f4d599537262e4574[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 22:42:35 2016 +0800

    Make clippy happy

[33mcommit 8434951a110e60aba37c3169543b1281b4e7c01a[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 22:34:56 2016 +0800

    Set no delay option for connection

[33mcommit 6c4f462926245b36d45c1a8bb2aaa8ac4b6b6e4f[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 22:23:38 2016 +0800

    tests: Add connection pool

[33mcommit d8ed0eab4cddb7f9e676efeb7f35954ef7c8ff8f[m
Merge: e9918650 3555e2a7
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Mar 28 01:06:15 2016 -0500

    Merge pull request #283 from pingcap/ngaut/refactor-server
    
    server: Auto derivative

[33mcommit 3555e2a75941788414ddeb2ddae3a548f0a186de[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 14:00:23 2016 +0800

    server: Auto derivative

[33mcommit e9918650bfbed749f8f680b1d73dc087f1268c52[m
Merge: ff0ac859 854cd052
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Mar 28 00:53:13 2016 -0500

    Merge pull request #282 from pingcap/ngaut/refactor-server
    
    server: Auto derivative

[33mcommit 854cd052886df2c69aa2ff5bd06d810a8fced430[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 13:50:18 2016 +0800

    Using shorter variable name

[33mcommit 288ee1ab2562123d42c16a0cf1d12216ab126743[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 13:44:03 2016 +0800

    server: Auto derivative

[33mcommit ff0ac859bf6c1b75d3b2e7ec3f7b8b32e397418e[m
Merge: a1e3ad0d 204cd19e
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 28 13:27:09 2016 +0800

    Merge pull request #281 from pingcap/siddontang/update-handle-ready
    
    raftserver: handle raft ready in peer storage.

[33mcommit 204cd19e83393527d9dc7c0e6d463a4324dab72a[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 28 13:17:51 2016 +0800

    raftserver: handle raft ready in peer storage.

[33mcommit a1e3ad0ded4996fa03adea325cc00b068108cbd1[m
Merge: 4790f8a0 9cde910b
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Mar 28 00:13:21 2016 -0500

    Merge pull request #280 from pingcap/ngaut/refactor-server
    
    Refactor server

[33mcommit 9cde910b1cfa5bfb1c9e573ba599e5063c8c53f7[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 13:07:46 2016 +0800

    Auto derivative

[33mcommit a6ac0beeb2556cd9b417a11080091af7e3e4a0f7[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 12:38:13 2016 +0800

    server: Using short variable.

[33mcommit 4790f8a090599bbe9979c3b1e3a14717dd24d9b1[m
Merge: 2389f189 b42fe9ea
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Mar 28 12:25:27 2016 +0800

    Merge pull request #276 from pingcap/busyjay/add-epoch-check
    
    raftserver: add epoch check for RaftCmdRequest

[33mcommit b42fe9eab65a8ec31ba496fac38fc7e6914835bc[m
Merge: 46b8c8f6 2389f189
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Mar 28 12:24:31 2016 +0800

    Merge branch 'master' into busyjay/add-epoch-check

[33mcommit 2389f18955963f269f01ad7a938a128ee72511a3[m
Merge: b4010505 2dad953f
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sun Mar 27 23:12:51 2016 -0500

    Merge pull request #278 from pingcap/ngaut/tiny-clean-up
    
    Tiny clean up

[33mcommit 46b8c8f688a44ecb3b9930fcf092cdd259141eca[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Mar 26 20:20:58 2016 +0800

    add epoch check for RaftCmdRequest

[33mcommit 2dad953f83b5de180638e0561c695f1b4ced197f[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 11:16:42 2016 +0800

    Tweak import module

[33mcommit ffc33434788422aa6c37238dd389404fce93a605[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 11:13:15 2016 +0800

    peer: Tiny clean up

[33mcommit b40105057d6fcb599ef5cc8f4ee9bf7c518aa376[m
Merge: 81d2e2b7 8676d5cf
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sun Mar 27 22:45:47 2016 -0500

    Merge pull request #274 from pingcap/ngaut/shorter
    
    *: Using shorter method name.

[33mcommit 8676d5cfdf026cb9855cecbf1135265b6bfb6daf[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 11:38:48 2016 +0800

    Address comments

[33mcommit 81d2e2b74adc41a486e969e300499d0b81212c29[m
Merge: 21d30689 b470a828
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 28 11:10:21 2016 +0800

    Merge pull request #277 from pingcap/siddontang/update-resp-bind
    
    store: clear resp bind.

[33mcommit 31fed9e428ae9015827a48904f9e30ec71c18f6c[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 28 10:40:29 2016 +0800

    Tiny clean up

[33mcommit b470a828350f5d1eff73b85804c69270de33914b[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 28 09:42:35 2016 +0800

    store: clear resp bind.

[33mcommit 21d306898246f4b1bb027ba07f96d3851a5bed8c[m
Merge: a35d668e e81d34a1
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Mar 27 11:49:17 2016 +0800

    Merge pull request #275 from pingcap/busyjay/fix-tcp-49
    
    test: fix EADDRNOTAVAIL error

[33mcommit e81d34a184644d072ba8a0831a152c280e1fec86[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Mar 26 20:19:43 2016 +0800

    fix EADDRNOTAVAIL error

[33mcommit a35d668e66c57a3ef15ffab32524d78a77bc97f9[m
Merge: 58faf47f 21a32bc4
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 26 22:34:32 2016 +0800

    Merge pull request #270 from pingcap/siddontang/client-addr
    
    add client address.

[33mcommit 21a32bc4153f5437755e9d6c697b41886872f5be[m
Merge: 8fe4c306 58faf47f
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 26 22:31:08 2016 +0800

    merge master and fix conflict.

[33mcommit 58faf47f27a49ded90ad728aae44458361d1df43[m
Merge: 0f0fd72b 8313cc52
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 26 21:42:33 2016 +0800

    Merge pull request #271 from pingcap/siddontang/update-error
    
    server: update error.

[33mcommit 8313cc5229a1365633687d8b727ac73f66c4d9f4[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 26 21:42:04 2016 +0800

    update cargo.

[33mcommit 36c97f5dc9d0a1549f19bb5ffb24ec6c810e3fb9[m
Merge: 5641d399 0f0fd72b
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 26 21:39:25 2016 +0800

    server: merge master and fix conflict.

[33mcommit 8fe4c306bef54e5dc6c7ebfc87ac74fb5c6ab6af[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 26 21:11:32 2016 +0800

    *: Address comment.

[33mcommit 13b8e7c20641adf6a28d467ac19da4ac200bf679[m
Author: ngaut <ngaut@126.com>
Date:   Sat Mar 26 17:18:41 2016 +0800

    *: Using shorter method name.

[33mcommit 0f0fd72b52f0454635879d976f7f174032149e2d[m
Merge: 6d252699 4c308e27
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Mar 26 03:11:13 2016 -0500

    Merge pull request #273 from pingcap/ngaut/dec-to-hex
    
    server: Use Hex instead of Dec

[33mcommit 4c308e276c352a3436df516f3063977148b95a7b[m
Author: ngaut <ngaut@126.com>
Date:   Sat Mar 26 16:06:41 2016 +0800

    server: Use Hex instead of Dec

[33mcommit 6d252699bcc98e34ecedb05cc80aa15928234590[m
Merge: 63edf319 3dfd2070
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Mar 26 02:58:32 2016 -0500

    Merge pull request #272 from pingcap/ngaut/rename
    
    server: Rename ResultStorage to StorageResult.

[33mcommit 3dfd2070f878845fcc4ad30ea670792d2cec2267[m
Author: ngaut <ngaut@126.com>
Date:   Sat Mar 26 15:53:28 2016 +0800

    server: Rename ResultStorage to StorageResult.

[33mcommit 5641d3998778289136a2f1aac50e10ad901d3193[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 26 15:35:37 2016 +0800

    server: update error.

[33mcommit ab3910701bfdb49a78084ca338a79c1060bf6137[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 26 14:41:31 2016 +0800

    *: add advertise address.

[33mcommit 9213aed1c7c082d06eed4f4b65cfa063ea5e013b[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 26 08:37:24 2016 +0800

    bin: Address comment.

[33mcommit a33575c9e21f1a49f34de3f8d75aa971f9a667de[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 25 22:24:01 2016 +0800

    *: add client address.

[33mcommit 63edf319c8d719e93016b4c745dbdf9c4a7dfa60[m
Merge: 2909c276 7b023a4f
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 25 22:04:01 2016 +0800

    Merge pull request #263 from pingcap/disksing/kvopt
    
    storage: restore Key to 'Vec<u8>', add 'KvOpt' which includes region/peer info

[33mcommit 2909c27640b2ea4efdcf6a5c38fd726ee2467c30[m
Merge: 0cd7f75d 803975d8
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Mar 25 08:44:40 2016 -0500

    Merge pull request #269 from pingcap/ngaut/remove-unused-import
    
    engine: Remove unused import

[33mcommit 803975d87fb59b566ae9548553f07b43b6d6b7f9[m
Author: ngaut <ngaut@126.com>
Date:   Fri Mar 25 21:42:56 2016 +0800

    engine: Remove unused import

[33mcommit 7b023a4f9f08b7a003c055a8006e7b6e09c4aece[m
Merge: 1ead72b7 0cd7f75d
Author: disksing <i@disksing.com>
Date:   Fri Mar 25 21:42:11 2016 +0800

    Merge branch 'master' into disksing/kvopt
    
    Conflicts:
            tests/storage/test_raftkv.rs

[33mcommit 1ead72b76fcc7a6be9f1a4f5b66e4f47de6a8ef7[m
Author: disksing <i@disksing.com>
Date:   Fri Mar 25 21:31:05 2016 +0800

    rename KvOpt -> KvContext

[33mcommit 0cd7f75debcd57e66ddbf62e66afbe040e57120b[m
Merge: 6068f6bf 891628d6
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 25 20:44:18 2016 +0800

    Merge pull request #265 from pingcap/siddontang/test-tombstone
    
     add tombstone test.

[33mcommit 891628d6275b573b4fe0b34cb41814aa52b5dc7b[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 25 17:19:36 2016 +0800

    store: move peer id check, we should think a better way later.

[33mcommit 6068f6bf3700e8915b58e1feef84fbec2973eed5[m
Merge: e3269a27 e870c447
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Mar 25 20:36:07 2016 +0800

    Merge pull request #268 from pingcap/busyjay/address-panic
    
    test: fix occasionally finding invalid leader

[33mcommit e870c447f5ad30715258082a8123badb8d39c5ea[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Mar 25 19:39:17 2016 +0800

    fix occasionally finding invalid leader

[33mcommit e3269a27911a8e4448ddeca4a0e0086983691581[m
Merge: cae52303 5e6b2c54
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Mar 25 06:22:47 2016 -0500

    Merge pull request #267 from pingcap/ngaut/refactor-store
    
    store: Tiny clean up.

[33mcommit 5e6b2c54b6739bad5a4168cc5802ccc146f10e4e[m
Author: ngaut <ngaut@126.com>
Date:   Fri Mar 25 19:17:17 2016 +0800

    store: Tiny clean up.

[33mcommit 04442ebc236efe38f896159fae66ff781972c5d5[m
Author: disksing <i@disksing.com>
Date:   Fri Mar 25 18:39:09 2016 +0800

    address comment

[33mcommit ecf87294390860e1fcdc8995c1220966abcdd19d[m
Author: disksing <i@disksing.com>
Date:   Fri Mar 25 18:29:40 2016 +0800

    kvserver: use take_*() to reduce memory copy

[33mcommit cae52303cf4221e308d3d53e58e32ac0a4a4daa0[m
Merge: 6ed015cf 6c9fa583
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 25 18:29:25 2016 +0800

    Merge pull request #266 from pingcap/siddontang/test-more-epoch
    
    raftserver: add stale epoch test.

[33mcommit 6c9fa583891cb63ad6f5afcb43666c5b2cef0638[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 25 18:18:13 2016 +0800

    raftserver: check epoch conf version.

[33mcommit 671a3064217ca265d677c556dde220fe088af474[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 25 18:12:29 2016 +0800

    raftserver: add stale epoch test.

[33mcommit 01cfcbc03d12c82c7a89c2f8deb5675a9f85d4b3[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 25 15:00:32 2016 +0800

    *: add tombstone test.

[33mcommit 6ed015cf0ddce847694f19a30e8cfc707c1c4f42[m
Merge: ec666051 841a8e68
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Mar 25 01:48:52 2016 -0500

    Merge pull request #264 from pingcap/ngaut/refactor-sendch
    
    *: Refactor SendCh in msg.rs.

[33mcommit 841a8e680263c9d2b88b18b19cdb689ad603da51[m
Author: ngaut <ngaut@126.com>
Date:   Fri Mar 25 14:47:28 2016 +0800

    Tiny clean up

[33mcommit 5acac0ca486bacd3fe00be78ace6134d81101a9e[m
Author: disksing <i@disksing.com>
Date:   Fri Mar 25 14:12:29 2016 +0800

    kvserver: update kvproto

[33mcommit 9cdae48d04207218f3e4a88b4c5f8634814d1bfc[m
Author: ngaut <ngaut@126.com>
Date:   Fri Mar 25 14:03:14 2016 +0800

    *: Refactor SendCh in msg.rs.

[33mcommit c8f18e898d75ba7d1901789f78a6d6edcb3902f3[m
Author: disksing <i@disksing.com>
Date:   Fri Mar 25 13:34:41 2016 +0800

    storage: update Key

[33mcommit bbfb32806e30794d32fff0a8ae68fe9b966b934b[m
Author: disksing <i@disksing.com>
Date:   Fri Mar 25 13:03:49 2016 +0800

    storage: update tests

[33mcommit 5af769326e87d7542cb95c6bfe4d02c4ce8822e0[m
Author: disksing <i@disksing.com>
Date:   Fri Mar 25 12:11:59 2016 +0800

    *: add KvOpt

[33mcommit ec6660513ef78f2e9f0fb0f3367243387706221b[m
Merge: 5eb0bad4 1f21620d
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Mar 25 00:37:19 2016 -0500

    Merge pull request #262 from pingcap/ngaut/refactor-sendch
    
    : Refactor SendCh.

[33mcommit 1f21620d1370e33a723b01fd7b2ee81e65efc59e[m
Author: ngaut <ngaut@126.com>
Date:   Fri Mar 25 13:22:57 2016 +0800

    : Refactor SendCh.

[33mcommit 5eb0bad41c8cb209ce8b318d19d60004fa09bfbe[m
Merge: 9eb190e4 c0eb750c
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Mar 24 19:40:07 2016 +0800

    Merge pull request #261 from pingcap/busyjay/refactor-logger
    
    *: refactor logger

[33mcommit c0eb750cfd21d3ed82885601d368afaeca24028c[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Mar 24 19:14:57 2016 +0800

    refactor logger
    
    - write log to stderr
    - add time and file info

[33mcommit 9eb190e4cbde1b6d3c2c74566f56cd2defcc588a[m
Merge: 862fc9ea 3ee65515
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Mar 24 19:14:01 2016 +0800

    Merge pull request #259 from pingcap/busyjay/fix-bugs
    
    bin: fix kvserver start failed

[33mcommit 862fc9ea65f55e676f53bb39dd7800d0f19a6444[m
Merge: fe2b4fc8 3052a128
Author: disksing <i@disksing.com>
Date:   Thu Mar 24 18:55:47 2016 +0800

    Merge pull request #260 from pingcap/disksing/scan-tests
    
    storage: fix scan/seek tests

[33mcommit 3052a128c352e0a2f3fd4d229a55cbfa1aa62d60[m
Author: disksing <i@disksing.com>
Date:   Thu Mar 24 18:25:33 2016 +0800

    storage: fix scan/seek tests

[33mcommit 3ee6551588729caca23a343976130611ec0c9fe8[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Mar 24 17:33:48 2016 +0800

    fix kvserver start failed

[33mcommit fe2b4fc86d30cce33369a464c6b80b1ce5a906bb[m
Merge: 1eafe6da 5907d430
Author: disksing <i@disksing.com>
Date:   Thu Mar 24 17:04:02 2016 +0800

    Merge pull request #257 from pingcap/disksing/mvcc-no-encode
    
    storage/mvcc: do not encode key for memory comparison

[33mcommit 5907d430341563117647c9a1f032d2f12c1fdd53[m
Author: disksing <i@disksing.com>
Date:   Thu Mar 24 16:57:57 2016 +0800

    storage/mvcc: do not encode key for memory comparison

[33mcommit 1eafe6da62d996bd579856fff2776ba9c527d0f8[m
Merge: e301a22c 68792712
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Thu Mar 24 15:10:30 2016 +0800

    Merge pull request #256 from pingcap/morefreeze/not_leader
    
    Add not leader handler in Get

[33mcommit 68792712bab93923139e31f162329f933f4d89ef[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Mar 24 13:11:46 2016 +0800

    *: update Cargo.lock

[33mcommit 5715f01d4e8efb379866bb1861e496ab9250aa53[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Mar 24 12:32:03 2016 +0800

    kvrpc: update for kvrpcpb

[33mcommit 25d031a4b09b0d9e74c9605284258eec9a62b0df[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Mar 23 21:25:46 2016 +0800

    kvrpc: add get_done not_header handler

[33mcommit e301a22ceae4cc05ab897d303df518e3a252855a[m
Merge: 2037c4a2 9e8c8095
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Mar 24 13:48:17 2016 +0800

    Merge pull request #254 from pingcap/busyjay/add-server-args
    
    bin: add more server args

[33mcommit 9e8c80954ca87a02940fe9f234240461d9090e23[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 23 21:46:55 2016 +0800

    add more server args

[33mcommit 2037c4a2dfd92ab51091ae2ec18c33f057abefa6[m
Merge: bfc1ab87 7ad7e875
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 24 11:38:00 2016 +0800

    Merge pull request #255 from pingcap/siddontang/snapshot-get
    
    update snapshot get.

[33mcommit 7ad7e875b2e91b31011b063661f26eb6bc1243d7[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 24 09:34:07 2016 +0800

    *: update snapshot get.

[33mcommit bfc1ab87ff1ca6ba2a84c8071a120ef8d369f6b7[m
Merge: 603410a1 5b79df25
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 23 20:58:56 2016 +0800

    Merge pull request #253 from pingcap/busyjay/expose-request-error
    
    storage: expose raftserver error

[33mcommit 5b79df2528abe375a8ba460c7c94c47a6e08061a[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 23 20:25:02 2016 +0800

    expose raftserver error
    
    - expose raftserver error
    - fix compile error

[33mcommit 603410a17ebfc69a9c9d7441678a5fd4d4e6ce3d[m
Merge: 3171492a 62968ae7
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 23 20:01:56 2016 +0800

    Merge pull request #250 from pingcap/busyjay/impl-engine
    
    storage: add raftkv engine

[33mcommit 62968ae7f5f6de8827f293453a6b750abdcb74b4[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 23 14:25:49 2016 +0800

    add raftkv engine

[33mcommit 3171492a102a52aa583bbaf83feebc081b304379[m
Merge: 152416ee fe0aa47b
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Mar 23 02:53:39 2016 -0500

    Merge pull request #251 from pingcap/ngaut/update-proto
    
    *: Update kvproto

[33mcommit fe0aa47bf355e24920bb01784dd310cbb312ff0c[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 23 15:42:32 2016 +0800

    *: Update kvproto.

[33mcommit 152416eeb04285f1d391a640d2c6ca48fa8162c3[m
Merge: 193c91e8 45713824
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Mar 23 01:35:01 2016 -0500

    Merge pull request #249 from pingcap/ngaut/tiny-refactor
    
    store: Refactor peer module.

[33mcommit 457138241b59ca49bd121c888fb5fcdb8aa4bc32[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 23 14:17:46 2016 +0800

    Using cmd instead of command

[33mcommit c97ca5c616484f59dce695dc6fa28cb1e18e3b6e[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 23 14:09:35 2016 +0800

    cleanup
    
    - remove unused code
    - remove unnecessary error copy

[33mcommit 441900ff5a483a809418a8296a597ad890160d14[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 23 14:07:23 2016 +0800

    use actual listening address

[33mcommit 1669e8868e7d7f18fd6e2e4515bd8b875f31ae9b[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 23 14:06:08 2016 +0800

    store: Refactor peer module.

[33mcommit 193c91e8db5786073f54d54f8c97a152a74a293b[m
Merge: 10ea3f54 ca19769e
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Mar 23 01:05:51 2016 -0500

    Merge pull request #247 from pingcap/ngaut/tiny-refactor
    
    Refactor: rename execute_xxx to do_xxx.

[33mcommit 10ea3f54ffe9c1ead893d5110838334730809006[m
Merge: 61828269 4a791632
Author: disksing <i@disksing.com>
Date:   Wed Mar 23 14:01:18 2016 +0800

    Merge pull request #242 from pingcap/disksing/pd-client
    
    pd: add tcp client

[33mcommit 4a79163235e3aaf8046d3f9b17a835bff119b7a8[m
Author: disksing <i@disksing.com>
Date:   Wed Mar 23 13:55:11 2016 +0800

    pd: add tcp client

[33mcommit ca19769e3a3ad7cdbf79410c60986a25d852441c[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 23 13:33:05 2016 +0800

    Refactor: rename execute_xxx to do_xxx.

[33mcommit 61828269be862e45f32a2acb827398c094d9b934[m
Merge: 0a143ce9 6fd9125c
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Mar 22 22:36:12 2016 -0500

    Merge pull request #243 from pingcap/ngaut/cleanup-add-todo
    
    *: clean up and add todo.

[33mcommit 6fd9125c4261092305e6d83160b549b26e75bea0[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 23 11:32:22 2016 +0800

    Remove tombstone key when we do have snapshot

[33mcommit 55012126d780f1954942c4e2dd404bb30a736146[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 23 11:22:54 2016 +0800

    Refactor: rename batch to wb

[33mcommit 7152a61780935447ff92c8a60b405b3bbf670a79[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 23 11:14:33 2016 +0800

    Remove tombstone key when apply snapshot

[33mcommit 14019624cb5bd320f0b7d3611bbb52dea35bd6f3[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 22 18:29:13 2016 +0800

    *: clean up and add todo.

[33mcommit 0a143ce9744b59a10616a3e06e67fc062d80f34a[m
Merge: cb295d48 2ba80016
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Mar 22 16:14:02 2016 +0800

    Merge pull request #239 from pingcap/ngaut/clean-up-tests
    
    tests: Using must_get_none to cleaning up tests.

[33mcommit cb295d480d08f66a7eea521232a6560f96808230[m
Merge: c527c06e 56a1a017
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 22 14:44:44 2016 +0800

    Merge pull request #240 from pingcap/siddontang/update-token
    
    *: use HashMap again to avoid same token reusing

[33mcommit 56a1a017d812e3b3ad85fe6fae4950eacdbe61d0[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 22 13:49:21 2016 +0800

    *: use HashMap again to avoid same token reusing

[33mcommit 2ba8001682f6fce390a99546c7103635a5cd1253[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 22 14:36:33 2016 +0800

    Clean up more

[33mcommit c527c06e4571b5556db1d572a5f895e2b3bf7986[m
Merge: 0ba26496 af57bdce
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Mar 22 14:14:21 2016 +0800

    Merge pull request #237 from pingcap/busyjay/bench-tombstone-scan
    
    mvcc: add tombstone scan bench

[33mcommit 6bea837318e8805e0116d00c48609cd4216c57b3[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 22 14:13:56 2016 +0800

    Remove unnecessary sleep

[33mcommit af57bdce6bb07db1fa38ba1c8f427a95f703ff8b[m
Merge: 937b3185 0ba26496
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Mar 22 14:13:34 2016 +0800

    Merge branch 'master' into busyjay/bench-tombstone-scan

[33mcommit 937b31851575928d3f9d5132cf6e83843d3034dc[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Mar 21 18:26:53 2016 +0800

    add tombstone scan bench

[33mcommit 4919ec3de6f50085c4a7cab8cdbfd89df528ecb2[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 22 14:00:01 2016 +0800

    tests: Using must_get_none to cleaning up tests.

[33mcommit 0ba2649664c2b68ac99bb0f11a952f6a112755ab[m
Merge: 10ac0aca 51440404
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Mar 22 13:35:51 2016 +0800

    Merge pull request #238 from pingcap/ngaut/tiny-clean-up
    
    *: Tiny clean up

[33mcommit 5144040437374e33f63ad9e94ee0dfb2f0615f27[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 22 13:31:15 2016 +0800

    raftserver:Tiny clean up.

[33mcommit 10ac0aca293b00f355fe8586337243d4bf18759e[m
Merge: f3770518 37179e1e
Author: disksing <i@disksing.com>
Date:   Mon Mar 21 20:49:07 2016 +0800

    Merge pull request #235 from pingcap/disksing/key-address
    
    storage: include peer and region information in 'Key'

[33mcommit 37179e1ef3c66308e61e1dca88a89c43ba7cb067[m
Author: disksing <i@disksing.com>
Date:   Mon Mar 21 15:36:39 2016 +0800

    storage: extract function 'make_key'

[33mcommit 55b3da869a6df941d8a8c5637b8124f8ad83f21c[m
Author: disksing <i@disksing.com>
Date:   Mon Mar 21 14:38:30 2016 +0800

    storage: include peer and region information in 'Key'

[33mcommit f3770518b01f1a991aafa6ed81afc2ce7f57cea8[m
Merge: a37213ef f11daa1b
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Mar 21 17:38:55 2016 +0800

    Merge pull request #236 from pingcap/ngaut/fix-tests
    
    tests: Fix tests and minor clean up.

[33mcommit f11daa1b9af824656d56e40a26a51e5c540466af[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 21 17:06:14 2016 +0800

    tests: Fix tests and minor clean up.

[33mcommit a37213ef1158460a083cdb2cd932c19da66e8703[m
Merge: 78a8580b 2f31339d
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Mar 21 13:10:59 2016 +0800

    Merge pull request #229 from pingcap/busyjay/impl-replica-check
    
    raftserver: implement auto maintaining replica

[33mcommit 2f31339dad4e43c6daff5c084b4a64451f42733f[m
Merge: 076397ea 78a8580b
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Mar 21 13:09:42 2016 +0800

    Merge branch 'master' into busyjay/impl-replica-check

[33mcommit 076397ea7d7ba97e1bac58d577a1fa1a1bbf8f22[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Mar 18 16:29:58 2016 +0800

    use Timeout Error explicitly

[33mcommit 78a8580b84b71a0edebea2d4bba56362ab66c9c7[m
Merge: 7dfcfe99 65aa02cf
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 21 12:40:05 2016 +0800

    Merge pull request #234 from pingcap/siddontang/update-epoch
    
    *: fix conf change.

[33mcommit 65aa02cfbf7d14af26d0cb0d4b087159a4d8411f[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 21 11:22:17 2016 +0800

    *: fix conf change.

[33mcommit 7dfcfe994f1e1bfe78fb1a20e00d0a05623c5134[m
Merge: a4ca19f5 8c47bbe6
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 21 09:13:11 2016 +0800

    Merge pull request #233 from pingcap/ngaut/introduce-epoch
    
    Introduce epoch

[33mcommit 8c47bbe6a0eb30eb6df794630926ba380dea0a0d[m
Author: ngaut <ngaut@126.com>
Date:   Sun Mar 20 23:55:17 2016 +0800

    Fill epoch into raft message

[33mcommit bd291792a692de195250e859e1a23caf416ff75d[m
Author: ngaut <ngaut@126.com>
Date:   Sun Mar 20 19:04:17 2016 +0800

    Clean up

[33mcommit a4ca19f5f3f52268fdb037376a11fa7e2adf6672[m
Merge: 1c1f1fd2 2a2759cf
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Mar 20 10:47:29 2016 +0800

    Merge pull request #231 from pingcap/busyjay/bench-store
    
    raftserver: add store rpc bench

[33mcommit 5aa7b1f52ca5fe5473c23b9c7776fc547b616c23[m
Author: ngaut <ngaut@126.com>
Date:   Sun Mar 20 00:47:34 2016 +0800

    store: Add more logs.

[33mcommit 811ed4a669e663e0c25c30bb0f62480ad0440caf[m
Author: ngaut <ngaut@126.com>
Date:   Sun Mar 20 00:21:11 2016 +0800

    *:Introduce region epoch.

[33mcommit 1c1f1fd210a2bf9ccd2adda25e09ac9c3c4ce8f2[m
Merge: 0ccc155d 1c176c3b
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Sat Mar 19 13:53:22 2016 +0800

    Merge pull request #232 from pingcap/morefreeze/update_cargo
    
    *: update kvproto in cargo.lock

[33mcommit 1c176c3b6785ef2f23c3aee85612c4723769aac1[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Sat Mar 19 13:15:52 2016 +0800

    *: update kvproto in cargo.lock

[33mcommit 2a2759cfcedb65895544b7bf5ce3113bef8f7fa9[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Mar 18 18:05:14 2016 +0800

    add store rpc bench

[33mcommit 0ccc155d5082175a0c6f3df1bdb2fe9b05c22a70[m
Merge: 474bfedf 2e2909d6
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Sat Mar 19 12:54:18 2016 +0800

    Merge pull request #224 from pingcap/morefreeze/fix_218
    
    fix 218

[33mcommit 2e2909d60f4496c009137943e5b48f6e3d573f8b[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Mar 17 20:23:13 2016 +0800

    kvrpc: merge ResultType to one

[33mcommit c2d41e867b56308bb85d8cbaf0d8529db1497cf7[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Mar 16 21:00:59 2016 +0800

    kvrpc: ResultType contains extra message

[33mcommit eeb1114add3c593c8a16194e000143b190b23dab[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Mar 16 20:44:11 2016 +0800

    kvrpc: move xxx_Item to Item

[33mcommit 198908c323855c4354372588011b0902e9e34eab[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Mar 16 15:35:49 2016 +0800

    kvrpc: add meta to each key of request

[33mcommit c7566ae10660f5b18da6f484d936fd60f0e8c0b8[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Mar 16 14:14:18 2016 +0800

    kvrpc: move protobuf to repo `kvproto`

[33mcommit 74f8535ee48bdc9691a1a42d756c6d07470b79c9[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Mar 16 11:55:32 2016 +0800

    proto: replace clean up to cleanup, replace ErrType to ResultType

[33mcommit 9700198acd14495e98a272448f56c09e0658e2aa[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Mar 17 17:38:13 2016 +0800

    implement auto maintaining replica

[33mcommit 474bfedf96dbba06cf79b43f59818fd84628da97[m
Merge: d8ec006f 6f3f8efe
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Mar 17 16:04:14 2016 +0800

    Merge pull request #228 from pingcap/busyjay/seperate-msg-and-timeout
    
    raftserver: seperate msg and tick

[33mcommit 6f3f8efeaa168f840eb49ba5c27eba8f91f0ec16[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Mar 17 14:02:26 2016 +0800

    seperate msg and tick

[33mcommit d8ec006f78220db5134fa2c55ab90f78f833396d[m
Merge: 36cd9f69 04a0447c
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 17 12:38:50 2016 +0800

    Merge pull request #227 from pingcap/siddontang/update-term
    
    *: return current term in header for every response.

[33mcommit 36cd9f69e7c915a425f9773b31fee3858497b57e[m
Merge: 60c74ae9 cbb713bf
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Mar 17 12:24:03 2016 +0800

    Merge pull request #226 from pingcap/busyjay/impl-split
    
    raftserver: finish region split implement

[33mcommit cbb713bf8878a9fa1d2e3af2ba021116f82b4976[m
Author: LeeJay <jay@swallow-mbp.local>
Date:   Wed Mar 16 21:39:30 2016 +0800

    rename pd::Client to PdClient

[33mcommit 04a0447cd94a02175aca9a1253600e89f2bbf2cb[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 17 11:05:02 2016 +0800

    *: return current term in header for every response.

[33mcommit 60c74ae9600acc99403f50145c9e11e1a027f207[m
Merge: 172759e7 7be06792
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Mar 16 21:55:03 2016 +0800

    Merge pull request #221 from pingcap/disksing/clean-up-2
    
    storage: replace from() with into()

[33mcommit 37c15352a9c52b0eec374e12afabe27527e54311[m
Author: LeeJay <jay@swallow-mbp.local>
Date:   Wed Mar 16 20:39:08 2016 +0800

    complete region split implement

[33mcommit 172759e7e9957540401070df809be0ed8956687b[m
Merge: 15e73d1e 1d2d0404
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 16 15:41:34 2016 +0800

    Merge pull request #223 from pingcap/siddontang/pd-ask
    
    *: support handling pd ask request in test.

[33mcommit 1d2d0404ce897063c72639728d38fa93372395ef[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 16 12:21:07 2016 +0800

    *: support handling pd ask request in test.

[33mcommit 15e73d1e75b72e792652ffb902e97ae1c6704fc9[m
Merge: 490795bd 2c1ef06c
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Mar 16 12:52:44 2016 +0800

    Merge pull request #222 from pingcap/ngaut/tiny-refactor
    
    Tiny refactor

[33mcommit 2c1ef06c63acd8d4dace9d01b5ddc2b6192796da[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 16 12:07:25 2016 +0800

    tests: Rename lead to leader_id in tests.

[33mcommit 2f02b900acb95cd09f7fc38046fdcc695a17ffd9[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 16 12:03:23 2016 +0800

    raft: Rename leade to leader_id.

[33mcommit 7be067924212e3cc045a9885537fdd86b1c08412[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 15 21:49:14 2016 +0800

    storage: replace from() with into()

[33mcommit 490795bd40399023dcee1e1689eda134c84feb6e[m
Merge: 766562f2 da643526
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 16 10:48:55 2016 +0800

    Merge pull request #220 from pingcap/siddontang/travis
    
    try to support travis

[33mcommit 766562f2d568ce7287b882c44ac551e3e79532e4[m
Merge: 3eaa760a 86127a1e
Author: disksing <i@disksing.com>
Date:   Wed Mar 16 10:31:11 2016 +0800

    Merge pull request #219 from pingcap/disksing/clean-up
    
    storage: replace rollbacked with rolled back

[33mcommit da6435269e3d659fe9d1b421e985303b7c1e5fac[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 15 21:52:08 2016 +0800

    try to support travis
    
    we should test in travis to check whether it can run or not.

[33mcommit 86127a1ef08d8222802912ba04a8de780eabfde6[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 15 21:39:17 2016 +0800

    storage: replace rollbacked with rolled back

[33mcommit 3eaa760ac70e6840a7e861025152e26ae68ceaca[m
Merge: 0ec8d6f5 ea68ef8a
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Tue Mar 15 21:12:48 2016 +0800

    Merge pull request #208 from pingcap/morefreeze/2pc
    
    add 2 phase commit

[33mcommit ea68ef8a4e211911f9160a3fb1270229863046aa[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 15 19:34:23 2016 +0800

    *: Reslove conflict.

[33mcommit 06a1c86e20f7400e460e23a82c6af9d6891d62c7[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Tue Mar 15 16:57:50 2016 +0800

    kvrpc: remove some duplicate code to make more neat

[33mcommit d3d0dc27b0f09933714d0511f38e7f45f7e94e7d[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Fri Mar 11 15:15:58 2016 +0800

    kvrpc: cleanup can handle Committed/Rollbacked error now

[33mcommit 544b5f586ef5d9df5c4f828c25482d771888e168[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Mon Mar 14 11:17:02 2016 +0800

    kvrpc: add particular explain about *ThenGet command, fix Get locked
    
    1. add particular explain about *ThenGet command
    2. add code while get response return key is locked

[33mcommit 4a937b8a221df11fa3bb3062694e9138ac2f3771[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Mar 10 16:57:19 2016 +0800

    kvrpc: add tests for scan new interface and cleanup

[33mcommit ebe876dcf636f7ed849ea937b42bfa9ea2ba7092[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Mar 10 11:31:33 2016 +0800

    kvrpc: update is_locked handle

[33mcommit 3b25246401647aee9fcec4c41cd9ee5f96829445[m
Author: disksing <i@disksing.com>
Date:   Thu Mar 10 11:08:20 2016 +0800

    storage: update lock error

[33mcommit c030fc478625814842ddc3e910320f5ae12cc7a0[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Mar 9 20:24:48 2016 +0800

    kvrpc: add handle commit_then_get/rollback_then_get/cleanup

[33mcommit 5655565df7a887c9dfbd47a2951a7c8c09497b9d[m
Author: disksing <i@disksing.com>
Date:   Wed Mar 9 17:14:52 2016 +0800

    storage: update prewrite / cleanup

[33mcommit b90416396da70c5763f375b6e420cb1ca24385cd[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 8 19:30:10 2016 +0800

    storage: update interfaces

[33mcommit ed9c93c2668880dd9edeb5763a19000fb58dbf38[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 8 10:04:01 2016 +0800

    storage/txn: add tests

[33mcommit 0ec8d6f526660f8a1d677b6f46e0e97069ad232d[m
Merge: 3c0023ed 728a52c3
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Mar 15 18:26:01 2016 +0800

    Merge pull request #217 from pingcap/busyjay/cleanup
    
    raftserver: cleanup

[33mcommit 728a52c3ebaf78e977bd48f9f17236fff19348c4[m
Author: LeeJay <jay@swallow-mbp.local>
Date:   Tue Mar 15 14:05:13 2016 +0800

    cleanup
    
    - fix raftserver compilation failure
    - remove unused code

[33mcommit 3c0023ede150adeb607bcdf66856c0f163b6515f[m
Merge: 745ad0d5 f22fe90c
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Mar 15 13:46:06 2016 +0800

    Merge pull request #216 from pingcap/busyjay/region-detail
    
    raftserver: implement region detail status command

[33mcommit f22fe90c192ae5b730d5da215445533e645b9ad7[m
Author: LeeJay <jay@swallow-mbp.local>
Date:   Mon Mar 14 21:04:14 2016 +0800

    implement region detail status command

[33mcommit 745ad0d5fb50a2e97cd3f678a69f8c3b5fd471b4[m
Merge: 9f094caa 53f217a2
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Mar 14 21:01:45 2016 +0800

    Merge pull request #214 from pingcap/ngaut/validation-apply-snapshot
    
    validation before apply snapshot

[33mcommit 53f217a2e932cc464d8e005f6f9311c31afaf8c1[m
Author: ngaut <ngaut@126.com>
Date:   Mon Mar 14 21:01:07 2016 +0800

    store: Check if we can apply snapshot.

[33mcommit 9f094caa61af1b92938a95644ac414b26df77b15[m
Merge: 899f1d32 b8c2dc03
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Mar 14 15:27:30 2016 +0800

    Merge pull request #215 from pingcap/busyjay/use-rw-shortcut
    
    *: Use rl/wl shortcut

[33mcommit b8c2dc0329f0d0307ed02c892e1b6e5891801212[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Mar 14 12:16:20 2016 +0800

    Use rl/wl shortcut

[33mcommit 899f1d32ad486742ecd59ab8e40639facdf9db35[m
Merge: 53171741 4599ccb4
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Mar 14 11:40:15 2016 +0800

    Merge pull request #204 from pingcap/busyjay/spawn-split
    
    raftserver: make split scan in another thread

[33mcommit 4599ccb46d2fa94f0cab09e697711ab102e51058[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Mar 12 20:48:43 2016 +0800

    adjust split scan implement
    
    - use counter instead of approximate_size to trigger scan
    - make thread auto stop when store shutdown
    - seperate region_max_size and split size

[33mcommit 531717414769941b62c0182cffdce2a7b50a856d[m
Merge: 16a60e38 378bd314
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Mar 12 23:28:08 2016 +0800

    Merge pull request #210 from pingcap/ngaut/map-startkey-region
    
    store: Record region's start key to region map.

[33mcommit 56cf4c1042ac2a046f76ed36e42e25d1eb7c9d34[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Mar 12 20:47:51 2016 +0800

    make RwLock more friendly

[33mcommit 615466df0ba03bdaf7d842aa8cef47904479a6c7[m
Merge: 78721fbc 16a60e38
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Mar 12 18:52:14 2016 +0800

    Merge branch 'master' into busyjay/spawn-split

[33mcommit 378bd3143f3c9a0ee5837c91f5b9b5dff84585e1[m
Author: ngaut <ngaut@126.com>
Date:   Sat Mar 12 14:07:34 2016 +0800

    store: Trace peer after apply snapshot.

[33mcommit 16a60e38f4b12b2335d270b524d186aaf575be8e[m
Merge: de44148b 1228d948
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Mar 12 12:16:10 2016 +0800

    Merge pull request #213 from pingcap/siddontang/update-proto
    
    update cargo lock to fix compile error.

[33mcommit 1228d9485cc45b42bb7dae6d070b88deb3bb2432[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 12 11:41:48 2016 +0800

    update cargo lock to fix compile error.

[33mcommit de44148b399dab24de4f0b191edcb25ca204d1ff[m
Merge: fc97f9a5 54a676a9
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 12 11:34:32 2016 +0800

    Merge pull request #212 from pingcap/siddontang/update-proto
    
    [DMN] remove ErrorDetail

[33mcommit 54a676a95f99efbcdff36b6b8f384ea0a846889b[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 12 11:29:25 2016 +0800

    *: remove ErrorDetail

[33mcommit 1a2bc86690ef5d5f725c2254fdb30c20c082ae9b[m
Author: ngaut <ngaut@126.com>
Date:   Fri Mar 11 22:45:05 2016 +0800

    store: Rename more methods.

[33mcommit 751e0db41de026dc0e4501ca8fd4d20b89e8413a[m
Author: ngaut <ngaut@126.com>
Date:   Fri Mar 11 22:02:06 2016 +0800

    store: Rename get_xxx to xxx.

[33mcommit bf5f3c251ce9691868b3bbce475134a3c9994000[m
Author: ngaut <ngaut@126.com>
Date:   Fri Mar 11 20:06:02 2016 +0800

    store: Record  region's start key to region map.

[33mcommit fc97f9a5d7d66923a6bb89a5bb8b210b2a0616e8[m
Merge: dcc69978 b336eba1
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Mar 11 14:00:25 2016 +0800

    Merge pull request #209 from pingcap/siddontang/update-proto
    
    refactor with kvproto for raft.

[33mcommit b336eba10fbd78ecd408a7a54ef40ffc5d1da5cd[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 11 13:27:08 2016 +0800

    benches: fix compile

[33mcommit 6754b4c986ed24f2932278790fa86d3127e43240[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 11 13:15:50 2016 +0800

    *: refactor proto.

[33mcommit dcc6997875b0d515d031bcd34644f8230b259431[m
Merge: eb382221 c2529b6e
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Mar 11 13:13:44 2016 +0800

    Merge pull request #207 from pingcap/ngaut/rename
    
    peer: Rename s(tore) to ps(peer-store)

[33mcommit c2529b6eeb442502731f018748eb7e32e18a77d2[m
Author: ngaut <ngaut@126.com>
Date:   Fri Mar 11 13:06:59 2016 +0800

    peer: Rename s(tore) to ps(peer-store)

[33mcommit eb3822218ff5811521b8b2c33dfa0037b53764bc[m
Merge: 90b29566 e38e386d
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Mar 11 12:01:50 2016 +0800

    Merge pull request #206 from pingcap/ngaut/rename
    
    store: Rename peers to region_peers.

[33mcommit e38e386d4f69b52194ef72f8e9641a6a01b1b053[m
Author: ngaut <ngaut@126.com>
Date:   Fri Mar 11 11:48:51 2016 +0800

    store: Rename peers to region_peers.

[33mcommit 90b295665cc86b54dfa843b8393bfd86b55dbb5b[m
Merge: d8c3f511 5c6d0d63
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Thu Mar 10 19:38:56 2016 +0800

    Merge pull request #199 from pingcap/morefreeze/sync_proto
    
    kvrpc: sync kvrpc.proto from ticlient

[33mcommit 78721fbc115744aa1c902b256320eec649304c69[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Mar 10 18:06:59 2016 +0800

    make split scan in another thread

[33mcommit d8c3f5119f76dbce17085cc6bc9da11203dd2e29[m
Merge: bbb45ab8 d0dd219b
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 10 13:29:24 2016 +0800

    Merge pull request #203 from pingcap/siddontang/update-pd
    
     update pd alloc id.

[33mcommit bbb45ab86daa8ce216d98ec72570bf76831401c9[m
Merge: ac251b99 5785342e
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 10 13:27:34 2016 +0800

    Merge pull request #202 from pingcap/siddontang/update-proto
    
    proto: update proto.

[33mcommit d0dd219be7439de90b6dedfe807e399ea1998fa6[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 10 13:21:52 2016 +0800

    *: update pd alloc id.

[33mcommit 5785342e7b1b4ff933cacf084e64bb72ccc368a6[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 10 12:58:38 2016 +0800

    proto: update proto.

[33mcommit ac251b99c8814c55276766d2373c219fb0e5dc9a[m
Merge: d18e5591 30157558
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 9 21:37:34 2016 +0800

    Merge pull request #200 from pingcap/busyjay/key-prefix
    
    raftserver: keep key prefix inside raftserver

[33mcommit 30157558f869ffd1260e57327bf2e82bdb080a09[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 9 17:45:06 2016 +0800

    make region max end key empty

[33mcommit 5c6d0d6391c5cf32a5c26031829b33e98dececad[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Mar 9 19:09:27 2016 +0800

    proto: add primary lock in prewrite request

[33mcommit 6d68b8157ebb3b09b4f708ad8a876368b58b0f97[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Mar 9 16:17:28 2016 +0800

    kvrpc: sync kvrpc.proto from ticlient

[33mcommit 794f1df77bfd1598d1f590402eac17b8513bb06c[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Mar 8 20:55:33 2016 +0800

    keep key prefix inside raftserver

[33mcommit d18e559141259aa3e50f1c9232048c11b09af039[m
Merge: 8fb95b06 a51b55c2
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 9 14:18:44 2016 +0800

    Merge pull request #197 from pingcap/busyjay/pre-split
    
    coprocessor: adjust api

[33mcommit a51b55c2985b5e1dc0c1c83085a00e223d68aa79[m
Merge: 8a7281a4 57afa261
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Mar 8 18:24:31 2016 +0800

    Merge branch 'master' into busyjay/pre-split

[33mcommit 8fb95b068546be1e6501a757090b6101b6411bb6[m
Merge: b03122e5 50bca045
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Mar 8 19:20:29 2016 +0800

    Merge pull request #198 from pingcap/ngaut/fix-clippy
    
    tests/raftserver: Make clippy happy.

[33mcommit 50bca045bdcc93d4c1937c503cd4dc348cfa4569[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 8 18:26:31 2016 +0800

    tests/raftserver: Make clippy happy.

[33mcommit b03122e515db8a965a733ac57e9d28c98d3b532c[m
Merge: 57afa261 ca01d9ee
Author: disksing <i@disksing.com>
Date:   Tue Mar 8 18:09:47 2016 +0800

    Merge pull request #196 from pingcap/disksing/isolation-backoff
    
    storage/txn: add backoff for isolation test

[33mcommit 8a7281a49b7ac5b5dca6703d10178035a01d5a17[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Mar 8 17:51:22 2016 +0800

    change rocksdb wrapper implement

[33mcommit 57afa261cccb0e50ccc8041cd17ebc2008fa1a34[m
Merge: 67043573 dc947d7b
Author: disksing <i@disksing.com>
Date:   Tue Mar 8 16:15:50 2016 +0800

    Merge pull request #193 from pingcap/disksing/txn-tests
    
    storage/txn: add tests

[33mcommit dc947d7b2ef26a0125e228fa75f0c0631f1afa63[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 8 16:14:39 2016 +0800

    storage/txn: add tests

[33mcommit ca01d9eee89a498c76bab394b046729ff345e944[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 8 14:06:31 2016 +0800

    storage/txn: add backoff for isolation test

[33mcommit 670435730336fc020aee4062004bfcc4f1c5fdb6[m
Merge: f8ace7f1 367f894f
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 8 13:33:05 2016 +0800

    Merge pull request #192 from pingcap/siddontang/region-split-notify
    
    raftserver: base support check region split.

[33mcommit f8ace7f1d9ead5459c1c548d2ab334e47db52633[m
Merge: dfbd19f2 30da1f22
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 8 13:31:54 2016 +0800

    Merge pull request #195 from pingcap/siddontang/check-key-in-region
    
    check key in region

[33mcommit 30da1f2240c1cee8fe80af1a7e8ff0c09194cb4b[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 8 13:08:50 2016 +0800

    raftserver: add test.

[33mcommit 6f1fdf8eca8df7ad04b07c17f1f67518d7ae95c9[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 8 11:38:22 2016 +0800

    raftserver: check key in region.

[33mcommit dfbd19f2cf95a031395d24c9cc7d77ad9d8259c0[m
Merge: 2267e49c 473d0d64
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Mar 8 11:25:41 2016 +0800

    Merge pull request #194 from pingcap/ngaut/update-clippy
    
    *: Update clippy.

[33mcommit 2267e49c8f230e0386270763552eb649cf0d38d0[m
Merge: 007569b0 e96f8779
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 8 11:12:42 2016 +0800

    Merge pull request #191 from pingcap/siddontang/update-proto
    
    proto: add key not in region protocol.

[33mcommit 473d0d64a06f2f41af35b58853bc552817ae9ff5[m
Author: ngaut <ngaut@126.com>
Date:   Tue Mar 8 11:05:20 2016 +0800

    *: Update clippy.

[33mcommit 007569b0a26e00128a0424da7a65f70e344a6c5e[m
Merge: 1c0a6e7b 5c3f27aa
Author: disksing <i@disksing.com>
Date:   Tue Mar 8 10:00:40 2016 +0800

    Merge pull request #185 from pingcap/disksing/txn-rollback-commit
    
    storage/mvcc: make rollback and commit idempotent

[33mcommit 367f894fff2c5bbcaff9669ab3a71ed2cb65c502[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 7 20:08:31 2016 +0800

    raftserver: update format.

[33mcommit 3436f6fe82aa08edbcade902b0e09353ef8e00b1[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 7 20:05:57 2016 +0800

    raftserver: base support check region split.

[33mcommit e96f8779664f94d58519ed7d230b4715b7699bdc[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 7 16:34:14 2016 +0800

    proto: add key not in region protocol.

[33mcommit 1c0a6e7bab4091c73f74c05354309f454c37d061[m
Merge: 4c19e12c bcb9e115
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 7 15:59:19 2016 +0800

    Merge pull request #187 from pingcap/siddontang/raftserver-error
    
    update raftserver error using quick_error!

[33mcommit bcb9e115249cd7632a1c3f98c07abfc0474014be[m
Merge: 38ad5b74 4c19e12c
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 7 15:51:39 2016 +0800

    Merge branch 'master' into siddontang/raftserver-error

[33mcommit 4c19e12caaf7fff5e3d7f16b8839ecd6c09e7cbb[m
Merge: ad4e0207 3b325d5d
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 7 15:37:37 2016 +0800

    Merge pull request #189 from pingcap/siddontang/remote-pd
    
    proto: update pd client protocol.

[33mcommit ad4e0207277105c93eb1562b69c78cf752893506[m
Merge: 667b7fad 86cd0f72
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Mar 7 15:30:43 2016 +0800

    Merge pull request #188 from pingcap/busyjay/upgrade-rust
    
    *: update packages and fix clippy warning

[33mcommit 3b325d5db7cc1f8616ceb44395453337d1c0db58[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Mar 7 13:10:20 2016 +0800

    proto: update pd client protocol.

[33mcommit 14d20ad153926e51b581efa11962157710c44291[m
Merge: f6d5dd3e 86cd0f72
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Mar 7 12:41:21 2016 +0800

    Merge branch 'busyjay/upgrade-rust' into busyjay/pre-split

[33mcommit 86cd0f728093586f6e6a86309861b9db679857d0[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Mar 7 12:29:38 2016 +0800

    fix clippy warnings

[33mcommit c6fa2ef6243ba95e92c50929d881dc3f31ada41f[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Mar 7 12:29:02 2016 +0800

    upgrade rust to 1.9

[33mcommit adaa2e7ee3e396566a8704dd0248be987b57154b[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Mar 7 12:28:28 2016 +0800

    fix compile error

[33mcommit 667b7fadac3b2048fcb76302a2aafac626f8c5b2[m
Merge: b8189fa7 2be973bf
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Mar 7 11:45:00 2016 +0800

    Merge pull request #186 from pingcap/ngaut/expose-raft-term
    
    raft: expose raft term for later usage.

[33mcommit 5c3f27aa0c93973f194b7865cc7f018d1ca41007[m
Author: disksing <i@disksing.com>
Date:   Sat Mar 5 15:16:22 2016 +0800

    storage/txn, storage/mvcc: add 'commit_then_get' and 'rollback_then_get'

[33mcommit 38ad5b74aea1378fff2cd3d5021ba8a51813db4e[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Mar 6 21:21:45 2016 +0800

    raftserver: unify error result and command response.

[33mcommit 5dbf47a38019aa5a223e160fb4a19395ffae65b7[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Mar 6 21:19:26 2016 +0800

    raftserver: use quick error for raft server error.

[33mcommit b8189fa7603f518a7c1cb8b6dd3ca2fdc38c5d36[m
Merge: 6b79c45c 330da799
Author: Jay <busyjaylee@gmail.com>
Date:   Sun Mar 6 21:07:22 2016 +0800

    Merge pull request #183 from pingcap/busyjay/tiny-fix
    
    *: tiny fix

[33mcommit 330da7998181e18769799ed74cccc5755e1572d1[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Mar 4 17:26:26 2016 +0800

    *: tiny fix
    
    - fix raft log output issue
    - make ulimit enable by default

[33mcommit 2be973bf8ae09a72db591a16fdb615a09778192f[m
Author: ngaut <ngaut@126.com>
Date:   Sun Mar 6 18:11:16 2016 +0800

    raft: expose raft term for later usage.

[33mcommit 6b79c45cca2b672554c0c47fd14067d9209174c9[m
Merge: 03f812a4 f551de25
Author: siddontang <siddontang@gmail.com>
Date:   Sun Mar 6 09:12:59 2016 +0800

    Merge pull request #184 from pingcap/siddontang/split-region-test
    
    base split region test

[33mcommit f551de25697754a0ce5623e30db685428c463014[m
Merge: f3ba38f2 03f812a4
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 5 13:30:14 2016 +0800

    Merge branch 'master' into siddontang/split-region-test

[33mcommit f8fd81fe0288884ddbdcdb5bb6efde2a0cbd705e[m
Author: disksing <i@disksing.com>
Date:   Sat Mar 5 14:11:23 2016 +0800

    storage/mvcc: make rollback and commit idempotent

[33mcommit 03f812a450dbc55c398d3e4d1be7b92ff0e20d57[m
Merge: 83afff6e 19d32d3b
Author: siddontang <siddontang@gmail.com>
Date:   Sat Mar 5 13:27:32 2016 +0800

    Merge pull request #182 from pingcap/siddontang/split-region
    
    support base split region

[33mcommit 19d32d3b9fb7320cddecc8dc962e38e2a3434f58[m
Merge: 4060b33f 6434619d
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 4 14:52:01 2016 +0800

    Merge branch 'master' into siddontang/split-region

[33mcommit f3ba38f205f396ccf3ec00ee1b6ecdc6cd445a38[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 4 17:24:22 2016 +0800

    raftserver: add split region test.

[33mcommit f6d5dd3e7bdc1e1e76303684ee952b1eea67dd1b[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Mar 4 16:32:40 2016 +0800

    adjust coprocessor interface

[33mcommit 4060b33f22cf665447b3a04ae57fee361c6c2c88[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 4 14:50:01 2016 +0800

    raftserver: add peer cache.

[33mcommit 83afff6eef5cf7497e98ebb24580cc8e954e23df[m
Merge: 6434619d 78c3e570
Author: disksing <i@disksing.com>
Date:   Fri Mar 4 14:30:11 2016 +0800

    Merge pull request #180 from pingcap/disksing/txn-tests
    
    storage/txn: add tests

[33mcommit 78c3e570f7988ede019712e994c0390330608c43[m
Author: disksing <i@disksing.com>
Date:   Fri Mar 4 14:21:59 2016 +0800

    storage/txn: add tests

[33mcommit 6434619d917f3d5711144f30c5d23281df3f48c2[m
Merge: 45f2902a 7377c9ea
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 4 13:56:53 2016 +0800

    Merge pull request #181 from pingcap/siddontang/update-proto
    
    proto: update split proto.

[33mcommit 7377c9eacbec1fee05a6dda59250a0f6bcf67efa[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 4 13:00:41 2016 +0800

    proto: update split proto.

[33mcommit 2b82a9b3e149b5c9e1ffa89c8cee6d10c0639f7e[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 4 13:00:55 2016 +0800

    raftserver: support split region.

[33mcommit 9ef3f68c1deccf00c215aadbfdd553992ee5a114[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 4 13:00:41 2016 +0800

    proto: update split proto.

[33mcommit 45f2902a1c06c67368d3f4501202ef7da7f0e86e[m
Merge: 0f66e62d cbede1ca
Author: disksing <i@disksing.com>
Date:   Fri Mar 4 10:48:26 2016 +0800

    Merge pull request #170 from pingcap/disksing/txn-tests
    
    storage: add tests, fix scan codec issue

[33mcommit cbede1caaff9aa71a2e639d7e4d1c606903de3e0[m
Author: disksing <i@disksing.com>
Date:   Fri Mar 4 10:42:34 2016 +0800

    storage: add tests, fix scan codec issue

[33mcommit 37f41b13227aa62f255095f65f70b9dcbf74ce95[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 1 13:31:15 2016 +0800

    storage/txn: add test for ShardMutex

[33mcommit 0f66e62d70fcd38efff44e2ca98d764b7380156a[m
Merge: 18e6a179 8c1054db
Author: siddontang <siddontang@gmail.com>
Date:   Fri Mar 4 10:43:28 2016 +0800

    Merge pull request #179 from pingcap/siddontang/test-pd-conf-change
    
    raftserver: add pd conf change test.

[33mcommit 8c1054dbff41559bd9faf87828ce28cb405f90d0[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 3 12:43:22 2016 +0800

    raftserver: add pd conf change test.

[33mcommit 18e6a179f80d49b7ec8196bafe851211fd75de3c[m
Merge: d4f20123 2fb7b7fe
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Mar 3 12:08:24 2016 +0800

    Merge pull request #173 from pingcap/busyjay/coprocessor
    
    coprocessor: finish coprocessor framework setup

[33mcommit d4f201237e51ad0e69a393be95e7f7cb808ac057[m
Merge: 4b4e29c3 903c1469
Author: siddontang <siddontang@gmail.com>
Date:   Thu Mar 3 11:42:35 2016 +0800

    Merge pull request #178 from pingcap/siddontang/update-cluster-test
    
    refactor raft server test.

[33mcommit 903c146939c904e433f4f4683e1abf2f49d752bc[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 2 21:00:16 2016 +0800

    *: update test cluster to let pd test easily later.

[33mcommit d29e98f206d2aec6903195bd309b7f506217aa10[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 2 16:17:44 2016 +0800

    *: unify node/server test.

[33mcommit 4b4e29c3b0ef1d7bc530b46bddac900c73de6d46[m
Merge: 7c617817 a0f5c690
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Mar 2 20:44:47 2016 +0800

    Merge pull request #177 from pingcap/ngaut/update-raft-comments
    
    raft: Catch up with upstream.

[33mcommit a0f5c690766de5ab0bf01f42577e05f440163cc0[m
Author: ngaut <ngaut@126.com>
Date:   Wed Mar 2 20:41:13 2016 +0800

    raft: Catch up with upstream.

[33mcommit 7c617817d140bd15cdf1fe35821c096803eacd4d[m
Merge: b038b75d 70d5c958
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 2 20:28:27 2016 +0800

    Merge pull request #176 from pingcap/siddontang/add-node
    
    add node and pd support

[33mcommit 70d5c958f6da44bcaf265c23a3e4a0fd7277674b[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 2 18:07:41 2016 +0800

    *: update and fix compile error.

[33mcommit 759d94c8a5eb7ad7062584526afad758c4696a67[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 2 18:52:25 2016 +0800

    add split observer

[33mcommit 55f0778443586c089b70d52bdfe62c528ea2fc5c[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 1 21:01:45 2016 +0800

    raftserver: update raft test.

[33mcommit 1d361694b8831cc907b842ab13c949e96b8796dd[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 1 21:01:36 2016 +0800

    raftserver: add node support and use pd client.

[33mcommit b038b75dd6579ee2ebe7d3a185aa2bd69011a173[m
Merge: b9941b05 ba7c904b
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 2 17:50:51 2016 +0800

    Merge pull request #175 from pingcap/siddontang/update-transport
    
    add send channel for Transport.

[33mcommit ba7c904b1ae827177a1cc84111efb32c93889ef0[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 1 18:57:45 2016 +0800

    *: add send channel for Transport.

[33mcommit a5b1400283755698b5a92ede25882fa1b55ad732[m
Merge: b9941b05 2fb7b7fe
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 2 16:11:07 2016 +0800

    Merge branch 'busyjay/coprocessor' into busyjay/pre-split

[33mcommit b9941b054da8acc2f65cc4a6282b97bb74c524c8[m
Merge: 7d97e6fb 782c6eee
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 2 14:24:41 2016 +0800

    Merge pull request #171 from pingcap/siddontang/base-pd
    
    try to support base pd in test.

[33mcommit 782c6eee17957a6b1f6f1dfdbe2b3680d3d36f8c[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 1 16:18:23 2016 +0800

    *: update bootstrap.

[33mcommit 2fb7b7fee883cdfd1e1f7578467ed410507fa600[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 2 14:19:29 2016 +0800

    address comment

[33mcommit 7d97e6fb0b4db8111986601af29becf1c130a095[m
Merge: d2a0f60c fc69ebd8
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Mar 2 13:13:42 2016 +0800

    Merge pull request #174 from pingcap/siddontang/update-proto
    
    proto: update proto.

[33mcommit fc69ebd812f0dffaa5234b913b3f3dcb1634479e[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 2 13:05:08 2016 +0800

    proto: update proto.

[33mcommit d2a0f60cee70460d8f7f942917b737284021a11e[m
Merge: 00b63a44 778cfd80
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 2 12:50:26 2016 +0800

    Merge pull request #172 from pingcap/siddontang/update-proto
    
    *: add region response for pd change peer use.

[33mcommit df86c49442a358dbcb4510dc97820b45a748e574[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Mar 1 19:37:47 2016 +0800

    coprocessor: finish coprocessor framework setup

[33mcommit 00b63a447147e5a090930a38dd0829babac296ec[m
Merge: ed2ca99f 62d2f5aa
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Mar 2 11:35:13 2016 +0800

    Merge pull request #169 from pingcap/busyjay/coprocessor
    
    coprocessor: add dispatcher

[33mcommit 778cfd800f31ddf2db0c9ea9477a17eb17646d2e[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Mar 2 11:34:59 2016 +0800

    *: add region response for pd change peer use.

[33mcommit 62d2f5aa68df26fc0776de2474681a1ff23f2bc8[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Mar 2 11:14:05 2016 +0800

    address comment

[33mcommit 0c0190ea8da31eb3da1f0a092383af08f4e859e1[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Mar 1 15:59:38 2016 +0800

    *: fix pd bootstrap typo.

[33mcommit 3748cdafaaf1b95d8736e9ab74cbf7df7b4400f6[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 29 20:43:44 2016 +0800

    *: update pd and support base test pd client.

[33mcommit 2ee3e975326a0df850dafa5d60e1c325cf6f5150[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Mar 1 17:08:28 2016 +0800

    add startup and cleanup implementation

[33mcommit 6916ae99c12f2eab29bee3f445ca6f474f2c2c29[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Mar 1 16:57:27 2016 +0800

    coprocessor: add dispatcher

[33mcommit ed2ca99fa64f5efc49c314e9cfb21183e71b47df[m
Merge: 5870beba e611e8f6
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Mar 1 12:57:52 2016 +0800

    Merge pull request #168 from pingcap/busyjay/coprocessor-base
    
    raftserver: add base coprocessor framework

[33mcommit e611e8f6ca5452c90cf04567f57d25a4197a5efe[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Feb 29 22:31:28 2016 +0800

    raftserver: add base coprocessor framework

[33mcommit 5870bebabcae58ee29fca84a566524a4b99e169e[m
Merge: 867dde0e 1b54e93b
Author: disksing <i@disksing.com>
Date:   Tue Mar 1 10:41:54 2016 +0800

    Merge pull request #140 from pingcap/disksing/txn
    
    storage: transaction support

[33mcommit 1b54e93bdc1259c59f588930ef1f6cf31565ac10[m
Author: disksing <i@disksing.com>
Date:   Tue Mar 1 10:40:59 2016 +0800

    storage: renames and minor changes

[33mcommit 867dde0e297614944d649ece007aa86d944b7129[m
Merge: ec72616d 5fdc7bb5
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Feb 29 15:46:28 2016 +0800

    Merge pull request #167 from pingcap/siddontang/clear-meta
    
    raftserver: remove unnecessary route meta.

[33mcommit ec72616dfe020130789f41a2710e3eab65eaf57e[m
Merge: f0532526 2c35eeed
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 29 15:10:49 2016 +0800

    Merge pull request #164 from pingcap/siddontang/base-pd
    
    base pd

[33mcommit 2c35eeed0bf79d8a11a8ff241ca7624a96ce843f[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 28 13:21:37 2016 +0800

    proto: add pd photo.

[33mcommit 5fdc7bb58d9ed84315578dde2041a14b3b6473c6[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 29 15:00:52 2016 +0800

    raftserver: remove unnecessary route meta.

[33mcommit 860585bdd2a961309d2783e2ae0728bf98cfb571[m
Author: disksing <i@disksing.com>
Date:   Mon Feb 29 11:31:22 2016 +0800

    storage/mvcc: more specific rollback result

[33mcommit d42735aaaa6e37aa694ea6264f8949cf0037f5ce[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 28 12:42:44 2016 +0800

    pd: update get region.

[33mcommit f0532526d5a20a98c85f7b474a6d3faae1a92c6e[m
Merge: 32c3057e fdf78b3c
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sun Feb 28 12:17:36 2016 +0800

    Merge pull request #166 from pingcap/siddontang/unify-raftserver-test
    
    raftserver: unify single test for store and server.

[33mcommit 32c3057ea4ce2160523123b077612d0177eacba8[m
Merge: e03f9116 6511e0ee
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 28 11:20:26 2016 +0800

    Merge pull request #165 from pingcap/siddontang/update-proto
    
    proto: update proto.

[33mcommit 0706d44005a6cf8d5a97eaf4c35109541e08161d[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 28 10:54:03 2016 +0800

    pd: support get node and store.

[33mcommit fdf78b3c6ff765ad8f269b072f5890e9535d8db5[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 28 10:39:03 2016 +0800

    raftserver: unify single test for store and server.

[33mcommit 6511e0ee2587f821080551d2c082d0b033ed7298[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 28 10:29:45 2016 +0800

    proto: update proto.

[33mcommit 6e7819dfb5284c9b98977f4f05f83bfee39756ee[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 28 09:29:10 2016 +0800

    pd: update comment and add self arg.

[33mcommit e03f911634ee22ed27af62ffba26521f39821969[m
Merge: bba7b7bc 920b1a77
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sun Feb 28 00:35:28 2016 +0800

    Merge pull request #161 from pingcap/siddontang/raftserver-test
    
    add simple server test.

[33mcommit 920b1a771860cf37d4700eeb2449f0aa8a436fa4[m
Merge: 7e0d40fa 2d2150a9
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Feb 27 23:39:19 2016 +0800

    Merge pull request #163 from pingcap/ngaut/fix-test
    
    tests/raftserver: Fix tests

[33mcommit 2d2150a9f2c4cb2ed546d24fae3c4dad679775a0[m
Author: ngaut <ngaut@126.com>
Date:   Sat Feb 27 23:04:16 2016 +0800

    tests/raftserver: Fix tests

[33mcommit 2c290a080b31c9f295f6e59fb5fc45b78a07e2fb[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 27 21:34:25 2016 +0800

    *: add base pd mod.
    
    @ngaut

[33mcommit 7e0d40faabff37fc143ffd9f93092d3fece3e21c[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 27 16:58:10 2016 +0800

    raftserver: Rename simulator and add TODO comment.

[33mcommit 2bc4b2162302cd03cfaddf0c266aacaf9f1aeaa8[m
Merge: 0cd17508 0726507d
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 27 16:30:18 2016 +0800

    Merge pull request #162 from pingcap/ngaut/clean-up
    
    tests/raftserver: Clean up

[33mcommit 0726507dcfda63cc6e289ce28fc43056cc636ac6[m
Author: ngaut <ngaut@126.com>
Date:   Sat Feb 27 15:42:39 2016 +0800

    tests/raftserver: Clean up

[33mcommit 0cd17508c9df02b5b924b4c81e5561de4c4fc156[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 26 23:02:26 2016 +0800

    *: move StoreCluster to store.rs.

[33mcommit 312fe9a1ad04a68a14a47d5b9431386b073e704e[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 26 22:54:19 2016 +0800

    *: rename store -> node in test.

[33mcommit c2a8c3927ef32e138f2f10fb6fa0ce433c8aeed9[m
Merge: 3c1f4f55 bba7b7bc
Author: disksing <i@disksing.com>
Date:   Fri Feb 26 15:02:00 2016 +0800

    Merge branch 'master' into disksing/txn

[33mcommit 3c1f4f55c476965f0403eb4fe13251167ac07127[m
Author: disksing <i@disksing.com>
Date:   Fri Feb 26 15:00:49 2016 +0800

    storage: renames

[33mcommit 436d52a0c73af2d7ca5a4aefd714677bf8563e33[m
Author: disksing <i@disksing.com>
Date:   Fri Feb 26 13:33:25 2016 +0800

    storage: add tests

[33mcommit ba9c758af7fb4e6a619534fc0eb0e5b14d285bba[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 26 13:52:13 2016 +0800

    raftserver: Address comment.

[33mcommit 137b93a623842dbc3d4c331baa06933641bd3442[m
Merge: 250f1c4b bba7b7bc
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 26 13:36:29 2016 +0800

    Merge branch 'master' into siddontang/raftserver-test

[33mcommit bba7b7bc3469859abdf876009e013538c4e622d8[m
Merge: 4f707eb1 6f0b34a4
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 26 13:35:44 2016 +0800

    Merge pull request #160 from pingcap/siddotang/update-mio
    
    *: create event loop outer.

[33mcommit 250f1c4b2cd0e916979894b1b0f06261d1ff095b[m
Merge: 2edbb079 6f0b34a4
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 26 13:33:39 2016 +0800

    *: merge siddontang/update-mio and fix conflict.

[33mcommit 6f0b34a469b2356f059eca3a5af8fd60b9a44048[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 26 13:09:06 2016 +0800

    *: create event loop outer.

[33mcommit 4f707eb130fa4534fdaed97d2ac067a746cfd0b4[m
Merge: 51684eb0 f54967ac
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Feb 26 12:15:59 2016 +0800

    Merge pull request #159 from pingcap/busyjay/adjust-campaign-timeout
    
    raftserver: adjust timeout to wait for campaign

[33mcommit f54967ac7c92e7db906a61db55c0cfaafbcf58d7[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Feb 26 12:08:11 2016 +0800

    adjust timeout to wait for campaign

[33mcommit 2edbb079c5149a038e9df6d74f7d30c39eba55f1[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 26 12:05:09 2016 +0800

    tests/raftserver: update and add simple server test.

[33mcommit d1bb3c7ea059046f79a45a82f7a1e289e386c1b2[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 26 12:04:05 2016 +0800

    tests/raftserver: Extract simulator for test store and server.

[33mcommit 51684eb0eb320b1ef9c9ddce1c4b255d58e1fe16[m
Merge: e94c92ff f08fd298
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 26 11:21:17 2016 +0800

    Merge pull request #158 from pingcap/siddontang/raftserver-use-store
    
    raftserver: integrate Store.

[33mcommit f08fd2980d64293e15a0bf217ed7f151e81e0eb1[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 25 18:47:43 2016 +0800

    raftserver: integrate Store.

[33mcommit 1311c714e624426e9d43b910b50e15f4ce563259[m
Author: disksing <i@disksing.com>
Date:   Thu Feb 25 20:47:17 2016 +0800

    storage: renames

[33mcommit c471879010297a32483ecf9b78d6d352c0fd723f[m
Author: disksing <i@disksing.com>
Date:   Thu Feb 25 20:13:02 2016 +0800

    storage/txn: simplify code, format code

[33mcommit bfba3eb120b1bd486125bcd0b55a8c170dea53ea[m
Author: disksing <i@disksing.com>
Date:   Thu Feb 25 19:49:03 2016 +0800

    *: resolve compile issue

[33mcommit fabcea299de3fa4d05ee32512030cde8576b41e7[m
Merge: f2144b29 e94c92ff
Author: disksing <i@disksing.com>
Date:   Thu Feb 25 19:44:31 2016 +0800

    Merge branch 'master' into disksing/txn

[33mcommit f2144b293ae102c3fe27e5c44a139ba7e3add85a[m
Author: disksing <i@disksing.com>
Date:   Thu Feb 25 18:16:29 2016 +0800

    storage: support batch_get and scan

[33mcommit b902ff98073ce882b0f98d3f883d923f5756db24[m
Author: disksing <i@disksing.com>
Date:   Thu Feb 25 16:44:01 2016 +0800

    storage/txn, storage/mvcc: refactor, move 'mvcc::MvccStore' to 'txn::TxnStore'

[33mcommit e94c92ff8e829202844db1bba676f95306f6b2f1[m
Merge: c849e45b 2c8895fc
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Feb 25 16:36:34 2016 +0800

    Merge pull request #157 from pingcap/siddontang/cleanup-raftserver
    
    raftserver: remove unnecessary file.

[33mcommit 2c8895fc99fc894dd25a7da012b1ab26846f5fef[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 25 16:34:33 2016 +0800

    raftserver: remove unnecessary file.

[33mcommit c849e45b05a9541288efe2f1175a0fb4c0eebb37[m
Merge: bab60ee4 6bf7b53a
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 25 10:40:23 2016 +0800

    Merge pull request #156 from pingcap/siddontang/refactor-raftserver
    
    refactor raftserver

[33mcommit 6bf7b53a3454d5acf9da564d45fd435a09ddde6e[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 23:09:30 2016 +0800

    raftserver: make clippy happy.

[33mcommit 319a6854ed0cdae27cee20ca958f822f4ec8a2e5[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 22:48:59 2016 +0800

    raftserver: remove no need quit handler.

[33mcommit 071de9f977c17ef9fb53c38ab3bf5acceb841092[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 22:45:25 2016 +0800

    raftserver: remove no need timer now.

[33mcommit ab8d3c031353de3178e928c10201ea00f38b2c48[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 22:36:57 2016 +0800

    raftserver: remove tick, store handles it inner.

[33mcommit fb2a8333d0cf921d9d41d588c1d16b958f335ef5[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 22:27:05 2016 +0800

    raftserver: remove runner, public server directly.

[33mcommit bab60ee4a2afb6fb236f7352df4bbc4138368444[m
Merge: 318796d7 c10c6405
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Feb 24 22:08:46 2016 +0800

    Merge pull request #155 from pingcap/busyjay/bench-store
    
    raftserver: add store bench

[33mcommit c10c640573eebd212653220ca92fcfa7f92ae5e2[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 24 19:50:30 2016 +0800

    add get and seek bench

[33mcommit 318796d70096bed7720cbe2542316a56938fdfc1[m
Merge: 1bb3ce89 e6831a6a
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Wed Feb 24 19:33:21 2016 +0800

    Merge pull request #149 from pingcap/morefreeze/add_rest_tests
    
    add rest tests

[33mcommit 1bb3ce89165f413180accd5c9c02d3fba21c59af[m
Merge: 65153789 faafd4da
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 19:00:19 2016 +0800

    Merge pull request #154 from pingcap/siddontang/refactor-raftserver
    
    refactor raftserver

[33mcommit faafd4dae45fa44e364c7bc399ad3261cf4a6651[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 17:09:28 2016 +0800

    raftserver: Sender -> SendCh

[33mcommit 2e9bcd03f850b3ea56c4b1f8d14792ca8f08387c[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 16:49:17 2016 +0800

    raftserver: add config and some comments.

[33mcommit 651537891d40359a5e1cddca692150d747a5c1f3[m
Merge: fcb7c1fc f0c39735
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 16:20:37 2016 +0800

    Merge pull request #153 from pingcap/siddontang/update-raftserver
    
    raftserver: use slab instead of hashmap for connections.

[33mcommit f0c397351210455b3ba7e1d2eb38380c9c2f0104[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 15:35:49 2016 +0800

    raftserver: use slab instead of hashmap for connections.
    
    Slab is more commonly used with mio.

[33mcommit 2e2e2e49e69f6df3eef538ad5fbf802ff1d3a6e7[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 24 15:21:47 2016 +0800

    add delete bench

[33mcommit 3944310d0815913e3e7a40f94a44deac14657761[m
Merge: b3d87921 fcb7c1fc
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 24 14:06:37 2016 +0800

    Merge branch 'master' into busyjay/bench-store

[33mcommit b3d87921cd2b11fac9f1b77d428b164525454c2e[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 24 14:05:32 2016 +0800

    add store bench

[33mcommit fcb7c1fc359723920fc43351ae9c2ec60f474ef1[m
Merge: 40415d07 7ae3a584
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Feb 24 14:04:31 2016 +0800

    Merge pull request #152 from pingcap/siddontang/gc-raft-log
    
    *: Reopen

[33mcommit 7ae3a5843cf282818af08c79084e0c65c8e37022[m
Merge: 5f917f54 b2f60ba1
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Feb 24 14:03:01 2016 +0800

    Merge pull request #151 from pingcap/ngaut/pprof
    
    *: Add pprof configuration

[33mcommit 40415d07b19fb4c4390409829c7aba6f6437cf42[m
Merge: ad1db06a 5f917f54
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 13:45:39 2016 +0800

    Merge pull request #148 from pingcap/siddontang/gc-raft-log
    
    raftserver: support compact log regularly.

[33mcommit b2f60ba16e57d9fd570153fe08bd4a08ed120ca2[m
Author: ngaut <ngaut@126.com>
Date:   Wed Feb 24 13:41:17 2016 +0800

    *: Add pprof configuration

[33mcommit 5f917f542aad8f154f1293fee72bce770c3e4f84[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 13:23:54 2016 +0800

    raftserver: Address comment.

[33mcommit bc9d82e19963a1f0d947901597fc11b1591cceff[m
Merge: fb821509 9c28f44b
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 12:43:27 2016 +0800

    Merge pull request #150 from pingcap/ngaut/add-comments
    
    store: Add comments

[33mcommit 9c28f44bf128ee21f08fff2ec9264d21a250b6e8[m
Author: ngaut <ngaut@126.com>
Date:   Wed Feb 24 12:28:17 2016 +0800

    store: Add comments

[33mcommit fb821509d0601fefb5e89d84d93391a2b1d2ec95[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 12:02:04 2016 +0800

    raftserver: Address comment.

[33mcommit ad4fa73e58c1980f99fbb7e0a3547a6d1e4daa3d[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 24 11:52:56 2016 +0800

    build benches layout

[33mcommit e6831a6aec5a4eb64a5dbef0d21f2971f9d14b55[m
Merge: 7fd70687 ad1db06a
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Feb 24 11:06:03 2016 +0800

    Merge branch 'master' of github.com:pingcap/tikv into morefreeze/add_rest_tests

[33mcommit d78210eb291612e0619fb160b84773a9eac9cd9e[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 11:01:11 2016 +0800

    raftserver: Address comment

[33mcommit 575f104c2bb233587547913ff4e81c9ac5278de7[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 10:54:02 2016 +0800

    raftserver: Address comment.

[33mcommit 5cdbd83fe1dc0be0ad9ba7bacea3b164da27aad6[m
Author: disksing <i@disksing.com>
Date:   Wed Feb 24 10:52:58 2016 +0800

    storage/mvcc, storage/txn: renames and minor changes

[33mcommit d8fe08eb264a7b2ca81a36aeff4db7179c0103d0[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 24 10:44:07 2016 +0800

    raftserver: support compact log regularly.

[33mcommit 907a1ca9364c9417b9135f61cb6bd2c47559bfda[m
Merge: 12db2a4b ad1db06a
Author: disksing <i@disksing.com>
Date:   Wed Feb 24 10:39:29 2016 +0800

    Merge branch 'master' into disksing/txn

[33mcommit ad1db06a0256a25a92389252c35acfa7f7f61443[m
Merge: 286fe479 868282b8
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Feb 24 10:27:33 2016 +0800

    Merge pull request #147 from pingcap/disksing/rename-storage-command
    
    storage: rename command, 'version' -> 'ts'

[33mcommit 868282b87da8794403560816668906738eafdb57[m
Author: disksing <i@disksing.com>
Date:   Wed Feb 24 10:24:20 2016 +0800

    storage: rename command, 'version' -> 'ts'

[33mcommit 12db2a4b6cdc53c296087d0b44da521e5d81ec65[m
Author: disksing <i@disksing.com>
Date:   Wed Feb 24 10:06:24 2016 +0800

    storage/mvcc: update prewrite logic

[33mcommit 286fe47976006a257e446dc3b8891be7e416547c[m
Merge: f6529e4e a9dedbf7
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Feb 23 22:15:48 2016 +0800

    Merge pull request #146 from pingcap/siddontang/compact-log-proto
    
    proto: add Compact Log command.

[33mcommit 86df00be5aca1a4dd84be8fad508388e1d8c20df[m
Merge: 191c687f f6529e4e
Author: disksing <i@disksing.com>
Date:   Tue Feb 23 20:54:36 2016 +0800

    Merge branch 'master' into disksing/txn

[33mcommit f6529e4ed311c07597ee9c62ebe3400727cdc858[m
Merge: c00f0c3b fc23e6f5
Author: disksing <i@disksing.com>
Date:   Tue Feb 23 20:48:43 2016 +0800

    Merge pull request #144 from pingcap/disksing/update-engine
    
    storage/engine: refactor engine

[33mcommit fc23e6f5d430d5a80f50fc8900e049a5cf50fc1f[m
Author: disksing <i@disksing.com>
Date:   Tue Feb 23 20:45:45 2016 +0800

    storage/engine: refactor engine

[33mcommit 191c687fd98af682aba26c6c195a708ea2fde275[m
Merge: 4d2fffda c00f0c3b
Author: disksing <i@disksing.com>
Date:   Tue Feb 23 20:33:56 2016 +0800

    Merge branch 'master' into disksing/txn

[33mcommit c00f0c3b1d95d71ac7d40386a058ce5ba4fc51f3[m
Merge: 2fe191a8 724a83f3
Author: disksing <i@disksing.com>
Date:   Tue Feb 23 20:32:30 2016 +0800

    Merge pull request #145 from pingcap/disksing/txn-proto
    
    transaction: add meta proto

[33mcommit 7fd70687b2ee3fdde17325944f24863553b69ce2[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Tue Feb 23 20:23:44 2016 +0800

    kvserver: add scan/prewrite/commit tests

[33mcommit a9dedbf77aa6a5261e4c4cf3fbbc91b68743ff13[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 23 19:41:36 2016 +0800

    proto: add Compact Log command.

[33mcommit 724a83f3587737082952b87f5f1421f975daed45[m
Author: disksing <i@disksing.com>
Date:   Tue Feb 23 19:41:32 2016 +0800

    transaction: add meta proto

[33mcommit 2fe191a876f79ddb563dff77f3ec7b44961d4d1c[m
Merge: c8a18acf 6e28b7ae
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Tue Feb 23 19:16:28 2016 +0800

    Merge pull request #142 from pingcap/morefreeze/add_tests
    
    add kvserver tests

[33mcommit 6e28b7ae16d4813b06353be4fedbff8b1fb16edb[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Tue Feb 23 14:10:22 2016 +0800

    kvserver: add tests
    
    1. add quit of server test
    2. add get_done test

[33mcommit 4d2fffda2bb5822aad824139232b666b716ce61b[m
Author: disksing <i@disksing.com>
Date:   Tue Feb 23 17:54:30 2016 +0800

    storage/mvcc: add MetaLock_Type

[33mcommit b303a18147878576c18fb33d676e6571a531fea8[m
Author: disksing <i@disksing.com>
Date:   Tue Feb 23 17:17:29 2016 +0800

    storage: update commit logic

[33mcommit 78df6e78422da3c9b8a429af559a6a7067d89fe7[m
Merge: fb15a303 c8a18acf
Author: disksing <i@disksing.com>
Date:   Tue Feb 23 17:06:29 2016 +0800

    Merge branch 'master' into disksing/txn

[33mcommit c8a18acf875346a6299e40579cbc00e6ecaa5d76[m
Merge: d7a54774 6692bfd9
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Feb 23 16:40:53 2016 +0800

    Merge pull request #143 from pingcap/busyjay/clean-raft
    
    raft: clean and fix clippy warning

[33mcommit 6692bfd9b696e3000e9d36eeb96f3d00ebcaf7fb[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Feb 23 16:36:36 2016 +0800

    address comment

[33mcommit 712dc76d579a4114da24757121d1d086a609aae7[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Feb 23 16:16:08 2016 +0800

    remove ConfChange prefix

[33mcommit e15c683891a8c85a790b2d56f686b97938620692[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Feb 23 16:15:39 2016 +0800

    raft: fix clippy warning

[33mcommit 6fc20197a78205c1740a0238e79d8111a0964727[m
Merge: cb568a57 d7a54774
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Feb 23 15:33:03 2016 +0800

    Merge branch 'master' into busyjay/clean-raft

[33mcommit d7a547749d08f7112599a1538d363e71ebed65ee[m
Merge: 3f4e280b 62527757
Author: disksing <i@disksing.com>
Date:   Tue Feb 23 14:56:14 2016 +0800

    Merge pull request #141 from pingcap/disksing/update-clippy
    
    *: update clippy, resolve warnings

[33mcommit 62527757575c0d716f11f338a2bf0653c0bc7e6e[m
Author: disksing <i@disksing.com>
Date:   Mon Feb 22 17:39:53 2016 +0800

    *: update clippy, resolve warnings

[33mcommit fb15a303654118d3c8f99379b9bbe33649ad2810[m
Author: disksing <i@disksing.com>
Date:   Tue Feb 23 13:53:07 2016 +0800

    storage: simplify mvcc logic

[33mcommit 2ca8d9386765701933c9317e235843ec3b75eb80[m
Author: disksing <i@disksing.com>
Date:   Mon Feb 22 17:39:53 2016 +0800

    *: update clippy

[33mcommit 610fbb1569582a5f93e7311fb247633df25a14ea[m
Author: disksing <i@disksing.com>
Date:   Mon Feb 22 15:49:20 2016 +0800

    storage: transaction support

[33mcommit 3f4e280b516d6e26d134e8d068bbdb1e9b147ae6[m
Merge: 3237ff5b 20e01224
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 23 13:48:30 2016 +0800

    Merge pull request #138 from pingcap/siddontang/conf-change
    
    support conf change

[33mcommit 20e01224dabc527cd696098ee8ecfb30187592fd[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 23 13:46:38 2016 +0800

    raftserver: check max id and update tests.

[33mcommit cb568a57c43170c62e13214edc652bf627e44513[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Feb 23 12:23:06 2016 +0800

    remove invalid todo assigner

[33mcommit b86f18245d524e210649f0d567539ac42cf2da48[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 23 11:08:35 2016 +0800

    *: add simple conf change test.

[33mcommit b55318e330689c99bd9e90f86bdc2e2ca890366b[m
Merge: f08fc61f 3237ff5b
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 23 11:06:17 2016 +0800

    Merge branch 'master' into siddontang/conf-change

[33mcommit 3237ff5be13f3ca545dd557d8027ebbf4b6b9ea1[m
Merge: 4fa411b2 12c8b853
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Feb 23 11:01:52 2016 +0800

    Merge pull request #137 from pingcap/ngaut/raft-fix
    
    raw_node: fix condition checking.

[33mcommit 12c8b8531e27745b7cfac624c61b18b61bc8a254[m
Author: ngaut <ngaut@126.com>
Date:   Tue Feb 23 10:48:50 2016 +0800

    raw_node: fix condition checking.

[33mcommit f08fc61f690b1b982e87e30b739c1be88c20551a[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 23 00:02:50 2016 +0800

    raftserver: store handles conf change remove result.

[33mcommit 6930b0f24f14c1539b0fe086c42bc844d0c452fc[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 23 00:02:08 2016 +0800

    raftserver: update region after conf change applied.

[33mcommit 9426e956f6da1c47d1c615a7311fd7a8309f7895[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 22:06:09 2016 +0800

    raftserver: add base ConfChange.

[33mcommit 4fa411b22df80d89a6dfc47f111042cc67d9df21[m
Merge: a185ffbd 9a9ae9c1
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Feb 22 21:24:47 2016 +0800

    Merge pull request #134 from pingcap/busyjay/raft-fix-comment
    
    raft: fix some comment and implement

[33mcommit 9a9ae9c156a5754da722ccb43e8970925698f782[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Feb 22 18:01:41 2016 +0800

    raft: fix some comment and implement

[33mcommit a185ffbd59de479d305acb6d51874ec1bfae54c6[m
Merge: 570ce158 da019dbf
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 21:18:23 2016 +0800

    Merge pull request #135 from pingcap/siddontang/peer-tombstone
    
    raftserver: support base tombstone.

[33mcommit 570ce1582c8afd021010b3322dd3a5cd57524290[m
Merge: 01431856 d8f7e11f
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Feb 22 20:30:15 2016 +0800

    Merge pull request #136 from pingcap/ngaut/clean-up
    
    server: Tiny clean up

[33mcommit d8f7e11fc8fc2a67bd74b140fe5efc4f0dfddda4[m
Author: ngaut <ngaut@126.com>
Date:   Mon Feb 22 19:52:19 2016 +0800

    server: Tiny clean up

[33mcommit da019dbf1108338cad63f41132af4b31fdf005ab[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 19:43:49 2016 +0800

    raftserver: Address comment.

[33mcommit 6acca9ab81eee5c65ca8349518358cd6ac6c43f3[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 19:07:16 2016 +0800

    raftserver: Add comment for tombstone key.

[33mcommit 0143185610294940df8a3ae87636c5fe3912cbb7[m
Merge: 6e11c006 df14788d
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 18:54:03 2016 +0800

    Merge pull request #133 from pingcap/siddontang/cleanup-transport
    
    *: remove unnecessary function in Transport.

[33mcommit 840a92b59746f2b80d76d4e21b9388ed11692f7c[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 18:04:09 2016 +0800

    raftserver: support base tombstone.

[33mcommit 6e11c00659515d491f2407d7766697103af069fd[m
Merge: cd0d8364 d225c1d7
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 17:34:48 2016 +0800

    Merge pull request #132 from pingcap/siddontang/ready-result
    
    raftserver: support ReadyResult.

[33mcommit d225c1d7ceb11b6c4db8af7cfe9e628fe81c00eb[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 17:03:50 2016 +0800

    raftserver: support ReadyResult.

[33mcommit df14788d85fae471659bd7127a427bd0a07ee012[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 17:30:23 2016 +0800

    *: remove unnecessary function in Transport.

[33mcommit cd0d836442da7538ef4d4af959aedfe67a852599[m
Merge: 08f818da 616a86ad
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 16:12:40 2016 +0800

    Merge pull request #130 from pingcap/siddontang/update-route
    
    raftserver: rename region to route.

[33mcommit 08f818dab9329420ad3e4a0d390c0bc570c5a9ee[m
Merge: 77722182 90508286
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 15:45:07 2016 +0800

    Merge pull request #129 from pingcap/siddontang/cleanup-region-keys
    
    raftserver: use region id for both region raft and meta prefix.

[33mcommit 9050828631ec110b1e3068ca012744f537a0325f[m
Merge: 07142459 77722182
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 15:41:40 2016 +0800

    *: merge master and fix conflict.

[33mcommit 071424593ba185d33bef9419071918192185be8c[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 15:38:46 2016 +0800

    raftserver: use region id for both region raft and meta prefix.

[33mcommit 77722182a1c0cd1e3e580e3296c1212ae6a54702[m
Merge: 985c23fe 3223b135
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 14:53:36 2016 +0800

    Merge pull request #127 from pingcap/siddontang/peer-cache
    
    use lru to cache peer.

[33mcommit 985c23fe647ab32ee71d7ed84437cd5164f368a1[m
Merge: 9adfcff6 4654bea5
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Feb 22 13:56:21 2016 +0800

    Merge pull request #126 from pingcap/busyjay/raftserver-store-test
    
    raftserver: add store tests

[33mcommit 4654bea5268f56a42b7a274cd6c4ad26dbadd877[m
Merge: fa94ba31 b717b7d7
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Feb 20 16:43:42 2016 +0800

    Merge branch 'master' into busyjay/raftserver-store-test

[33mcommit 9adfcff6c1d511e7a04b2f1b7182ebd394e63d9c[m
Merge: b717b7d7 3fd42e23
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 13:18:39 2016 +0800

    Merge pull request #128 from pingcap/siddontang/update-proto
    
    add max_peer_id in region and do some cleanup.

[33mcommit 3223b135ec39208e87b92855943f85305187a01e[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 22 12:56:02 2016 +0800

    raftserver: use HashMap to cache peers.

[33mcommit 616a86ad67a32ca87c9a24d93fdc52ff4286206e[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 20 22:54:21 2016 +0800

    raftserver: rename region to route.

[33mcommit 3fd42e230372eaa15c248fef64f4be6c4049ce1a[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 21 15:17:19 2016 +0800

    proto: add max_peer_id in region and do some cleanup.

[33mcommit b717b7d778d506efdd4ea95a1749654e15aa3544[m
Merge: 899e8666 73c4a0d0
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Feb 20 16:26:00 2016 +0800

    Merge pull request #125 from pingcap/ngaut/rename
    
    *: Rename Sender to SendCh

[33mcommit fa94ba3194ec900643edbbd27ca1741b6de04e6b[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Feb 20 16:01:30 2016 +0800

    add more single store tests

[33mcommit 73c4a0d0e68f492debb21e00745a525c75bcb46d[m
Author: ngaut <ngaut@126.com>
Date:   Sat Feb 20 14:52:52 2016 +0800

    Move call_command out of SendCh

[33mcommit 753df23eccc09ae1009230d1cf6effd7c501d191[m
Author: ngaut <ngaut@126.com>
Date:   Sat Feb 20 14:18:00 2016 +0800

    *: Rename sender to sendch

[33mcommit f417216d224a6d41f7b5de4368bc012b81eea2ca[m
Author: ngaut <ngaut@126.com>
Date:   Sat Feb 20 13:36:37 2016 +0800

    *: Rename Sender to SendCh

[33mcommit 899e86663d99d4c8aa7c4ba076de42041746bf34[m
Merge: 5f79079d a5863f7c
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 20 11:34:26 2016 +0800

    Merge pull request #124 from pingcap/siddontang/update-cargo
    
    *: update cargo with latest rust nightly.

[33mcommit a5863f7c82e3e9f1f70bd30534d412a865b942b4[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 20 11:31:00 2016 +0800

    *: update cargo with latest rust nightly.
    
    We should re-install latest rust nightly.

[33mcommit 840aefca102a83702cc41b51f40769bc18602646[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Feb 19 19:50:18 2016 +0800

    add more multi store tests

[33mcommit 5f79079d33bc4032d8f4ddd76e0fd0ffd21da28e[m
Merge: 7d735dec d3ccea60
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Feb 19 16:47:07 2016 +0800

    Merge pull request #123 from pingcap/ngaut/typo
    
    raft: Fix typo.

[33mcommit 2488a11957fd511e8013549aa01ca9e817165607[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Feb 19 13:46:55 2016 +0800

    clean code

[33mcommit d3ccea60ac1aef4a08169f45f3abbe80ef3c6837[m
Author: ngaut <ngaut@126.com>
Date:   Fri Feb 19 13:43:25 2016 +0800

    raft: Fix typo.

[33mcommit 7d735dececb207e82055f9ccdeab002290d2c73d[m
Merge: d12fe236 53845617
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Feb 19 11:03:31 2016 +0800

    Merge pull request #120 from pingcap/siddontang/test-store
    
    raftserver: test raftserver store

[33mcommit 5384561768eaefda21219a1bf26ac91fc61540c1[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 22:26:54 2016 +0800

    tests/raftserver: support base multi store test.

[33mcommit e407c766beeaaec27c9e47b726168dd83701dcea[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 22:04:42 2016 +0800

    raftserver: update event loop config and fix bug.

[33mcommit 610df89efd0a3d239ec584bc5d75b016ecb0f517[m
Merge: 6519940b d12fe236
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 20:20:45 2016 +0800

    Merge branch 'master' into siddontang/test-store

[33mcommit d12fe2364ee28d5ac7f17b019b262248cb9b0744[m
Merge: 588a714c 3d38c5c3
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 20:16:04 2016 +0800

    Merge pull request #122 from pingcap/siddontang/update-proto
    
    support status command

[33mcommit 6519940bf8e0637ecb9449791198aa85d4f4b0f6[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 20:01:47 2016 +0800

    raftserver: remove unnecessary check.

[33mcommit 815f19b83ca90cf5cf875c13e29fbbcff314f3d7[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 20:01:27 2016 +0800

    raftserver: remove unsafe Send.

[33mcommit 3384313797e45fae0cdbf45a53a1d8a5a65e90b8[m
Merge: ea367acd 588a714c
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 19:56:04 2016 +0800

    Merge branch 'master' into siddontang/test-store

[33mcommit 588a714cd729596781fc31b66293807d483fb86e[m
Merge: 77ee614a bcd5b4c6
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 19:54:58 2016 +0800

    Merge pull request #121 from pingcap/busyjay/refactor-raft
    
    raft: make Raft send

[33mcommit 3d38c5c3ae5df20a457a1b0a262ec41553f8888d[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 17:45:59 2016 +0800

    raftserver: handle region leader command.

[33mcommit 7ac1b5c404291c5a2f0a0ed2d3ec785bae6b3a2d[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 17:44:17 2016 +0800

    proto: add Status command.

[33mcommit ea367acd6709ef1ff49ff27777cbdfa7e8852b8a[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 16:39:30 2016 +0800

    tests/raftserver: use Cluster to simplify multi store test.

[33mcommit 77ee614aa7011d136a502c3fa1375ca2c59c07ef[m
Merge: 4b7f66fe 30e74884
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Thu Feb 18 14:56:45 2016 +0800

    Merge pull request #30 from pingcap/morefreeze/rpc
    
    add rpc server

[33mcommit 30e74884d269dfa164fe3d3da08b9e3992d674eb[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Feb 18 14:55:42 2016 +0800

    util: fix clippy warn

[33mcommit bd897a013a7a2bda6b5cc6330c8bea48e3c7ea43[m
Merge: 75bb1472 4b7f66fe
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Feb 18 14:45:28 2016 +0800

    Merge branch 'master' into morefreeze/rpc

[33mcommit 75bb1472273f1db8cab1306eecebd9d506a733c7[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Feb 18 13:31:24 2016 +0800

    kvrpc: address comment

[33mcommit bcd5b4c6538488332ba6a70c3cf21da30a2264f5[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Feb 18 14:27:50 2016 +0800

    make raft send

[33mcommit 829f26c23d6190cacdb9d3394fa4cd65a6a64467[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 13:52:24 2016 +0800

    tests/raftserver: add base multi store test.

[33mcommit cbc943006f838aacb6e2f2faf0cb7ae0d25d489d[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 13:51:47 2016 +0800

    raftserver: tiny update.

[33mcommit 857b744e26ad675850393262fa8ffff38f995970[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 12:41:03 2016 +0800

    raftserver: Send supports call command with timeout.

[33mcommit 88480f96ac76bbdebf77413176ec6390cf99ff83[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 11:23:30 2016 +0800

    tests/raftserver: do some cleanup.

[33mcommit d19482d289910c87ae69126db6af50946f197f7b[m
Merge: 702b0bf0 4b7f66fe
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 11:15:05 2016 +0800

    Merge branch 'master' into siddontang/test-store

[33mcommit 4b7f66fe0d6305287db5396adc40c2e196bf57c4[m
Merge: 84e289eb b633f052
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 11:14:34 2016 +0800

    Merge pull request #119 from pingcap/busyjay/refactor-config
    
    raft: move storage out of config

[33mcommit 702b0bf0e0911309927d0ac199520d8ff28af6db[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 11:13:27 2016 +0800

    tests: add base raft server test.

[33mcommit 546c45a42e15f53c5f85ff3b7cfa43ef1949a062[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 11:13:08 2016 +0800

    raftserver: add data_key.

[33mcommit 2874fa4e4b1be83b568dd9bedaab70cbe2839fe8[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 11:12:51 2016 +0800

    raftserver: do some public.

[33mcommit 911e2271016d45df86aaa00db009d00f30d5d588[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Feb 18 11:12:43 2016 +0800

    raftserver: handle quit and implement Send.

[33mcommit 2ba51c061321d62335133b927a16a2896fba26f5[m
Merge: c62126a7 84e289eb
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Feb 18 11:06:12 2016 +0800

    Merge branch 'master' into morefreeze/rpc

[33mcommit c62126a750cd74ea32042d8f77cc9a1d58507535[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Feb 18 11:02:58 2016 +0800

    kvrpc: remove unused import, address comment

[33mcommit b633f0524babfadff0cd5e9eb5e5c1b4f0609936[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Feb 18 10:37:41 2016 +0800

    address comment

[33mcommit 95d44349f93019c7ad948d4df9a9ea6b06b328e3[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 17 18:41:47 2016 +0800

    raft: move storage out of config

[33mcommit 84e289eb621601350bbf8a20968f36437a96ab60[m
Merge: 94276d98 de112ea6
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Feb 17 17:23:58 2016 +0800

    Merge pull request #116 from pingcap/busyjay/peerstorage-tests
    
    raftserver: add storage tests

[33mcommit 94276d98eb7c9152b6eab0d4892298ac50306b59[m
Merge: 22af3e74 a15a8611
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Feb 17 16:33:28 2016 +0800

    Merge pull request #118 from pingcap/busyjay/fix-more-clippy-warnings
    
    raft: fix more clippy warnings

[33mcommit 22af3e749a9f0bbfdd98c260fb94b1446fd99fef[m
Merge: 57e70f2d 1af5b10d
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 16:29:07 2016 +0800

    Merge pull request #117 from pingcap/siddontang/update-sender
    
    raftserver: sender uses Send only and add test.

[33mcommit a15a861128f7e0396df392c48f7e7342ab6762e4[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 17 16:17:21 2016 +0800

    raft: fix more clippy warnings
    
    - skip proto
    - add clippy check to tests directory

[33mcommit 8378f24820ce2107f0ed75d9b05f82f413cb2143[m
Merge: fec190e0 57e70f2d
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Feb 17 16:06:50 2016 +0800

    Merge branch 'master' into morefreeze/rpc

[33mcommit fec190e063f2c8b1bf0e07bb726e6d8359814325[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Feb 17 16:03:48 2016 +0800

    kvrpc: write will append a dequeu, then write to socket

[33mcommit 1af5b10d16e49a93cb87b631b9217190999376c0[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 16:02:19 2016 +0800

    raftserver: Address comment.

[33mcommit de112ea6611561e8d11aa345418c9761bb64c3f4[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 17 14:33:52 2016 +0800

    add missing push in bootstrap_region

[33mcommit 57e70f2d5e5abbb85ba762d00bea840a174b40ad[m
Merge: 33554347 16fdc445
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 14:51:58 2016 +0800

    Merge pull request #114 from pingcap/siddontang/test-keys
    
    raftserver: Add keys test.

[33mcommit 16fdc4454ae47dbec4263d99baf737e0b6526683[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 14:49:43 2016 +0800

    raftserver: Address comment.

[33mcommit 3fb6e2ac426d769f62730ce999be36464ea17c4e[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 14:45:25 2016 +0800

    raftserver: Address comment.

[33mcommit 76f1e4993940dedb4f54fea4bc48719d211e06d8[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 14:34:29 2016 +0800

    raftserver: Address comment.

[33mcommit bf796f820ca253eb6d09170e0c417dfdf774ab32[m
Merge: 9fabb948 33554347
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 14:26:32 2016 +0800

    *: merge master and fix conflict.

[33mcommit 9c9d464ccc5663555e023a67162102a5e34d835b[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 17 14:23:29 2016 +0800

    address comment

[33mcommit 9fabb9488f0f5eb01ee30c4bd8f7a7796c2236fe[m
Merge: 760027ca ac35feec
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Feb 17 14:04:20 2016 +0800

    Merge pull request #115 from pingcap/ngaut/remove-magic-number
    
    store: Remove magic number

[33mcommit 74911577704960b9e4b478994cd6de8c9c6aa45c[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 13:53:00 2016 +0800

    raftserver: sender uses Send only and add test.

[33mcommit d7b16ef0c693d824178c5c181cf4d06fc6504bbe[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 17 13:35:37 2016 +0800

    add storage tests

[33mcommit 33554347e044575cf314ba65f6d09342a88a15b4[m
Merge: 4909198e 20784254
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 11:40:03 2016 +0800

    Merge pull request #112 from pingcap/siddontang/execute-commnd
    
    support execute commnd

[33mcommit 760027caebf5810e3198935c5f88afa8ca93c02f[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 11:32:57 2016 +0800

    raftserver: Address comment.

[33mcommit ac35feec7a8ca4f3519c0019c5105faf18461f56[m
Author: ngaut <ngaut@126.com>
Date:   Wed Feb 17 11:22:33 2016 +0800

    store: Remove magic number

[33mcommit 4909198e5bca5280df28ec3c856bd2fcfab58c69[m
Merge: f4a777c8 13c265fe
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 10:35:01 2016 +0800

    Merge pull request #113 from pingcap/siddontang/update-peer-storage
    
    raftserver: update raft truncated state.

[33mcommit c1a3c0d8edfe41a6d6edcf3d8bb5555d23761e6a[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 10:25:16 2016 +0800

    raftserver: Add keys test.

[33mcommit 20784254e03621fe37c91428b771b14b071df546[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 10:20:29 2016 +0800

    raftserver: Address comment.

[33mcommit e0e5014e22837824ec2cc56a56134c2beec20507[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 09:31:52 2016 +0800

    raftserver: Address comment.

[33mcommit 277d5eb162777972ab2a3c39c65deb6cc9ba6620[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Feb 17 00:54:05 2016 +0800

    kvserver: fix clippy warn

[33mcommit 13c265fef9d5584ce1c540a65ff898e21d9cba7a[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 17 00:04:23 2016 +0800

    raftserver: update raft truncated state.

[33mcommit 2d2e4954cc3afe152459688b0652d1c897e7abec[m
Merge: ee6ce2b2 f4a777c8
Author: morefreeze <morefreeze@gmail.com>
Date:   Tue Feb 16 21:37:55 2016 +0800

    Merge branch 'master' into morefreeze/rpc

[33mcommit 6e1d83c740602838035d3475885d7974896613b7[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 16 17:59:42 2016 +0800

    raftserver: clear code.

[33mcommit ee6ce2b2dd4ebed62dca82bd2d0fb38e1de7b895[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Tue Feb 16 16:39:02 2016 +0800

    kvrpc: change to loop read because edge trigger

[33mcommit f4c7323d52bb8db6fac8e588f58aea70d3363c99[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 16 16:32:10 2016 +0800

    raftserver: Address comment.

[33mcommit 9cf998bea4ce944265651fdc840a2bf7a61e71da[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 16 15:28:43 2016 +0800

    raftserver: base support execute command.

[33mcommit 5a491d5414d52c190f5169c7595dce3a124c485b[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 16 15:28:11 2016 +0800

    raftserver: make clippy happy.

[33mcommit f737c597c8431d9c4aaa8318c96ee1fd2b4120b5[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 16 15:27:52 2016 +0800

    raftserver: support seek in Retriever.

[33mcommit f4a777c853a1cdb33d1d4a3d2b2b34475099297a[m
Merge: 6f4d898a b340cd83
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 16 15:22:11 2016 +0800

    Merge pull request #111 from pingcap/ngaut/clippy
    
    proto: Update rust proto generated files.

[33mcommit b340cd83f8fdec14b9b1a52ae540417ac542cb40[m
Author: ngaut <ngaut@126.com>
Date:   Tue Feb 16 14:35:11 2016 +0800

    proto: Update rust proto generated files.
    
    make clippy happy.

[33mcommit 6f4d898a9a9d52f885a74c306060735c7c0b324b[m
Merge: 207e154b 29d4765f
Author: disksing <i@disksing.com>
Date:   Tue Feb 16 14:24:54 2016 +0800

    Merge pull request #110 from pingcap/disksing/update-rustfmt
    
    *: update rustfmt

[33mcommit 29d4765f41597e3aa2d05d125c8df25edecdb805[m
Author: disksing <i@disksing.com>
Date:   Tue Feb 16 13:17:55 2016 +0800

    *: update rustfmt

[33mcommit 207e154b47ddb061e03a4c5952796cc0f3bf30c9[m
Merge: 6f64d179 87cbe195
Author: disksing <i@disksing.com>
Date:   Tue Feb 16 13:24:20 2016 +0800

    Merge pull request #109 from pingcap/disksing/fix-clippy-storage
    
    storage: fix clippy warnings

[33mcommit 87cbe195041636ea04dbd30e5d4d4d741d31acc0[m
Author: disksing <i@disksing.com>
Date:   Tue Feb 16 11:33:14 2016 +0800

    storage: fix clippy warnings

[33mcommit 6f64d179204081b571e1f966d3cb0747357f50a3[m
Merge: 34155302 c9a7a289
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Feb 16 11:15:33 2016 +0800

    Merge pull request #108 from pingcap/busyjay/adjust-storage
    
    raftserver: adjust storage implement

[33mcommit c9a7a289bd6b61c379f2c8f75b08bb3af4a48223[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Feb 16 11:02:28 2016 +0800

    address comment

[33mcommit e958fd941819245d9ed14b212e26c8718e31a565[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Feb 15 22:43:44 2016 +0800

    Address comment

[33mcommit 3415530297f9160b6a3b390d376e477c80134a86[m
Merge: 3ee7ebba f8f98dfb
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 20:59:27 2016 +0800

    Merge pull request #107 from pingcap/siddontang/fix-server-clippy
    
     fix clippy error.

[33mcommit 71dbf60979ee3809979c6538ded3dddf695bee1c[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Feb 15 20:49:29 2016 +0800

    raftserver: adjust storage implement
    
    - remove redundant Arc wrap
    - fix clippy warnings

[33mcommit 3ee7ebba82efe1ee19f315e1b63a6059f198a01e[m
Merge: 4861b29c 4efde3a0
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Feb 15 20:34:17 2016 +0800

    Merge pull request #106 from pingcap/ngaut/clippy
    
    raftserver/store: Make clippy happy.

[33mcommit f8f98dfb62dafcf78334990c1a7029c6efd33882[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 20:19:42 2016 +0800

    *: fix clippy error.

[33mcommit 4861b29cef04ce94bd022081b7234d967cbe911c[m
Merge: 004f7800 632ded5a
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 19:56:21 2016 +0800

    Merge pull request #105 from pingcap/siddontang/update-peer
    
    add saved peer when store runs, support destory peer data.

[33mcommit 4efde3a0cbc137da4d37ce9ba4602c9b8bb7327b[m
Author: ngaut <ngaut@126.com>
Date:   Mon Feb 15 19:31:18 2016 +0800

    raftserver/store: Make clippy happy.

[33mcommit 004f7800c01152fdd0ce2284f24d68595b5ac803[m
Merge: 10668f37 269c57ba
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Feb 15 17:23:04 2016 +0800

    Merge pull request #104 from pingcap/busyjay/fix-clippy-warnings
    
    raft: fix clippy warnings

[33mcommit 632ded5a1f2ed976a7caed9d013f5c6c9d7cc006[m
Merge: dcf0310f 10668f37
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 17:05:51 2016 +0800

    *: merge master and fix conflict.

[33mcommit 269c57babb00967a4726c1a88581261234abbc4c[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Feb 15 16:59:41 2016 +0800

    raft: fix clippy warnings

[33mcommit 10668f379be576f8d74df1858db82aaeba19f39b[m
Merge: f446de00 a222afa0
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 16:58:30 2016 +0800

    Merge pull request #103 from pingcap/siddontang/update-msg-uuid
    
    add uuid in raft command msg.

[33mcommit a222afa0c3e6bed3f464332c87bc0e648d8181f9[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 16:50:48 2016 +0800

    raftserver: Address comment.

[33mcommit 73e0dd510cc4dc74ddd5f64ccca97e34530a9a2e[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 15:59:06 2016 +0800

    raftserver: handle req/resp uuid.

[33mcommit 1049f3be9583a8ba068e042f311b273a0199d665[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 15:58:14 2016 +0800

    proto: add uuid field.

[33mcommit f446de00e61c3abde0a0857d5f29a35dfa88a5f1[m
Merge: 3b985709 5e220ced
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 14:49:23 2016 +0800

    Merge pull request #102 from pingcap/siddontang/sync-msg
    
    raftserver: send msg directly.

[33mcommit 5e220ced45122a093f721b604cb6b588e577376f[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 14:41:15 2016 +0800

    raftserver: send msg directly.

[33mcommit 3b9857097af477013fabe0090d225f03fb71ff9d[m
Merge: eab9d125 acc6c72a
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 14:20:40 2016 +0800

    Merge pull request #101 from pingcap/siddontang/update-proto
    
    update proto

[33mcommit eab9d125cafe2a1334412ae20a5d22259ee1a966[m
Merge: 1c3ce8d8 e8f6f78b
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 14:20:24 2016 +0800

    Merge pull request #98 from pingcap/siddontang/bootstrap-store
    
    support base bootstrap

[33mcommit acc6c72a4b5932f8e9d2147acb4db0824d36ef53[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 14:18:17 2016 +0800

    Makefile: Address comment.

[33mcommit e8f6f78b9be805f364b5b0d21d0e4322461148a9[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 14:08:08 2016 +0800

    raftserver: Address comment.

[33mcommit 1c3ce8d82f26bde853be8b3dbc9e464d09548ce0[m
Merge: cfd97e22 cd055bc2
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Feb 15 13:48:06 2016 +0800

    Merge pull request #100 from pingcap/ngaut/clippy
    
    *: Use clippy to catch common mistakes and improve rust code.

[33mcommit ce27fa7794c8d281169e379b53eb7d2794857be1[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 13:42:27 2016 +0800

    proto: re-generate proto.

[33mcommit af05896c354b44ee82d32062bd33d4dc363a4652[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 13:42:05 2016 +0800

    *: update cargo and add make proto

[33mcommit cfd97e223e939521cec28e04ccca7fb538e667c9[m
Merge: b1bfd6a1 ff684e9f
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 13:24:59 2016 +0800

    Merge pull request #99 from pingcap/siddontang/update-proto
    
    update proto

[33mcommit ff684e9f23f768c848046e40f7d51690c521fdaf[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 12:42:35 2016 +0800

    proto: Address comment.

[33mcommit cd055bc219f050fc65ad8b2821224ba61373ae74[m
Author: ngaut <ngaut@126.com>
Date:   Mon Feb 15 11:35:50 2016 +0800

    *: Use clippy to catch common mistakes and improve rust code.

[33mcommit 9dac5e87ce83d9364db95e463ae4454352f2bbb7[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 15 09:47:00 2016 +0800

    proto: Address comment.

[33mcommit 6c275757d668362792462de67531af349e4766ad[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 23:42:16 2016 +0800

    proto: use write instead of put/delete.

[33mcommit bf7a6654e960778f6f91ae50e04e2e3c7e7e0f7a[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 22:54:10 2016 +0800

    proto: format proto code.

[33mcommit 96a40d7970f81fc65d4219ef40af5d034c0d2772[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 22:45:00 2016 +0800

    proto: remove unnecessary field.

[33mcommit 342cfe5b7ef6a6611c3d4d697ec95cd1c871b660[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 22:44:40 2016 +0800

    proto: add command type for dispatching easily.

[33mcommit 51d716f970515f150afb9daf88f07738c78bb164[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Sun Feb 14 21:39:06 2016 +0800

    kvrpc: address comment

[33mcommit ab3ad22257e02a5f2b210f997acc65170cacd491[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 20:48:11 2016 +0800

    codec: format code.

[33mcommit edbee38f8bbbefbf824090fddf9deca8274029f4[m
Merge: 3806598a b1bfd6a1
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 20:47:03 2016 +0800

    Merge branch 'master' into siddontang/bootstrap-store

[33mcommit b1bfd6a160ad7206760d0148e28ec2dbf96fc02f[m
Merge: 870a3020 463af646
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 20:46:01 2016 +0800

    Merge pull request #96 from pingcap/siddontang/region-route
    
    support base region route meta.

[33mcommit 463af646bb93872458b06df022c3e687c34d32fc[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 20:15:57 2016 +0800

    *: support calculating max encoded bytes size.

[33mcommit 870a30201e0c12c6cceb4709e9bdcbb8e9b3565b[m
Merge: b290566a 77c54031
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 19:34:03 2016 +0800

    Merge pull request #97 from pingcap/siddontang/check-leader
    
    keep leader and check it when proposing command.

[33mcommit 77c5403157bc2994650baf6bddc182f9f5fd2f3c[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 19:21:58 2016 +0800

    raftserver: check invalid it when creating peer.

[33mcommit 1e365c328f29cdc9396c9b9602486e7c0c5ba4a3[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 18:48:59 2016 +0800

    raftserver; Address comment.

[33mcommit 2f159a41098292ad2a646a7b77d580dd2333761b[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 17:13:28 2016 +0800

    raftserver: Address comment.

[33mcommit 26b35afe2635753a88b4732fab45faa7c87bc1b1[m
Merge: 2c13a39c b290566a
Author: morefreeze <morefreeze@gmail.com>
Date:   Sun Feb 14 16:36:59 2016 +0800

    Merge branch 'master' into morefreeze/rpc

[33mcommit 2c13a39c8a7174d66e234ccd2760eb7c34ba8769[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Sun Feb 14 16:35:12 2016 +0800

    kvrpc:
    
    1. add log level flag
    2. address comment

[33mcommit c9e5f2093027c3dc588548749e5976e41936a8a4[m
Merge: 97069692 b290566a
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 16:11:50 2016 +0800

    *: merge master and fix conflict.

[33mcommit b290566a2127c1daad04a253e0d4da0535a57f6d[m
Merge: e1bfc57f db152e10
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 16:03:56 2016 +0800

    Merge pull request #95 from pingcap/siddontang/raftserver-command
    
    try to support propose and apply raft command.

[33mcommit fd2421abc6ede0b7a7386e2fe8d3dd3909839693[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Sun Feb 14 15:30:05 2016 +0800

    kvrpc: add loop for reading data

[33mcommit db152e1077ef5f042bf90f69ce9d4c4d43bf807b[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 14:51:49 2016 +0800

    raftserver: Address comment.

[33mcommit c5ed522ef7bb45c526a1b0110800eec9c09c7665[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Sun Feb 14 12:29:39 2016 +0800

    kvrpc:
    
    1. address comment
    2. add command flag in kvserver binary

[33mcommit c687bf8a72816d4775ab399d877c7b4518505c88[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 13:18:28 2016 +0800

    raftserver: Address comment.

[33mcommit af5f5b635cda1c5e1bde093b902e907d79a0685b[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 12:49:14 2016 +0800

    raftserver: Address comment.

[33mcommit 74ab3b6536965c98b179a975bd097fbf38793061[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 12:05:01 2016 +0800

    raftserver: Address comment.

[33mcommit 9706969248cbbf18d97d067d4dfe1262481cc86f[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 11:59:32 2016 +0800

    raftserver: check leader when proposing commands.

[33mcommit d4b521d8c0cd4696d71618d538517552579e9504[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 11:40:31 2016 +0800

    raftserver: get leader id in ready.

[33mcommit 426c422df8e840958c02fbc7bb9bc13e7b5a32f4[m
Merge: 3daf065c e1bfc57f
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 10:38:16 2016 +0800

    Merge branch 'master' into siddontang/region-route

[33mcommit 052b71d902ecd6fa46c0520ba88a6f953b4a4438[m
Merge: 59eb562e e1bfc57f
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 10:32:42 2016 +0800

    Merge branch 'master' into siddontang/raftserver-command

[33mcommit e1bfc57f08f0d7ee8587eea874dc5445c5f9e2cd[m
Merge: 708dadc4 c26c9814
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 10:32:14 2016 +0800

    Merge pull request #94 from pingcap/siddontang/update-proto
    
    proto: update proto.

[33mcommit c26c981456fb65735b4756ecfc634a53c620a483[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 22:23:09 2016 +0800

    proto: update proto.

[33mcommit 59eb562e793af7c5418505061bcc300f2dd336f2[m
Merge: 55c1458f 708dadc4
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 10:19:07 2016 +0800

    *: merge master and fix conflict.

[33mcommit 708dadc4b40eb5f1124914cb9d56ab62f3f785db[m
Merge: f7cc3eaf 2ae43ce0
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 10:00:41 2016 +0800

    Merge pull request #93 from pingcap/siddontang/raftserver-transport
    
    add Transport to support send msg between peers.

[33mcommit 2ae43ce030eb211e7fde31dd8e037a5217565b29[m
Merge: f34d2d4d f7cc3eaf
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 09:35:23 2016 +0800

    raftserver: merge from master and fix conflict.

[33mcommit f7cc3eafdee6a16d61f32e9ff3605be6676abe68[m
Merge: ea94e5e9 cdb2f509
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 14 09:29:34 2016 +0800

    Merge pull request #92 from pingcap/siddontang/raftserver-store
    
    add base store framework

[33mcommit cdb2f509483989861ed26d34aa486a62db5d8ea1[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 13 19:23:19 2016 +0800

    raftserver: Address comment.

[33mcommit dcf0310f3ee8855e7760b195bb5aa664107e609b[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 13 16:21:08 2016 +0800

    raftserver: supports destroy peer data.

[33mcommit 7a3da279d20a5a208a003336c6a9faa7829d5639[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 13 16:15:16 2016 +0800

    raftserver: insert saved peers before store run.

[33mcommit 3daf065cdc93e6314b25f7cca9f676cb8da2c028[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 13 15:49:16 2016 +0800

    raftserver: format code.

[33mcommit 3806598a839ae483284c50ac31de1b166a49cc6c[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 13 15:25:50 2016 +0800

    raftserver: support bootstrap.

[33mcommit 0d26c079c0cb9217f159e42454bd6070656d2f37[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 12 19:42:53 2016 +0800

    raftserver: update region route meta doc.

[33mcommit b8b492dff45d4e34b6f57c21cd56fff746511fec[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 12 11:08:23 2016 +0800

    raftserver: update route meta.

[33mcommit 4b52cc430929b7811be469763c945c60b7d4a3c6[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 12 01:13:17 2016 +0800

    raftserver: first support region route meta.

[33mcommit 55c1458f3c8a4e3b59eba382382e9d7bd56af63d[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Feb 10 15:06:06 2016 +0800

    raftserver: update apply entry

[33mcommit 67c14de16113ee707213eda39f0fbd7ca138e86f[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 9 23:51:22 2016 +0800

    raftserver: add PendingCmd.

[33mcommit 147555ed20fc1c211fca83e8d8345d27ac076914[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Feb 9 23:50:50 2016 +0800

    *: add uuid crate.

[33mcommit 7101bcbf2913f0bb8a86a630ac3327c312724409[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 22:24:25 2016 +0800

    raftserver: try to support handing raft command.

[33mcommit 5fa39fcb92f571fed569afad2509feeaefa15534[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 22:23:09 2016 +0800

    proto: update proto.

[33mcommit ba5fe9bdb5a713df2943ac1e56640aa139b69da6[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 19:07:48 2016 +0800

    raftserver: move bootstrap.

[33mcommit ee887f3cee73ed2707614958eca002ac06d523d0[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 18:53:13 2016 +0800

    raftserver: Address comment.

[33mcommit f34d2d4dfe9a44f3501312ced5d1428133460d7d[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 15:53:38 2016 +0800

    raftserver: add Transport to support send msg between peers.

[33mcommit 3b9fedc2823d797b402afda9e79c7756a52245c6[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 15:52:54 2016 +0800

    raft: public SnapshotStatus.

[33mcommit f20fd1d560a9d3a60d66d915ecfd0f353eeac13e[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 14:27:45 2016 +0800

    proto: update proto.

[33mcommit a599b2ceec08dfbd22dbb32f301e355b8e052f9d[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 13:07:30 2016 +0800

    raftserver: update msg.

[33mcommit 365e0aeee5ece91840158680f8d1454ae1b855f7[m
Merge: 9c01e5df ea94e5e9
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 09:52:06 2016 +0800

    Merge branch 'master' into siddontang/raftserver-store

[33mcommit ea94e5e92151d34137a96c4f934b3c12550eec54[m
Merge: fe9c05a9 00a9bbdf
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 09:50:34 2016 +0800

    Merge pull request #90 from pingcap/siddontang/update-proto
    
    update proto

[33mcommit fe9c05a928bc08f3cff2b96317a9d69fc25d3cd3[m
Merge: 64e16e5f 547e3520
Author: siddontang <siddontang@gmail.com>
Date:   Mon Feb 8 09:50:12 2016 +0800

    Merge pull request #91 from pingcap/siddontang/update-raftserver
    
    raftserver: move some codes to sub server mod.

[33mcommit 9c01e5dfa40faf054084be794fb2caaa3b7ca44a[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 7 19:41:52 2016 +0800

    raftserver: tiny update.

[33mcommit b485e96eaf821b8750470a79ed8c436038b91838[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 6 23:02:42 2016 +0800

    raftserver: add base store framework.

[33mcommit f2ad97a73ce54c626836efcee7c63de2bef68cc8[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 6 23:02:02 2016 +0800

    raft: pub is_empty_snap.

[33mcommit 547e3520cc5f49de8dd8b6a30803f4111207adc5[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 5 22:57:08 2016 +0800

    raftserver: move some codes to sub server mod.

[33mcommit 00a9bbdf7ed3bd5fac278df8ac81d04822fd7cf8[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 7 18:48:45 2016 +0800

    proto: update proto.

[33mcommit de27eca21ee04d1b21e3d902a16df37fb309f336[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 7 15:34:00 2016 +0800

    proto: update proto.

[33mcommit 64e16e5f46361071736dff587005662d62f660d9[m
Merge: 5b1ad8b6 8f08619e
Author: siddontang <siddontang@gmail.com>
Date:   Sun Feb 7 09:23:22 2016 +0800

    Merge pull request #89 from pingcap/siddontang/update-proto
    
    proto: fix typo.

[33mcommit 8f08619ee706d21d3adc5e381095cdebcd381a43[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Feb 6 22:44:10 2016 +0800

    proto: fix typo.

[33mcommit 5b1ad8b6ffb852cfb2a4fbc9d07730206ded3c1e[m
Merge: b5e83f2f b5743f1e
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 5 17:01:36 2016 +0800

    Merge pull request #87 from pingcap/siddontang/update-peerstorage
    
    raftserver: refactor peer storage.

[33mcommit b5743f1e3279314a68c226866a72ee35d24fe472[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 5 16:53:10 2016 +0800

    raftserver: Address comment.

[33mcommit f92b5f8f2784741de70d25c4d4e5bad9dd65cdc1[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 5 16:47:05 2016 +0800

    raftserver: Address comment.

[33mcommit 0adeef008eb982d0d723fd9e95162c3d711a9ee8[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 5 16:42:31 2016 +0800

    raftserver: Address comment.

[33mcommit c368657a895b0b0315fee4d82d6f57fa9bbf2226[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Feb 5 16:23:23 2016 +0800

    raftserver: refactor peer storage.
    
    I will add test after whole base framework finished.

[33mcommit b5e83f2fe0a71aa0053c575bf5bffebcbbca79fb[m
Merge: bee9b031 f460edbf
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Feb 4 20:33:14 2016 +0800

    Merge pull request #86 from pingcap/busyjay/raft-paper-tests
    
    raft: port raft_paper tests

[33mcommit f460edbfa9f0bfc5bef9b33a48d5bf30ea79daaf[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Feb 4 18:26:11 2016 +0800

    Address comment

[33mcommit 9d6fcbea58902a8bf040bd7dfc094c26f3d28344[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Feb 4 18:17:30 2016 +0800

    address comment

[33mcommit 77337a0475cfa0d96a5911329c19e4737780989a[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Feb 4 15:52:07 2016 +0800

    kvrpc: change from level to edge, little refactor

[33mcommit 76bb68c3dd2ca7beb274828abf42e32e13e690e2[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Feb 4 15:21:22 2016 +0800

    kvrpc: add Quit to QueueMessage

[33mcommit dd3904076d7d9695a924c76fb453d98a25a6b185[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Feb 4 14:36:34 2016 +0800

    kvrpc: fix store_test bug, address comment

[33mcommit 15c2562684c552fc2521c2936cff2ed251ba82c1[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Feb 4 12:04:57 2016 +0800

    Address comment

[33mcommit e42c1b468fbd36ec46837d7f16a27a72bb8835ce[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 3 18:16:13 2016 +0800

    port raft_paper tests

[33mcommit bb02c450417cb7afec07ae67518f20407ec8cd00[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Feb 3 18:00:11 2016 +0800

    proto: checkout master protobuf file for avoiding diff

[33mcommit 94f2a7344ed7e99b7c90fe79e9735604f0e7ece2[m
Merge: b4311b2f bee9b031
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Feb 3 17:53:31 2016 +0800

    Merge branch 'master' into morefreeze/rpc

[33mcommit bee9b031846239605028db822ad7829552e7e5d7[m
Merge: a5cf4c7f 35289740
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Wed Feb 3 17:50:33 2016 +0800

    Merge pull request #85 from pingcap/morefreeze/rpc-proto
    
    kvrpc: add proto and generated file

[33mcommit 352897400e749b94699d3ab1519203eb1a442b7a[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Feb 3 17:37:42 2016 +0800

    kvrpc: add proto and generated file

[33mcommit b4311b2f53698203b7cde9d2e6b5dca2337964d8[m
Merge: bfd0f4c7 a5cf4c7f
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Feb 3 17:08:34 2016 +0800

    Merge branch 'master' into morefreeze/rpc

[33mcommit a5cf4c7fa2f9c8e6b1f40cb4ec91ccb63c81ef6c[m
Merge: fd2ebd2f 767a7fe5
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Feb 3 15:08:57 2016 +0800

    Merge pull request #84 from pingcap/busyjay/map_macro
    
    util: Add map macro

[33mcommit 767a7fe540f5b93711c822f7bace29e0937533e0[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Feb 3 13:45:14 2016 +0800

    Add map macro

[33mcommit fd2ebd2f7cb4b6e2183994a353c32b816c2ab70f[m
Merge: 8cadc35e d74baac9
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Feb 2 20:16:45 2016 +0800

    Merge pull request #83 from pingcap/busyjay/raft-snap-control-tests
    
    raft: port raft test part4

[33mcommit d74baac9091cbea2193afb294a386489f5dcddf9[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Feb 2 15:20:42 2016 +0800

    reformat code

[33mcommit 5145f955e130b08783f8487d7b633bc67b09bd87[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Feb 2 15:16:09 2016 +0800

    port raft_flow_control tests

[33mcommit 8cadc35e0e136d3fab9c62a3ae45e6d09ead8877[m
Merge: e8c899aa 8692ae13
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Feb 2 14:53:52 2016 +0800

    Merge pull request #82 from pingcap/ngaut/raft-rusty
    
    raft: Rusty

[33mcommit 0ed3e316401923184e548ac22c0ac85c96378481[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Feb 2 14:42:05 2016 +0800

    port raft_snap tests

[33mcommit 8692ae13d4f2ac2cd5a5b78835733d49ef50ad4a[m
Author: ngaut <ngaut@126.com>
Date:   Tue Feb 2 14:34:42 2016 +0800

    raft: Rusty

[33mcommit e8c899aa8bfc0ca71fd78d1d8ebc6762f5839093[m
Merge: 68a0238c cbc4cd50
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Feb 2 13:39:47 2016 +0800

    Merge pull request #81 from pingcap/busyjay/rawnode-test
    
    raft: port rawnode tests

[33mcommit cbc4cd50ec528ae62ec9031011dd3e4c24103067[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Feb 2 12:38:17 2016 +0800

    address comment

[33mcommit 9e73c6ae8e1630747af3bf14f1c7d3570743cd46[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Feb 2 11:17:52 2016 +0800

    port rawnode tests

[33mcommit 68a0238c48698a1b552617203e2fd057d2f92897[m
Merge: e3b520a9 f2ba5f73
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Feb 1 19:12:46 2016 +0800

    Merge pull request #80 from pingcap/busyjay/raft-test-part3
    
    raft: port raft test part3

[33mcommit bfd0f4c793a39dbde3baf87adc87f67e58a339e8[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Mon Feb 1 17:36:14 2016 +0800

    kvrpc: add debug message

[33mcommit f2ba5f73298f7ed9ecf4aedc2a420e0face0ec17[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Feb 1 17:16:41 2016 +0800

    address comment

[33mcommit 763b9bba505c4cd129ae6c9be440bd9b83a311f8[m
Merge: c19a0cce e3b520a9
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Feb 1 16:59:28 2016 +0800

    Merge branch 'master' into busyjay/raft-test-part3

[33mcommit e3b520a94f072886f2e9b909b97a0dbb089a165f[m
Merge: 4b6a98bb fcbd598d
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Feb 1 16:44:56 2016 +0800

    Merge pull request #79 from pingcap/busyjay/raft-test-part2
    
    raft: port raft test part2

[33mcommit fcbd598d09014704ad9e431c9a58762d13e5dce2[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Feb 1 16:41:10 2016 +0800

    Address comment

[33mcommit a4ff08218e730ba46232c8728084ccc3c83afef9[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Mon Feb 1 16:31:35 2016 +0800

    kvrpc: add error handling

[33mcommit 0a2ab161a9169d0e93fd2d93343d6784b3ec71f8[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Mon Feb 1 15:46:45 2016 +0800

    kvrpc: add kvserver.rs execution

[33mcommit 0d05a3b1fe5191526801d1a0c4616d99d955baa6[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Feb 1 15:35:08 2016 +0800

    fix format issue

[33mcommit 4b6a98bb47ecba6466a7df45626b8677a6d770f6[m
Merge: bca18196 bbc6dfa7
Author: Jay <busyjaylee@gmail.com>
Date:   Mon Feb 1 15:07:37 2016 +0800

    Merge pull request #76 from pingcap/busyjay/raft-test
    
    raft: port raft test part 1

[33mcommit c19a0cce38328dd74207b3aef2a76fac0a215d2e[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Feb 1 13:38:45 2016 +0800

    port all remaining tests in raft_test and fix bugs

[33mcommit bbc6dfa72cab24ffd3f42ba1e3f50f38b9aba677[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Feb 1 14:08:29 2016 +0800

    Address comment

[33mcommit bca1819612cb45cd23250243d526d06a134809db[m
Merge: 22314ba9 c74643fe
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Feb 1 09:32:55 2016 +0800

    Merge pull request #77 from pingcap/siddontang/pub-rawnode
    
    raft: public for outer use.

[33mcommit 5f59b2d034e879cd2c084e1ac5f0623bf381df08[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sun Jan 31 20:20:11 2016 +0800

    port more tests of raft_test and fix bugs

[33mcommit c74643fe57f2adfc33fc70eca8503538848f6e79[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Jan 31 11:36:14 2016 +0800

    raft: Address comment.

[33mcommit 2e77e25a48e5cd1039d6c6967a9e372a1da79309[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Jan 31 11:26:28 2016 +0800

    raft: public for outer use.

[33mcommit 14d40a8cc845e81d3f6b51a7789563471b077723[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sun Jan 31 00:43:20 2016 +0800

    port more tests and fix bugs

[33mcommit 7fbe3d0d9069a1fa3d751b8d74b341c143472612[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Jan 30 17:01:08 2016 +0800

    address comment

[33mcommit c1f735c9b09739640f3b15d78ff71d37cdecb2bd[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Jan 30 14:55:54 2016 +0800

    change test style of raft.test to integration-style

[33mcommit 0b4888e5b71c8f7b806e03c787bcc85697cf4b4d[m
Merge: 75e722c5 22314ba9
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Jan 30 14:00:12 2016 +0800

    Merge branch 'master' into busyjay/raft-test

[33mcommit 22314ba99cb0a1c812c1c4e85a67d1e67a3ffdcb[m
Merge: 6e4f90bc 46631f8b
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Jan 30 13:55:47 2016 +0800

    Merge pull request #74 from pingcap/busyjay/enable-test-logging
    
    test: enable debug logging

[33mcommit 75e722c5a3e06f9515488eb07829b3174c77827f[m
Merge: 364234b1 cc5d0660
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Jan 30 12:16:49 2016 +0800

    Merge pull request #75 from pingcap/ngaut/raft-test
    
    raft: Merge recent changes of etcd

[33mcommit cc5d066059dbe5171fc415a3bdb376d0b1eb3838[m
Author: ngaut <ngaut@126.com>
Date:   Sat Jan 30 11:24:07 2016 +0800

    Remove get_term method

[33mcommit 417a4c39e3299462f2608a7288e84426c25c6766[m
Author: ngaut <ngaut@126.com>
Date:   Sat Jan 30 10:52:58 2016 +0800

    raft: Merge recent changes of etcd
    
    https://github.com/coreos/etcd/pull/4291/files

[33mcommit 364234b13ad54ad6007bab2c3698f12b60c51516[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Jan 30 01:47:54 2016 +0800

    port more tests

[33mcommit 46631f8bec50429ffe87284a210f241b08c9860b[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Jan 29 22:43:33 2016 +0800

    test: enable debug logging

[33mcommit 41bfabb275c881eff3546870c3e2c0ccf98cb537[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Fri Jan 29 20:00:24 2016 +0800

    kvrpc: refactor kvserver

[33mcommit 6e4f90bc515118adfd2e91a9fec0509a01195100[m
Merge: 8e1bbcf2 0352af97
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 29 18:40:20 2016 +0800

    Merge pull request #73 from pingcap/siddontang/raftserver-store
    
    raftserver: simple rename.

[33mcommit 8e1bbcf28f2af4520a5dc029634327f30ace8d54[m
Merge: 29ed568d 5ea5d403
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jan 29 18:28:55 2016 +0800

    Merge pull request #72 from pingcap/busyjay/rawnode
    
    raft: port rawnode

[33mcommit 0352af9772f1bf526daab6b77bd349bab483eb2d[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 29 16:47:56 2016 +0800

    raftserver: simple rename.

[33mcommit 5ea5d40376b2b52e5ccd0d0ff92ebe8f4c5f4c3a[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Jan 29 15:47:00 2016 +0800

    add mod and fix compile error

[33mcommit e5090fe335df2690fa032a2d93f01d5d3eb309bf[m
Merge: 2c587094 29ed568d
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Jan 29 15:45:14 2016 +0800

    Merge branch 'master' into busyjay/rawnode

[33mcommit 29ed568d976be8d10c7113ca6acc02b8f4d81b6b[m
Merge: 55a8cc55 f7b0250a
Author: Jay <busyjaylee@gmail.com>
Date:   Fri Jan 29 15:40:44 2016 +0800

    Merge pull request #68 from pingcap/busyjay/dev
    
    raft: add steps implementation

[33mcommit f7b0250a21d7e67ac80e191541628991352bab1c[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Jan 29 13:10:51 2016 +0800

    address comment

[33mcommit 55a8cc550f137e70646ce6c6f17f0a41ef984f57[m
Merge: 4cac4ba5 e43f3e8a
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 29 15:19:51 2016 +0800

    Merge pull request #71 from pingcap/siddontang/unify-db-snap
    
    unify db snap

[33mcommit e43f3e8aada8daa57a29d111c5b89697caf9d56a[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 29 14:25:06 2016 +0800

    raftserver: add test.

[33mcommit 18c3975a9da3a4c3faeb058008bfaecd2ea38479[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 29 14:14:09 2016 +0800

    raftserver: Address comment.

[33mcommit c5a9fd893fbcbda8daeb394a3216c34e189f23c7[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 29 13:28:42 2016 +0800

    raftserver: cleanup.

[33mcommit bc683136b7b1d920957c43855199c6aea5d64872[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 29 13:21:22 2016 +0800

    raftserver: unify db and snapshot to simplify code.

[33mcommit ed232fe56a6ca3530e0c1034b63adbb292d37ec8[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Jan 29 11:56:55 2016 +0800

    address comment

[33mcommit 4cac4ba504b497d4f95a1755e509e88ff01fd877[m
Merge: fb74a882 0cf169e4
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 29 11:34:51 2016 +0800

    Merge pull request #70 from pingcap/siddontang/raftserver-store
    
    try to support raft storage first.

[33mcommit 2ee597b157f3a039c7d86cd3fd1d2a0a6e29b951[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Fri Jan 29 11:12:40 2016 +0800

    kvrpc: add prewrite, modify commit for 2PC

[33mcommit 0cf169e4cde2226e7c3d70515ec7bd0d00753b52[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 29 11:04:38 2016 +0800

    raftserver: Address comment.

[33mcommit 0724f4fdd992134a34563311e3ed0b1da14902ed[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 29 10:01:11 2016 +0800

    raftserver: Address comment.

[33mcommit 2c5870948241621322b0774253ed05f1f9f3c819[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Jan 28 20:55:23 2016 +0800

    raft: port rawnode

[33mcommit d5567118395eff491a06c98d2ec99156023b544e[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Jan 28 20:52:32 2016 +0800

    raft: port raft test and fix bugs

[33mcommit f523c86b9027b15cbf602966685b97d8b2b3148f[m
Merge: 880a6ba2 fb74a882
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Jan 28 19:08:47 2016 +0800

    Merge branch 'master' into morefreeze/rpc

[33mcommit 880a6ba2ebd306dd0af75f614fc0946ecda79d8d[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Jan 28 19:06:23 2016 +0800

    kvrpc: add handle commit

[33mcommit fb74a882b57d827381674bdc6ad1c418d4bf9ed8[m
Merge: 08f171dc 9c15e9ca
Author: MoreFreeze <morefreeze@users.noreply.github.com>
Date:   Thu Jan 28 19:05:30 2016 +0800

    Merge pull request #69 from pingcap/disksing/commit-version
    
    storage: refine commit interface to 2PC

[33mcommit 4660247706f7fe35a30c43e008591f04eee1866b[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 28 17:59:28 2016 +0800

    raftserver: Address comment.

[33mcommit 9c15e9cae328fe79e5210c3af7d61e534f892457[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 28 17:55:10 2016 +0800

    *: address comment

[33mcommit 92c9bce577c0c58367741c0cccef00d07caaa93e[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 28 16:20:18 2016 +0800

    storage: refine commit interface to 2PC

[33mcommit d83e9baec6ac1282d2821e7cff73bd5aee9f19d8[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 28 15:17:01 2016 +0800

    *: implement raft Storage.

[33mcommit 66d77fb31c60e5559c14e53f3fa8f57e7b157930[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 28 15:09:56 2016 +0800

    raftserver: try to support raft storage first.

[33mcommit 965b9ba83a30a1e4fb146bc0f2d6f087d8fab773[m
Author: disksing <i@disksing.com>
Date:   Wed Jan 27 13:10:55 2016 +0800

    storage: refine commit interface

[33mcommit 08f171dc2299383c05d55ab7fc2865eda4016e00[m
Merge: d7b6d06f 407882a6
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 28 11:53:34 2016 +0800

    Merge pull request #67 from pingcap/siddontang/update-codec
    
    unity codec

[33mcommit 752c4e5a5e83abc2986ea83a5eff2bd8d73ce1ae[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Jan 28 01:36:27 2016 +0800

    raft: add steps implementation

[33mcommit 407882a6e74bba9ad89716cac87f059ec8afcd04[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 28 09:57:21 2016 +0800

    *: fix compile

[33mcommit 7f441d55eb60570cf7afb41fc01c8989299e4803[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 28 09:55:11 2016 +0800

    codec: move mvcc bytes codec

[33mcommit 1ebe9234a95f01291cefacc9d8cf1b7a0ee62360[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 28 09:33:53 2016 +0800

    codec: rename to rpc.rs

[33mcommit 3233ff05917707112ccd61cb8872bf50935675b8[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Jan 27 21:01:57 2016 +0800

    kvrpc: add handle commit

[33mcommit d7b6d06fd1ab42572e3cc54149249609e3a835ed[m
Merge: a0596cf7 53a21533
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jan 27 20:15:37 2016 +0800

    Merge pull request #66 from pingcap/busyjay/raft-memstorage
    
    raft: make MemStorage thread-safe internally

[33mcommit 53a215339b6057dc284115a05e46efece47a7fc1[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 27 20:10:18 2016 +0800

    Address comment

[33mcommit 6f1d85d57e70265553ef11e6831beb8935964292[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 27 18:34:26 2016 +0800

    raft: make MemStorage thread-safe internally

[33mcommit cab308b99c145e95f27cbc3f1d3469f816919868[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Jan 27 18:31:58 2016 +0800

    kvserver: refactor kvserver only for kvclient, remove rpc/ totally

[33mcommit 1897d13176b27ee27fec88219f38b2b146857300[m
Merge: 6a302f8f a0596cf7
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 27 16:03:29 2016 +0800

    Merge branch 'master' into busyjay/dev

[33mcommit a0596cf7ace1dbcf653a50710af5303d16c816da[m
Merge: 582a422a 3b68a4c8
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jan 27 15:35:12 2016 +0800

    Merge pull request #53 from pingcap/busyjay/raft
    
    raft: port raft part 1

[33mcommit 3b68a4c85f4f6e336af07acee8cd9f82872ed3d6[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 27 15:03:51 2016 +0800

    address comment

[33mcommit 39369e26af7d1fab1dcdaeedeaa28b36d5d7aeef[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 27 14:31:21 2016 +0800

    address comment

[33mcommit 6a302f8f0c1a33db99b2369f35acbf7ceb1d1780[m
Merge: 56ef413d 582a422a
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 27 14:27:24 2016 +0800

    Merge branch 'master' into busyjay/dev

[33mcommit b702af3dea11929eb09697a12d1bc8d63c368fd2[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 27 14:20:11 2016 +0800

    address comment: fix typo and cleanup

[33mcommit 582a422a52d33338937098fd29f8692425b70488[m
Merge: da901af5 b2a97bba
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 27 13:59:55 2016 +0800

    Merge pull request #65 from pingcap/siddontang/update-rafterror
    
    raft: let error other accept more types.

[33mcommit 56ef413d254d41a27decf976dbcbd60b4851158e[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 27 13:54:12 2016 +0800

    address error changed

[33mcommit da901af517f9964e0a21a425b3bfcb790c83ea94[m
Merge: 3aca9d72 5eef4b08
Author: disksing <i@disksing.com>
Date:   Wed Jan 27 13:43:58 2016 +0800

    Merge pull request #62 from pingcap/disksing/std-channel-for-storage
    
    storage: use std::mpsc::channel instead of mio::Eventloop

[33mcommit b2a97bba66a2665f0ac2a25e74c205959e39b9d0[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 27 13:31:48 2016 +0800

    raft: let error other accept more types.

[33mcommit 93e55aab36e150a66eeb42d6c6cc3c316d6b0e09[m
Merge: ba9e1f75 05fe47ec
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 27 13:28:17 2016 +0800

    Merge branch 'master' into busyjay/dev

[33mcommit 3aca9d722f5413fd75524886dc9867051ae3e348[m
Merge: e7fe791e 98a60fcf
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 27 12:48:35 2016 +0800

    Merge pull request #63 from pingcap/siddontang/raftserver-adjust
    
    raftserver: move to sub directory.

[33mcommit e7fe791ee0799b5cf3454d5c16c28572d9327f09[m
Merge: 05fe47ec 49573f21
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 27 12:48:21 2016 +0800

    Merge pull request #61 from pingcap/siddontang/update-proto
    
    proto: unify uint64 for id like raftpb, add some proto.

[33mcommit 05fe47ece46c3cdb149ac600977448c193a6dff2[m
Merge: dc112adf 24ee3475
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jan 27 12:45:02 2016 +0800

    Merge pull request #64 from pingcap/busyjay/add-new-raft-errors
    
    raft: add other error types

[33mcommit 24ee3475ed88d868e91a16f25d1c8e9f8d9a32cf[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 27 12:10:24 2016 +0800

    raft: add other error types

[33mcommit 98a60fcf599865fc3ea446e06f6de9a6019e3f0d[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 27 11:50:15 2016 +0800

    raftserver: move to sub directory.

[33mcommit 5eef4b08557bf0aed974464f772e4159035a8135[m
Author: disksing <i@disksing.com>
Date:   Wed Jan 27 11:18:09 2016 +0800

    storage: use std::mpsc::channel instead of mio::Eventloop

[33mcommit 49573f21b17f85e44f9503fd1e4ee6f9b3474779[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 27 11:05:17 2016 +0800

    proto: unify uint64 for id like raftpb, add some proto.

[33mcommit dc112adfbc5c86140c33c8b824b3d981c49b0c89[m
Merge: aa9f6c25 ec65c21b
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 27 10:55:37 2016 +0800

    Merge pull request #60 from pingcap/siddontang/update-proto
    
    *: unify proto name.

[33mcommit ec65c21be213e859c8d92f239935fa51fd97064c[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 27 10:53:00 2016 +0800

    proto: Address comment.

[33mcommit 6217669e34ceb554cc61296b506c9926b1717dbf[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 27 09:57:11 2016 +0800

    *: Address comment.

[33mcommit aa9f6c25ce0ee6e01c009bce6a6a4e8f92e4d924[m
Merge: 2f509938 16381f16
Author: disksing <i@disksing.com>
Date:   Wed Jan 27 09:55:12 2016 +0800

    Merge pull request #58 from pingcap/disksing/thread-safe-engine
    
    storage: make Engines thread-safe internally.

[33mcommit 2f5099382fa5d889925a7dabcfec2a4cf91705e3[m
Merge: 59e899cc 8e04af6d
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 27 09:09:24 2016 +0800

    Merge pull request #59 from pingcap/siddontang/update-raft
    
    raft: export fields for outer use.

[33mcommit 7a0a7602118b81c116e89b2b3b11c25e373cc6b1[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 27 09:08:31 2016 +0800

    proto: Address comment.

[33mcommit ba9e1f75b75f5b4fe1e17fff945d25e6705f0152[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 27 01:08:08 2016 +0800

    finish porting rawnode

[33mcommit 75a3f50dd6f79b15a7ea34c5a98881086b20eb64[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Jan 26 23:29:34 2016 +0800

    port rawnode

[33mcommit 4e573ef522a659bff86f49adbf96616bb81f2ac4[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 26 20:33:20 2016 +0800

    *: unify proto name.

[33mcommit 8e04af6d342c6eef6cc64eae70c70b743cba76c3[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 26 20:23:49 2016 +0800

    raft: export fields for outer use.

[33mcommit 16381f1663380c4861170a44968e0963059cbaa0[m
Author: disksing <i@disksing.com>
Date:   Tue Jan 26 15:58:28 2016 +0800

    storage: make Engines thread-safe internally.

[33mcommit 5e1cbb2c1b760c9584047f51d2e96abaa4f2f51a[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Jan 26 14:32:50 2016 +0800

    Address comment

[33mcommit db34dcf02dc8925099a992a7e08ad921890e8ce0[m
Merge: 24f3fe04 59e899cc
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Jan 26 14:31:25 2016 +0800

    Merge branch 'master' into busyjay/raft

[33mcommit 59e899cc185cfb02fd5910be45948cf5142d0a8d[m
Merge: 984dc5bb 4f02c855
Author: Jay <busyjaylee@gmail.com>
Date:   Tue Jan 26 13:35:19 2016 +0800

    Merge pull request #57 from pingcap/busyjay/refactor_error
    
    raft: use quick_error

[33mcommit 984dc5bb711b2e6cda57d22032279258001edd07[m
Merge: 5ede2e36 f9ba4db0
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 26 13:20:42 2016 +0800

    Merge pull request #56 from pingcap/siddontang/update-raft
    
    export struct

[33mcommit 4f02c855062681d40ea0226c82e931099c73bf8f[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Jan 26 12:56:50 2016 +0800

    raft: use quick_error

[33mcommit f9ba4db02f344b2a57b71b915c667b79a4704d86[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 26 12:23:24 2016 +0800

    raft: export struct only.

[33mcommit 0e582614189b9689169a6feb1722cb984865c15f[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 26 12:22:12 2016 +0800

    raft: export necessary unit for outer use.

[33mcommit 5ede2e3687e60126cc8f6521776b55ff9d0fd4ab[m
Merge: 1f9b71e1 523c9e99
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 26 11:02:26 2016 +0800

    Merge pull request #55 from pingcap/siddontang/move-rocksdb
    
    *: move rocksdb to lib.rs

[33mcommit 2f6a14eea71db8da26f55232a0c8d63c683b622b[m
Merge: 72263150 1f9b71e1
Author: morefreeze <morefreeze@gmail.com>
Date:   Tue Jan 26 11:00:51 2016 +0800

    Merge branch 'master' into morefreeze/rpc

[33mcommit 72263150c47e6fd271c4e8fc1ce9f2af12741f58[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Tue Jan 26 10:48:06 2016 +0800

    kvrpc: remove del put lock function

[33mcommit 523c9e990b736e101a6c133ccecbdf1a54b61b2b[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 26 10:19:52 2016 +0800

    *: move rocksdb to lib.rs

[33mcommit 1f9b71e1493982555a8479d94df95fbedc990596[m
Merge: c2489e39 40e0dfbe
Author: disksing <i@disksing.com>
Date:   Mon Jan 25 22:39:59 2016 +0800

    Merge pull request #52 from pingcap/disksing/temp-dir
    
    *: introduce crate `tempdir`

[33mcommit 24f3fe042809a839366804693b3b628ae6f10e5b[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Jan 25 18:29:29 2016 +0800

    little clean up
    
    - resolve tick_func and step_func

[33mcommit c2489e398fcd2711553152b6cd5fa720894e4677[m
Merge: 65f58390 1040a517
Author: disksing <i@disksing.com>
Date:   Mon Jan 25 16:24:27 2016 +0800

    Merge pull request #50 from pingcap/disksing/storage-txn
    
    storage: basic transaction support

[33mcommit 1040a51752f6aac2748b731ade43fbea96339fac[m
Author: disksing <i@disksing.com>
Date:   Mon Jan 25 15:22:27 2016 +0800

    *: minor cleanup

[33mcommit df473b598dbc2bb62abb583ed707affe0fe55d28[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Mon Jan 25 14:26:01 2016 +0800

    kvrpc: change field name of kvrpc protobuf

[33mcommit 2bed983535c8ddc3a605ee07ab238cf6c21ef695[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Jan 25 13:38:30 2016 +0800

    port all remain in raft.rs

[33mcommit a2520fc2edf875e5d22adac41fdc93f5fb38fa0e[m
Author: disksing <i@disksing.com>
Date:   Mon Jan 25 11:21:44 2016 +0800

    *: address comments

[33mcommit 40e0dfbe87acdcae4cbb3d5e9e05ff8e14cb6b71[m
Author: disksing <i@disksing.com>
Date:   Mon Jan 25 11:03:06 2016 +0800

    *: introduce crate `tempdir`

[33mcommit 82cf07bb0c795c14b15f941ab78eedd90674a7f3[m
Author: disksing <i@disksing.com>
Date:   Mon Jan 25 10:17:01 2016 +0800

    storage: do not impl Send for Scheduler explicitly

[33mcommit e3430045c2748d936ae9644ea7525c326a519a6f[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Mon Jan 25 01:01:15 2016 +0800

    port more

[33mcommit 65f5839090ddba45bdf2a09d3bea038778fde83e[m
Merge: 8abc974c 786532d3
Author: siddontang <siddontang@gmail.com>
Date:   Sun Jan 24 22:01:10 2016 +0800

    Merge pull request #51 from pingcap/siddontang/raftserver-proto
    
    proto: update proto.

[33mcommit 786532d36819d98094c9ddd89e29902b0374eb2d[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Jan 24 21:16:39 2016 +0800

    proto: Address comment.

[33mcommit eddb1ef5427539a329c76d8ed44fd0ed4cca91e5[m
Author: disksing <i@disksing.com>
Date:   Sun Jan 24 21:03:46 2016 +0800

    *: address comment

[33mcommit d3d6deb976bbf0621002ee9964757e516826681b[m
Author: siddontang <siddontang@gmail.com>
Date:   Sun Jan 24 20:55:58 2016 +0800

    proto: update pronto.

[33mcommit 9ee786b9a06fedea391450de32d5c71801c551d6[m
Author: disksing <i@disksing.com>
Date:   Sun Jan 24 19:24:48 2016 +0800

    *: format code

[33mcommit 57bc1071e820644800590e677b93fc6b4ab548d1[m
Author: disksing <i@disksing.com>
Date:   Sun Jan 24 18:39:55 2016 +0800

    txn: add test

[33mcommit 4b994bcc94dfd183213774a5ab5d13a1e5d8c851[m
Author: disksing <i@disksing.com>
Date:   Sun Jan 24 16:15:09 2016 +0800

    storage: basic txn implement

[33mcommit 5c8875b419528ff9c02b12ec29cd4d4743a68509[m
Author: disksing <i@disksing.com>
Date:   Sun Jan 24 15:00:35 2016 +0800

    mvcc: add last_modify

[33mcommit 2d753b5d519e9591ccc62f7bf6fdbff52a8f689b[m
Author: disksing <i@disksing.com>
Date:   Sun Jan 24 14:25:49 2016 +0800

    storage: refactor

[33mcommit a9fbfc3f5390fb12b26a45a6f6be9518181671ba[m
Author: disksing <i@disksing.com>
Date:   Sun Jan 24 01:25:54 2016 +0800

    *: split mods

[33mcommit ded510f0a5147be93bd74a9c510d5d030432ba89[m
Author: disksing <i@disksing.com>
Date:   Sat Jan 23 20:26:06 2016 +0800

    storage: move commands to txn

[33mcommit 7fdbe448dc209387d877044976bf6f6012f0d5e2[m
Author: disksing <i@disksing.com>
Date:   Sat Jan 23 19:11:18 2016 +0800

    storage: tiny simplify

[33mcommit b3367ba7e0a79634457d7ba00cbc37d4064cc850[m
Author: disksing <i@disksing.com>
Date:   Sat Jan 23 17:55:05 2016 +0800

    storage: use EventLoop and async interface

[33mcommit 8abc974c929f5c8b19fee5afd75643cc491f536e[m
Merge: 1ab5b3a4 657b4533
Author: disksing <i@disksing.com>
Date:   Sun Jan 24 19:05:01 2016 +0800

    Merge pull request #49 from pingcap/disksing/quick-error
    
    storage: use 'quick_error'

[33mcommit 657b453335e87f881e2b90b288853880a493d0f6[m
Author: disksing <i@disksing.com>
Date:   Sun Jan 24 11:03:36 2016 +0800

    *: address comment

[33mcommit 334e63e5d2cca9ac24d6a9b542d7b460d4be6951[m
Author: disksing <i@disksing.com>
Date:   Sun Jan 24 02:01:09 2016 +0800

    storage: use 'quick_error'

[33mcommit 2758782102a9a8d6e8d037b255c178f5cbf74de8[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Jan 22 18:19:30 2016 +0800

    port raft

[33mcommit 75c9a838101f31de39352c420915dfe231a09288[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 20 23:38:14 2016 +0800

    Using dyanmic dispatch

[33mcommit 4de60c7d32922cb7d2728ee65592093d4fd851d7[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 20 23:32:54 2016 +0800

    Implement more

[33mcommit 793a9a669b8cd5a09fd4e8403601169ebafc6d59[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 20 20:27:57 2016 +0800

    Prepare

[33mcommit 1ab5b3a4625fdd509a59e5c22d1ef8e5dbd80138[m
Merge: efbf6353 0f7830e4
Author: Jay <busyjaylee@gmail.com>
Date:   Sat Jan 23 17:38:03 2016 +0800

    Merge pull request #47 from pingcap/busyjay/raft
    
    prepare for raft porting

[33mcommit efbf63537101baa3288842030cdc432f7a743383[m
Merge: 77a21966 d9f2e0cd
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jan 23 17:33:03 2016 +0800

    Merge pull request #48 from pingcap/siddontang/handle-close
    
    add handle_quit interface.

[33mcommit d9f2e0cdef97886490f9079af34a86e84b59c851[m
Merge: fa6b624d 77a21966
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jan 23 17:01:37 2016 +0800

    Merge branch 'master' into siddontang/handle-close

[33mcommit 77a21966b0703a2291273b82dcf7abdf65f9a7c4[m
Merge: 3d9bcee1 adbcc470
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jan 23 16:58:10 2016 +0800

    Merge pull request #46 from pingcap/siddontang/cleanup-register
    
    cleanup register

[33mcommit 0f7830e4d3d8cc18f61565c07b75f4d52b73eb65[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Jan 23 16:48:20 2016 +0800

    address comment: use auto deref coercions

[33mcommit fe911cb8136fae3ba7079836b3c50b7539d493a5[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Jan 23 14:27:26 2016 +0800

    Address comment: wrap storage

[33mcommit adbcc470d9880af27bfdf90bf7c2b56e2570e1a1[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jan 23 13:25:24 2016 +0800

    raftserver: Address comment.

[33mcommit 0b79145949c93531a775d982a1533c9d656bbaed[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jan 23 13:17:23 2016 +0800

    raftserver: Address comment.

[33mcommit 850ec999f6dc3035f69bef96ba806fe16ca92c04[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Sat Jan 23 11:38:59 2016 +0800

    address comment

[33mcommit 91e94d4b22f507442f7d4d4d14aad29caa3ab9e2[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jan 23 11:04:59 2016 +0800

    raftserver: Address comment.

[33mcommit 9d20b49e154a7b388e3087f9e4e55e56aa0525b7[m
Merge: 2abbdedb 3d9bcee1
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jan 23 10:22:15 2016 +0800

    Merge branch 'master' into siddontang/cleanup-register

[33mcommit 3d9bcee10dea28b18355c315177dc2b4b5297e20[m
Merge: 6f10d251 278f221e
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jan 23 10:20:31 2016 +0800

    Merge pull request #45 from pingcap/siddontang/cleanup-raftserver
    
    cleanup raftserver

[33mcommit 65531d1b69267b00d90c2e45229e4c7ccfcd0b9f[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Jan 22 20:21:39 2016 +0800

    address comment

[33mcommit f84e5f8b811fa72bf72993c8e4bad4b1651aa98a[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Fri Jan 22 18:18:53 2016 +0800

    prepare for raft porting

[33mcommit 2abbdedb8497b5eb5595a28a9afbf22fe094c224[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 22 15:02:25 2016 +0800

    raftserver: reduce register writeable rate.
    
    For epoll, calling epoll_ctrl to add writable flag frequently is bad
    for performance.

[33mcommit f1b775c4888666d2fc913ac9e9ca6dafaced8a0f[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 22 14:45:37 2016 +0800

    raftserver: register hub and fix typo.

[33mcommit fa6b624d2dfed13051d087bd29eecd08c4dcb0d6[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 22 11:28:25 2016 +0800

    raftserver: ServerHandler adds handle_quit.

[33mcommit 78da21007d0fbe127e20bf9c24a385e380cc3b73[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 22 10:32:14 2016 +0800

    raftserver: remove conn when read/write error.

[33mcommit 32861cd3750bf7a524cea05a89b628eef70721f2[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 22 09:59:52 2016 +0800

    raftserver: simple rename.

[33mcommit de4476c159a20b24ba3aa8e8ce77e5ce1b1bfe96[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 22 09:00:56 2016 +0800

    raftserver: remove oneshot epoll flag.

[33mcommit 278f221e6a7ac18ec793ef76820d882a4395bb8f[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 21 21:12:03 2016 +0800

    raftserver: add peer test.

[33mcommit e4de80c16d4a26b6a98261cd7f7262de0d13dae3[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 21 21:05:34 2016 +0800

    raftserver: Address comment.

[33mcommit 6f10d25119a51919036607cb41343d19a303f2ca[m
Merge: dddc88cc 9a31845f
Author: Jay <busyjaylee@gmail.com>
Date:   Thu Jan 21 17:19:02 2016 +0800

    Merge pull request #44 from pingcap/busyjay/raft_panic_test_porting
    
    port all remaining raft_log_tests

[33mcommit 9a31845fd44ac2ae3cf7aadaac7d0e255ec5b5c8[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Jan 21 17:10:05 2016 +0800

    Address comment

[33mcommit dddc88cc70d927c778fab69f1a2bd2765e71921c[m
Merge: fcab78c1 af852c14
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 21 16:48:29 2016 +0800

    Merge pull request #42 from pingcap/siddontang/send-peer
    
    support sending data to remote peer.

[33mcommit af852c1469633557c980e06453dee29e582e929d[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 21 16:22:46 2016 +0800

    raftserver: Address comment.

[33mcommit 8762bb245dc475b1b8429b953f43b8bdcc924c39[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Jan 21 16:17:18 2016 +0800

    raft: change slice return type

[33mcommit 714476d8047ecefa5fac30a77dacf82c481dfd74[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Thu Jan 21 15:50:42 2016 +0800

    port all remaining raft_log_tests

[33mcommit 82fb37ec79d35c164490271da03c632d69e03c59[m
Merge: 328e899a fcab78c1
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 21 14:51:42 2016 +0800

    Merge branch 'master' into siddontang/send-peer

[33mcommit fcab78c182c7041b994f92f85ec2c9ff4122b8eb[m
Merge: 0899bc35 702d13ee
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 21 14:50:10 2016 +0800

    Merge pull request #41 from pingcap/siddontang/update-enum-msg
    
    raftserver: simplify and cleanup

[33mcommit 328e899a8c9b49718164e79e6919d42114da7e1e[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 21 14:26:09 2016 +0800

    raftserver: use 1 for server token, 0 is invalid.
    
    see
    https://github.com/hjr3/mob/blob/multi-echo-blog-post/src/main.rs#L111

[33mcommit e688bda4b7f94d81e17afad3e5d9f06c4ec6d83a[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 21 13:50:37 2016 +0800

    raftserver: use reregister

[33mcommit 9a10df73239a06426c33f9c08574d59eb8dc557a[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 21 10:52:08 2016 +0800

    raftserver: support send data to remote peer.

[33mcommit 0899bc3564f9978d4090225f7360ae0df965975d[m
Merge: ed198ba9 2cc7232a
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jan 20 21:16:57 2016 +0800

    Merge pull request #40 from pingcap/busyjay/raft_non_panic_test_porting
    
    porting non panic-required tests from upstream

[33mcommit 702d13ee1c0c3fa943cd664b2131c8027db6e29a[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 20 20:16:28 2016 +0800

    raftserver: simplify and cleanup
    
    + simplify msg enum, define struct in enum directly.
    + append write buf after read handled, no need using sender to notify.

[33mcommit 90d5a917d7534bf5e30116c990d9d6fb8f7e5b4e[m
Merge: 93aeb9c6 ed198ba9
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Jan 20 19:05:37 2016 +0800

    Merge branch 'master' into morefreeze/rpc

[33mcommit 2cc7232abf3c318e18ffc33043f12fe825e16e00[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 20 16:57:24 2016 +0800

    porting non panic required tests from upstream

[33mcommit ed198ba9fbd3a04646aee1459e3350cd1d1863f5[m
Merge: 05fd6ba9 1d6b7c8a
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Jan 20 14:38:15 2016 +0800

    Merge pull request #38 from pingcap/ngaut/raft
    
    raft: Add implementation of progress.

[33mcommit 1d6b7c8a780117eb618f179a61dea7f69b6808ad[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 20 14:36:42 2016 +0800

    Fix free_first_one

[33mcommit 506cdc1048fe9790a6668ed147f940b7d4d683e2[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 20 14:23:36 2016 +0800

    Address comments

[33mcommit fbfe83ada309a1b002bf4d6a2bee2c571c0d5e1a[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 20 13:59:04 2016 +0800

    Address comments

[33mcommit 80707cc8354793a2dd58cafd06412cb26080c407[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 20 13:42:00 2016 +0800

    Add more comments and misc methods

[33mcommit c5f74f6d236d3daa1be89b32d6cedb18926d1b38[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 20 13:34:02 2016 +0800

    raft: Add implementation of progress.

[33mcommit 05fd6ba9cfae456885d12a5aa673c52c3942d422[m
Merge: 90716493 4c94ca14
Author: Jay <busyjaylee@gmail.com>
Date:   Wed Jan 20 14:25:11 2016 +0800

    Merge pull request #34 from pingcap/busyjay/raft_test_porting
    
    raft: port partial tests from upstream

[33mcommit 4c94ca145aa2cefea402f2f74f759388d58da8b6[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 20 14:09:43 2016 +0800

    Address comment: assert_eq!

[33mcommit 90716493b41e9e589d79db16f676c348bc15b78a[m
Merge: 4a9c9f0c b990449e
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 20 14:03:57 2016 +0800

    Merge pull request #37 from pingcap/siddontang/update-notify
    
    raftserver: retry send when notify queue full.

[33mcommit 4a9c9f0c0cfcabbb9c6d5569a1cd839ae8039549[m
Merge: b1c5e0a1 9baa5a01
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 20 14:03:36 2016 +0800

    Merge pull request #39 from pingcap/siddontang/update-raftserver
    
    raftserver: use front_mut instead of pop first.

[33mcommit 9baa5a01a2ac99dbfb6892936d04348a841ed897[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 20 13:50:23 2016 +0800

    raftserver: use front_mut instead of pop first.
    
    if we pop first and write failed, we can retry writing this buffer
    never.

[33mcommit b990449eb7d1f6fd0ec66f3007cdb39fe96b75dd[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 20 13:24:07 2016 +0800

    raftserver: Address comment.

[33mcommit 8872f9e2d6df37e97f662e503ea39896202ef7eb[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 20 13:16:41 2016 +0800

    raftserver: retry send when notify queue full.

[33mcommit 4687425e7d64e9057001e4d7a2a089abf3b23a2f[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 20 12:57:52 2016 +0800

    address comment: assert!

[33mcommit f206b57f28f03b2997499d377fccf25a8690dc81[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 20 11:58:33 2016 +0800

    address comment: drain

[33mcommit 4fa1b4bce86cda01726f7d081775cf967495193b[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Wed Jan 20 10:38:15 2016 +0800

    Address comment

[33mcommit 22051dce4a14b291148e501adb1d81427c2a6675[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Jan 19 19:01:41 2016 +0800

    address comment
    
    - diff => is_diff

[33mcommit a332eed0756ed56f00ef549963bac1ea881a0b1f[m
Author: Jay Lee <busyjaylee@gmail.com>
Date:   Tue Jan 19 18:32:20 2016 +0800

    port partial tests from upstream

[33mcommit b1c5e0a1cbb31ff0b7e38894820cc3060f22a084[m
Merge: 222c2896 ea0bb82f
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Jan 20 12:43:23 2016 +0800

    Merge pull request #36 from pingcap/disksing/ignore-target
    
    *: ignore target files

[33mcommit ea0bb82f8bb6f0752561395d980b3abf217636a5[m
Author: disksing <i@disksing.com>
Date:   Wed Jan 20 12:26:07 2016 +0800

    *: ignore target files

[33mcommit 222c28966238fd27deb5999d3a5a5191b6786358[m
Merge: 1432e071 a77211f7
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 20 12:14:33 2016 +0800

    Merge pull request #33 from pingcap/siddontang/refactor-raftserver-msg
    
    refactor raftserver msg

[33mcommit a77211f70dfed5a47fe53e134dcca6e6dbfa42ba[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 20 12:10:44 2016 +0800

    raftserver: Address comment.

[33mcommit 72396e7194ed38ecdd711e281700c1a09b96ff8b[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 20 11:51:10 2016 +0800

    raftserver: Address comment.

[33mcommit 7de3165e4ca0f2abea293eb9b0f2ff95cf88eddf[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 20 11:43:45 2016 +0800

    raftserver: Address comment.

[33mcommit 93aeb9c65f101745890cfe48e3733f9b8b6106f8[m
Merge: 6560f91c 1432e071
Author: morefreeze <morefreeze@gmail.com>
Date:   Wed Jan 20 10:58:32 2016 +0800

    Merge branch 'master' into morefreeze/rpc

[33mcommit 407587440ae1715b03fa61d77b7fc1c12ffe434d[m
Author: siddontang <siddontang@gmail.com>
Date:   Wed Jan 20 10:42:03 2016 +0800

    raftserver: rename register -> reregister

[33mcommit 1432e07159c9b6f52e8ff40a4e0807940ffd9b00[m
Merge: 1a08bbeb 3c7e80ba
Author: disksing <i@disksing.com>
Date:   Wed Jan 20 10:30:35 2016 +0800

    Merge pull request #35 from pingcap/ngaut/gitattr
    
    *: Treat files that generated by protocol buffer as binary

[33mcommit 3c7e80bab74a5753d3dccf762500f42cc93a9e9c[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 20 10:26:17 2016 +0800

    Address comments

[33mcommit e3ddd15ec4998ec466e97e7342093c7754cc336e[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 20 10:20:09 2016 +0800

    Fill .gitignore

[33mcommit 6755bd00a2e807bc95d91fa6a98c82ffa931d4a0[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 20 10:15:11 2016 +0800

    Treat files that generated by protocol buffer as binary

[33mcommit 2705f0d70a452e2aff0d56c4f1913e22931c6835[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 21:37:05 2016 +0800

    raftserver: Address comment.

[33mcommit 4829f9e59439d7ae4542c184d3ca7aeb6dbe86e6[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 21:19:40 2016 +0800

    raftserver: format code.

[33mcommit 23097460c9d9c3f48c4ea6ee94157f826af3bb39[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 21:15:49 2016 +0800

    raftserver: Address comment.

[33mcommit a1714a214fe34e7477290ce51021f94553f3f69a[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 19:17:01 2016 +0800

    raftserver: format code.

[33mcommit cde1296e4828f7de6c1a92458a5cab0b0b0c1cb9[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 19:16:51 2016 +0800

    *: add bench test.

[33mcommit 6560f91cb1455e2dc577dfa9d029f535b5d987cf[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Tue Jan 19 19:02:04 2016 +0800

    kvrpc: tiny fix

[33mcommit e3e3bf02e550efc6343f8d1c4ec54e193de2523b[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 17:58:08 2016 +0800

    raftserver: Address comment.

[33mcommit 5e037b35ff6de7a722d730aaad31a104aa8cda7d[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 17:45:14 2016 +0800

    raftserver: Address comment.

[33mcommit efc81fd1b2d5af5df7a7810686953575ee5efbf1[m
Merge: ab3320e0 1a08bbeb
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 16:47:28 2016 +0800

    Merge branch 'master' into siddontang/refactor-raftserver-msg

[33mcommit ab3320e0563a94550d0df4acbb2980417dc5f538[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 16:47:13 2016 +0800

    *: define special timer msg for timer use.

[33mcommit 1a08bbebb1e673bf202d91cd4bdc6c77dd3c9f05[m
Merge: 8b041692 b2d89ec9
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Jan 19 15:25:06 2016 +0800

    Merge pull request #29 from pingcap/siddontang/raftserver
    
    add base raftserver support.

[33mcommit b2d89ec90825b5a817a2a33dd90fda37b26d8380[m
Merge: f4b6fb95 8b041692
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 14:36:26 2016 +0800

    *: merge master and fix conflict.

[33mcommit f4b6fb9578966127f5ce313a565608b6ceac32a2[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 14:34:30 2016 +0800

    raftserver: Address comment.

[33mcommit 8b0416929ca1db9eae137b09afbc8aa3a5f8c873[m
Merge: da2edacd e0cd39bb
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Jan 19 14:20:52 2016 +0800

    Merge pull request #31 from pingcap/siddontang/update-proto
    
    proto: skip proto source file.

[33mcommit e0cd39bb580409c06497ecea20c1018ffad0651b[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 13:21:29 2016 +0800

    proto: skip proto source file.

[33mcommit 125473efa3672f958f2112a4398ab5b44e1dee75[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Tue Jan 19 13:09:27 2016 +0800

    kvrpc: update proto naming

[33mcommit 0394c3dec245cfb39e679c101d792f210cfb89f9[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Tue Jan 19 11:04:36 2016 +0800

    kvrpc: tiny fix

[33mcommit 86c35fa7591c4a0ec46ce1988839511c13264962[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Jan 14 20:19:58 2016 +0800

    rpc: change kvserver protobuf name

[33mcommit c712025c1834e32128113d4113eb52dd0d340845[m
Author: morefreeze <morefreeze@gmail.com>
Date:   Thu Jan 14 20:19:58 2016 +0800

    rpc: add rpc framework, add simple foo message

[33mcommit 4b406135eb5c44ab2e554027e7fd12fb3016c215[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 12 18:31:53 2016 +0800

    kvserver: support mutable

[33mcommit 69b1c7fe422cec285b010b37004aaae224dcb723[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 12 18:27:16 2016 +0800

    *: add kvserver , only for test.

[33mcommit da2edacd661b3c5f74cb25be6ceaff0b0b33517e[m
Merge: 16f88d6e 888c0b68
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Tue Jan 19 10:44:25 2016 +0800

    Merge pull request #28 from pingcap/siddontang/update-proto
    
    proto: update raft server proto.

[33mcommit 16f88d6ebe82b6398d13d943eac5a265748da9ea[m
Merge: b766a1f9 6ce2eaa1
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 10:41:43 2016 +0800

    Merge pull request #27 from pingcap/siddontang/update-codec
    
    refactor and simplify it.

[33mcommit 6ce2eaa1c78a0d8991c854e87d55deeef26c2e33[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 10:36:54 2016 +0800

    codec: Address comment.

[33mcommit d2de17787418a390e2ad97142481792d93935897[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 19 10:14:15 2016 +0800

    raftserver: use enum to simply msg.

[33mcommit b766a1f92577fb6e3f1fe7ca1ebf4b950a282174[m
Merge: 064efa5d 894699b7
Author: disksing <i@disksing.com>
Date:   Tue Jan 19 09:54:40 2016 +0800

    Merge pull request #24 from pingcap/disksing/mvcc-tests
    
    storage: add tests

[33mcommit b92f5435f344af7244b6c83987b69cd6563254c2[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jan 18 21:40:48 2016 +0800

    *: support timer.

[33mcommit 064efa5d13da26266be886b6eea788bd43197923[m
Merge: 67de5ede f45d22a7
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Jan 18 21:25:00 2016 +0800

    Merge pull request #26 from pingcap/ngaut/raft
    
    raft: Add raft-log implemention

[33mcommit f45d22a7574c4de73f9f84e6e10ce2db1799200e[m
Author: ngaut <ngaut@126.com>
Date:   Mon Jan 18 21:17:26 2016 +0800

    Address comments

[33mcommit 894699b7850c9c5e59eb9f0850b2afcdf451dd6c[m
Author: disksing <i@disksing.com>
Date:   Mon Jan 18 21:04:22 2016 +0800

    *: address comment

[33mcommit 36affbdfe593bc358537a6d96796a052db6fe4b9[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jan 18 16:15:32 2016 +0800

    raftserver: support raft interval tick.

[33mcommit 5d8afaa303becce75af3585914f024d0748b805e[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jan 18 12:39:40 2016 +0800

    *: support timer

[33mcommit 045843fb434cbea85adc538b56e32c1086ca6cc2[m
Author: ngaut <ngaut@126.com>
Date:   Mon Jan 18 10:43:07 2016 +0800

    typo

[33mcommit 1a6b26390f2044a61193bd65be88fe7b86fa8637[m
Author: disksing <i@disksing.com>
Date:   Mon Jan 18 10:32:53 2016 +0800

    *: address comment

[33mcommit f06a88d3d4b9fd752a0128767e07d8488c4cc53b[m
Author: ngaut <ngaut@126.com>
Date:   Mon Jan 18 10:31:21 2016 +0800

    Clean up

[33mcommit e45e20af8e460ebb2a78f2c30273e96f4cc697a4[m
Author: disksing <i@disksing.com>
Date:   Mon Jan 18 10:25:16 2016 +0800

    *: address comment

[33mcommit 607e9af1d8a4434a0159f0d2990f62595721f5f8[m
Author: ngaut <ngaut@126.com>
Date:   Mon Jan 18 10:25:08 2016 +0800

    Tiny clean up

[33mcommit 2da109f9cd914c36cf7954881d9ade7c1663436e[m
Author: ngaut <ngaut@126.com>
Date:   Mon Jan 18 10:17:31 2016 +0800

    raft: Address comments

[33mcommit ba89ab37067a3b783ff8894a79e446a224e9744d[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jan 18 10:04:40 2016 +0800

    *: support base raft server.

[33mcommit 888c0b682714d808556665f67312879fbe1902ed[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jan 18 08:27:09 2016 +0800

    proto: update raft server proto.

[33mcommit 81f3ed6bdd7cdf85270237cc174c6e47cacd3125[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jan 18 08:22:00 2016 +0800

    codec: refactor and simplify it.

[33mcommit 496cc245a8f395e5c5bef6cc6b1218fd6c69f022[m
Author: ngaut <ngaut@126.com>
Date:   Sun Jan 17 18:57:51 2016 +0800

    raft: Finish porting of raft_log

[33mcommit 4b704f1cda801172a9920fab69ea1b4eef50fd20[m
Author: ngaut <ngaut@126.com>
Date:   Sat Jan 16 20:58:38 2016 +0800

    raft: Implement more raft-log methods

[33mcommit 0a5d1eaa8d0f290ca24820df368312e0b340bc99[m
Author: ngaut <ngaut@126.com>
Date:   Fri Jan 15 21:43:36 2016 +0800

    raft: Add raft-log implemention

[33mcommit 7208482a4251055cfffdc7481d8833c9ccd84202[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 14 17:08:19 2016 +0800

    raft: implement raft-log

[33mcommit 67de5ede81357c174b30fd2c718de988491f41c3[m
Merge: 17038336 2eff482e
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Sat Jan 16 21:00:22 2016 +0800

    Merge pull request #25 from pingcap/siddontang/test-backtrace
    
    print backtrace for panic test.

[33mcommit 2eff482eb7546056fa9c17d0a575bb2127f1db2f[m
Author: siddontang <siddontang@gmail.com>
Date:   Sat Jan 16 20:18:38 2016 +0800

    print backtrace for panic test.

[33mcommit 19e7c3cbeb6abd02cd27ee7e521b092bae9dd1c4[m
Author: disksing <i@disksing.com>
Date:   Fri Jan 15 17:27:25 2016 +0800

    mvcc: add scan bench

[33mcommit 2b38cb7c28776a9c8abe20ee6c272f64619c9ddb[m
Author: disksing <i@disksing.com>
Date:   Fri Jan 15 10:56:25 2016 +0800

    storage: add tests

[33mcommit ede0779b62859dbe7a3df1219bebf88ff072823d[m
Author: disksing <i@disksing.com>
Date:   Wed Jan 13 20:11:30 2016 +0800

    storage: add tests, make decode more strict

[33mcommit 1703833625df010be432a4c6ec5f7a58bbdaec8a[m
Merge: 91e4765a 532d7bba
Author: disksing <i@disksing.com>
Date:   Fri Jan 15 10:54:26 2016 +0800

    Merge pull request #23 from pingcap/disksing/mvcc-refactor
    
    storage: refactor, make 'mvcc' an extend Trait for 'Engine'

[33mcommit 532d7bba09dbf4e2929c672532687e11c805d790[m
Author: disksing <i@disksing.com>
Date:   Fri Jan 15 10:26:11 2016 +0800

    storage: address comment

[33mcommit 566439a35e05a63eaaa087632c5b95b509ac6920[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 14 21:15:42 2016 +0800

    storage: simplify engine test as well

[33mcommit 1f72b412a8630f4b39d11d9f6f974349a7ec80b3[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 14 20:45:21 2016 +0800

    storage: refactor, make 'mvcc' an extend Trait for 'Engine'

[33mcommit 91e4765aba0656020dc151a5ffb58679c0b0a41f[m
Merge: 2f5a5ef5 0aa6a592
Author: disksing <i@disksing.com>
Date:   Thu Jan 14 16:08:54 2016 +0800

    Merge pull request #19 from pingcap/disksing/mvcc-scan
    
    mvcc: implement scan

[33mcommit 2f5a5ef50053a9ac855c4c247a7bf5d329b77449[m
Merge: 9c881dac d7290568
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jan 14 15:51:29 2016 +0800

    Merge pull request #22 from pingcap/siddontang/update-proto
    
    update proto

[33mcommit 0aa6a592b7e1cc4a792ebda9dd41ff18c9566f45[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 14 15:46:14 2016 +0800

    *: address comment

[33mcommit d72905684696fe363b366fc5e02f764134b8031e[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 14 15:03:03 2016 +0800

    proto: add raft server proto.

[33mcommit 48d769f09c1996642d9e4dc9fc41a9ca9ae5582a[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 14 14:54:49 2016 +0800

    *: put all proto files in proto.

[33mcommit 9c881dac39eaa6bf2002317c8f26f40add5fa711[m
Merge: 906380a5 9662e293
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jan 14 14:38:24 2016 +0800

    Merge pull request #20 from pingcap/ngaut/raft
    
    raft: Clean up tests

[33mcommit 9662e29392189e5c2d2500f0d302c291e58e26bf[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 14 14:04:56 2016 +0800

    Tiny clean up

[33mcommit 7816ce62637b79eeb0950f887e7889d951af6754[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 14 14:02:00 2016 +0800

    Address comments

[33mcommit d0b2bdbd1b6f97c1a1e9fce9b5210e3018aadea6[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 14 13:56:20 2016 +0800

    Finish tests for log_unstable

[33mcommit ef09f1bb63920ee3065d1aa8ba0748592f59ab60[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 14 12:28:55 2016 +0800

    raft: Add more tests to log_unstable

[33mcommit 6b083170b5c38b10d456606065cbde826a871703[m
Merge: 23569dc5 906380a5
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 14 10:32:10 2016 +0800

    Merge remote-tracking branch 'origin/master' into raft-log

[33mcommit a11ee383ba0f2d488cdbd6ba2f9edcf0c43b4732[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 14 09:53:39 2016 +0800

    *: address comment

[33mcommit 906380a5caea38516a246305bec7df25d6a28f18[m
Merge: 18b8636c f9ef3847
Author: disksing <i@disksing.com>
Date:   Thu Jan 14 09:48:49 2016 +0800

    Merge pull request #21 from pingcap/disksing/resolve-warnings
    
    *: resolve warnings

[33mcommit f9ef38473289314f690fd9cd3d94908ab6077d56[m
Author: disksing <i@disksing.com>
Date:   Wed Jan 13 21:21:45 2016 +0800

    *: resolve warnings

[33mcommit 23569dc59fedaaceb7edd0672f19ea74ab0afde6[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 13 21:18:52 2016 +0800

    raft: Clean up tests

[33mcommit 33bd8a21acbe1534916442f3286e62126eea399e[m
Author: disksing <i@disksing.com>
Date:   Wed Jan 13 20:03:19 2016 +0800

    mvcc: implement scan

[33mcommit 18b8636c689ee78b6a1d10c4096cdad3a65bc14b[m
Merge: 25078465 a68247a7
Author: disksing <i@disksing.com>
Date:   Wed Jan 13 19:55:50 2016 +0800

    Merge pull request #16 from pingcap/disksing/mvcc
    
    storage: add mvcc mod

[33mcommit a68247a70a68a2c54192d2dffffcfa529a1e6bb2[m
Author: disksing <i@disksing.com>
Date:   Wed Jan 13 19:54:20 2016 +0800

    mvcc: simplify read_u64

[33mcommit 25078465739d52d83215a077d22a776bd2926546[m
Merge: 2f53b10c d9ab4857
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Wed Jan 13 18:22:23 2016 +0800

    Merge pull request #18 from pingcap/ngaut/raft-memstore
    
    raft: Finish log_unstable model

[33mcommit d9ab48579d92027629199ce227f80e602ffb8300[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 13 17:55:35 2016 +0800

    Address comments

[33mcommit 49e2374beb8433f92100322a97dfceba648b2f52[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 13 17:51:35 2016 +0800

    Tiny clean up

[33mcommit 71dbdbbfcc089f42ab13196a345bae2a5666a013[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 13 17:48:30 2016 +0800

    Address comments

[33mcommit 4ba55b54cd7f758c9398f08571ddec5ddfd545ec[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 13 17:43:37 2016 +0800

    raft: Clean up and add tests

[33mcommit cb642eb4ed3bc5160040f3ed08d2ce53421febf8[m
Author: ngaut <ngaut@126.com>
Date:   Wed Jan 13 15:22:52 2016 +0800

    raft: Finish log_unstable model.

[33mcommit 0204530f7f590255252d58c37b903fe9bf88559b[m
Author: ngaut <ngaut@126.com>
Date:   Tue Jan 12 20:27:40 2016 +0800

    raft: Add log_unstable mod

[33mcommit 7c73336673e354da541849197d75fef8f8bde24c[m
Author: disksing <i@disksing.com>
Date:   Tue Jan 12 17:54:14 2016 +0800

    *: format code

[33mcommit 62b89fb3e14ad88d65baef84f9b4497bd57a8b35[m
Author: disksing <i@disksing.com>
Date:   Tue Jan 12 17:42:51 2016 +0800

    mvcc: address comment, add bench, reduce memory alloc

[33mcommit 2f53b10c4d06db04a6376e2929ceceac99f4fa6a[m
Merge: 34860502 da5f1d06
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 12 16:34:29 2016 +0800

    Merge pull request #17 from pingcap/siddontang/update-codec
    
    refactor codec

[33mcommit da5f1d06881ae95d9cd69b326ece8573a7fb06ae[m
Author: siddontang <siddontang@gmail.com>
Date:   Tue Jan 12 16:10:19 2016 +0800

    *: refactor codec

[33mcommit ab055584f35dcb57793eb8528fabea0faee6d49b[m
Author: disksing <i@disksing.com>
Date:   Tue Jan 12 15:54:32 2016 +0800

    mvcc: add test

[33mcommit cb5996d145a3de6687a8efbb9437806d9346da22[m
Author: disksing <i@disksing.com>
Date:   Tue Jan 12 15:41:41 2016 +0800

    mvcc: add delete & clean-ups

[33mcommit 475fa8b7f95c68619da7d1f3b66e438222e6f823[m
Author: disksing <i@disksing.com>
Date:   Tue Jan 12 12:40:57 2016 +0800

    storage: mvcc

[33mcommit e27fabb135bc902e7ed88e6f3a203cf047dc10c3[m
Author: disksing <i@disksing.com>
Date:   Mon Jan 11 18:27:03 2016 +0800

    mvcc: codec

[33mcommit 186d6c6a57c19d8840b657d7981926f7d5f50934[m
Author: disksing <i@disksing.com>
Date:   Mon Jan 11 16:48:14 2016 +0800

    mvcc: meta

[33mcommit 348605021e9673353662b24d71b6dd8cf0b1d181[m
Merge: 54e3e53d 0fbd4bcc
Author: disksing <i@disksing.com>
Date:   Tue Jan 12 15:05:01 2016 +0800

    Merge pull request #9 from pingcap/disksing/storage-engine
    
    storage: local storage engine

[33mcommit 0fbd4bcc7d95218200867e74596681e34a42ca47[m
Author: disksing <i@disksing.com>
Date:   Tue Jan 12 15:04:02 2016 +0800

    *: rename Descriptor -> Dsn

[33mcommit 5348f46c5a8078d881ae85cab3dbb07d6a14a68b[m
Author: disksing <i@disksing.com>
Date:   Tue Jan 12 13:19:24 2016 +0800

    *: address comment

[33mcommit 5ab7ab555abe5395706d25c1d6079d1812380ca4[m
Merge: cf749125 54e3e53d
Author: disksing <i@disksing.com>
Date:   Mon Jan 11 18:28:26 2016 +0800

    Merge branch 'master' into disksing/storage-engine
    
    Conflicts:
            Cargo.toml

[33mcommit 54e3e53db9996e73a4f39a7a6a97f1f6932cc759[m
Merge: 12c002ad a17bc9b3
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Jan 11 18:20:43 2016 +0800

    Merge pull request #14 from pingcap/ngaut/raft-memstore
    
    raft: Implement more methods

[33mcommit a17bc9b35405c64c424b35ca8065e3adc29dbf3f[m
Author: ngaut <ngaut@126.com>
Date:   Mon Jan 11 18:19:31 2016 +0800

    Address comments

[33mcommit 5479478a9fd7aea1b661ec632750bb5f646c4ab2[m
Merge: 0a1e5a17 12c002ad
Author: ngaut <ngaut@126.com>
Date:   Mon Jan 11 16:55:56 2016 +0800

    Resolve merge conflict

[33mcommit 0a1e5a17bd0dedd00e85313b6af083ee280b3979[m
Author: ngaut <ngaut@126.com>
Date:   Mon Jan 11 16:46:26 2016 +0800

    Implement compact and append methods

[33mcommit cf749125cfbb79c07e4c920705cff53fc2b6251a[m
Author: disksing <i@disksing.com>
Date:   Mon Jan 11 12:44:34 2016 +0800

    update errors

[33mcommit 74b23e3060f7a29d755c306448d25abb451ded0a[m
Merge: 82e8629f 12c002ad
Author: disksing <i@disksing.com>
Date:   Mon Jan 11 11:06:58 2016 +0800

    Merge branch 'master' into disksing/storage-engine
    
    Conflicts:
            Cargo.toml

[33mcommit 98064979d8a30394e6c2053b5e10c034acb09976[m
Author: ngaut <ngaut@126.com>
Date:   Mon Jan 11 11:01:02 2016 +0800

    Add create_snapshot method

[33mcommit 12c002adbf979cb9455a4d13112cd6bc9e62f917[m
Merge: 20cbb93b 2217c9b8
Author: disksing <i@disksing.com>
Date:   Mon Jan 11 10:37:04 2016 +0800

    Merge pull request #13 from pingcap/siddontang/update-error
    
    raft: un-export protobuf error.

[33mcommit 20cbb93b20d37bd0242ee1bcd3034dcfd2a16cb1[m
Merge: c7f244c1 5d9727b1
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Mon Jan 11 10:27:50 2016 +0800

    Merge pull request #15 from pingcap/siddontang/update-make
    
     add nocapture for test

[33mcommit 5d9727b146f913213e073b0423d56d2cf07d66ee[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jan 11 10:21:24 2016 +0800

    *: add nocapture for test

[33mcommit 2217c9b847583e160a5ecf22b8ecacd203e4ef33[m
Author: siddontang <siddontang@gmail.com>
Date:   Mon Jan 11 10:18:20 2016 +0800

    raft: update error

[33mcommit bd5d69fde5aa6db4d76a664a735b2c1e682e2b3b[m
Author: ngaut <ngaut@126.com>
Date:   Sun Jan 10 22:29:10 2016 +0800

    raft: implement apply_snapshot and snapshot method.

[33mcommit fe427100985fbe101895df3a18de7df9a54be05f[m
Author: ngaut <ngaut@126.com>
Date:   Sat Jan 9 18:47:06 2016 +0800

    raft: Extract StorageError

[33mcommit 5c80aa63c6548092caa4dfc6dd9c8bd1d3df7348[m
Author: ngaut <ngaut@126.com>
Date:   Sat Jan 9 17:20:31 2016 +0800

    raft: Implement more.

[33mcommit 95b18006d41f954a8611b9946973865ace13065e[m
Author: ngaut <ngaut@126.com>
Date:   Sat Jan 9 10:23:23 2016 +0800

    Implement more methods

[33mcommit e8a9771edda5a622028f27a41e264b6675c8ff65[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 8 20:28:19 2016 +0800

    raft: Address comment.

[33mcommit 7c2b3e8144a68e69989019ccf595ea530cf0c4c2[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 8 18:33:59 2016 +0800

    raft: un-export protobuf error.

[33mcommit b474cbf9a27d21d8a583e6945a4f5b597b20e2b7[m
Author: ngaut <ngaut@126.com>
Date:   Fri Jan 8 18:05:32 2016 +0800

    raft: Add skeleton for MemStorage

[33mcommit c7f244c13f3f7ee21983a0f2cf139423139a5aaf[m
Merge: 87c04577 92bb43bd
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Jan 8 17:53:03 2016 +0800

    Merge pull request #12 from pingcap/siddontang/rpc
    
    raft: add base codec.

[33mcommit 92bb43bd2357e9a116168b7bdea5e09103d7c086[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 8 17:06:54 2016 +0800

    raft: Address comment.

[33mcommit 6613167720e16254c517ead15bdeb9950062948e[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 8 16:35:35 2016 +0800

    raft: Address comment.

[33mcommit 5b938ffb3aa0302b50eec033c04331bcc67e8852[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 8 15:55:16 2016 +0800

    raft: add base codec.

[33mcommit 87c045772e26ba24bc166294d754c59d8310e9e9[m
Merge: a15f5a6a dc5ca80c
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Jan 8 14:46:29 2016 +0800

    Merge pull request #11 from pingcap/siddontang/update-error
    
    update error

[33mcommit dc5ca80cf073daf35378c95284f504b08af91808[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 8 14:31:36 2016 +0800

    raft: format code.

[33mcommit 6a268d6627edd6e6c5d3b4c3e005489a15b2487b[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 8 14:20:56 2016 +0800

    raft: update error.

[33mcommit 48fe7ba204c3e64835295abea7005eda67dfd92d[m
Author: siddontang <siddontang@gmail.com>
Date:   Fri Jan 8 14:20:22 2016 +0800

    raft: fix compile error

[33mcommit a15f5a6addf5503187a6fb2fd62e88dd645e167a[m
Merge: 98f644b7 8f1d72ac
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Fri Jan 8 13:50:53 2016 +0800

    Merge pull request #10 from pingcap/ngaut/raft-storage-error
    
    raft: Introduce error

[33mcommit 8f1d72ac60215a6ddb2a6df03af5259d7ea65f81[m
Author: ngaut <ngaut@126.com>
Date:   Fri Jan 8 13:49:16 2016 +0800

    Address comments

[33mcommit 1cdb9a23f6298e7303cc263bc35de517b2e2bc6e[m
Author: ngaut <ngaut@126.com>
Date:   Fri Jan 8 13:37:42 2016 +0800

    raft: Introduce error

[33mcommit 82e8629f1501cf3cda8632dc53362c2145589bbe[m
Author: disksing <i@disksing.com>
Date:   Fri Jan 8 12:57:29 2016 +0800

    storage: local storage engine

[33mcommit 98f644b7e583c89c96b47238ac60ccd86c2b70f7[m
Merge: a78f2a0c 4d675202
Author: disksing <i@disksing.com>
Date:   Thu Jan 7 20:06:15 2016 +0800

    Merge pull request #7 from pingcap/disksing/format
    
    *: update format

[33mcommit a78f2a0c602c3e44d6876fdae7e63b1c234371e7[m
Merge: 2e17b55d 630d825b
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jan 7 19:58:30 2016 +0800

    Merge pull request #8 from pingcap/ngaut/storage-skeleton
    
    raft: Add storage trait skeleton

[33mcommit 630d825b84d976e13c399350a2b096fc436c8972[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 7 19:57:44 2016 +0800

    Tiny clean up

[33mcommit 9985dd481a034ca7eda1d09f1aee7377c07936de[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 7 19:50:59 2016 +0800

    Address comments

[33mcommit b638dccb0d5c61a89ce84c363a4c659da4cad428[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 7 19:39:40 2016 +0800

    raft: Add skeleton

[33mcommit 4d6752025c8cb7f9b83a60d78c931789b73b39e2[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 7 16:38:12 2016 +0800

    *: address comment

[33mcommit 2e17b55d7599ba20a0fb53a241f677433656df94[m
Merge: b5ab0728 a38e780b
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jan 7 16:36:21 2016 +0800

    Merge pull request #5 from pingcap/ngaut/rename
    
    *: Rename raft.proto to raftpb.proto

[33mcommit a38e780bbd923f4b02cc98d27d15995a570d5427[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 7 16:34:16 2016 +0800

    raft: Add mod.rs

[33mcommit c2c578db857c30340fb65928058ff4a0552ddb6d[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 7 16:14:33 2016 +0800

    *: update format

[33mcommit 62167353a05408a4879cd3b4b17908c8ae2f94e7[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 7 16:04:16 2016 +0800

    *: Address comments

[33mcommit ffc002a829315c26b6c554e62f44029a627d7fac[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 7 15:53:53 2016 +0800

    *: Rename raft.proto to raftpb.proto

[33mcommit b5ab07287f3932c97a7222a42ff4f17256b83ec2[m
Merge: c9b10c33 657fe2c2
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jan 7 16:00:03 2016 +0800

    Merge pull request #6 from pingcap/disksing/log-crate
    
    *: move main.rs to src/bin/server.rs

[33mcommit c9b10c33ab2a94f816b00c2d093334434daa1082[m
Merge: e9f92dd1 082fe844
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jan 7 15:51:26 2016 +0800

    Merge pull request #4 from pingcap/disksing/log-crate
    
    *: add skeleton files and log library

[33mcommit 657fe2c2db3ac9e1471801c246a716cda2a6fe32[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 7 15:33:26 2016 +0800

    *: address comments

[33mcommit 082fe844eff9a0b931e5d72d18f0313aef9b39af[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 7 14:40:49 2016 +0800

    *: move util.rs to sub directory

[33mcommit 8fa568aaa6e9cb337f3c4e02005459c590d65c58[m
Author: disksing <i@disksing.com>
Date:   Thu Jan 7 13:55:05 2016 +0800

    *: add skeleton files and log library

[33mcommit e9f92dd12e0cd2fcd3be3902f40f5a20033e31a7[m
Merge: c30340ff beed6270
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jan 7 13:34:53 2016 +0800

    Merge pull request #2 from pingcap/ngaut/rename
    
    proto: Rename apply to append

[33mcommit c30340ff15bbcf70dde9d25366bbf21cad65b4e3[m
Merge: e5555343 3b465af7
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jan 7 13:34:31 2016 +0800

    Merge pull request #3 from pingcap/siddontang/cargo-toml
    
    *: add Cargo.toml

[33mcommit 3b465af717eaebfba84bf225314e089b5e55a541[m
Author: siddontang <siddontang@gmail.com>
Date:   Thu Jan 7 13:33:10 2016 +0800

    *: add Cargo.toml

[33mcommit beed627071bad7fe04b1c70d3a0d8e21470b67c9[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 7 13:31:54 2016 +0800

    proto: Rename apply to append

[33mcommit e555534310cd0898218db51645d7a81009fff91e[m
Merge: 5790b58b 8e1f8e7a
Author: goroutine <ngaut@users.noreply.github.com>
Date:   Thu Jan 7 13:29:14 2016 +0800

    Merge pull request #1 from pingcap/ngaut/rename
    
    proto: Don't use short term

[33mcommit 8e1f8e7a73e1108ecb2a0d9060c3e108308c6a56[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 7 13:27:11 2016 +0800

    proto: Don't use short term

[33mcommit 5790b58b61d40d93882b68164b6b0729ba9834b4[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 7 13:18:16 2016 +0800

    *: Move raft to src directory

[33mcommit 9f2b5d8c903124f202737bcea369aa9cda9f27e8[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 7 13:11:21 2016 +0800

    *: Add raft protocol buffers

[33mcommit b56dbe686b83ef6fda592b46c0d03245559a39e7[m
Author: ngaut <ngaut@126.com>
Date:   Thu Jan 7 13:02:04 2016 +0800

    first commit
